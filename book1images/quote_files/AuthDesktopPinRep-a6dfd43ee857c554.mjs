"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[2984,68682,3875,93810,82837,48327,22531,3327,27405,58103,84590,91799,5147],{782677:(e,i,t)=>{function n(e,i){for(var t=0;t<i.length;t++){var n=i[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,i,t){return i&&n(e.prototype,i),t&&n(e,t),e}function l(){return(l=Object.assign||function(e){for(var i=1;i<arguments.length;i++){var t=arguments[i];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}function r(e,i){e.prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i}function o(e){return!!(e&&"function"==typeof e.hasOwnProperty&&(e.hasOwnProperty("__ownerID")||e._map&&e._map.hasOwnProperty("__ownerID")))}function s(e,i,t){return Object.keys(e).reduce(function(i,n){var a=""+n;return i.has(a)?i.set(a,t(i.get(a),e[a])):i},i)}t.d(i,{Fv:()=>f,fK:()=>v});var d=function(){function e(e,i,t){if(void 0===i&&(i={}),void 0===t&&(t={}),!e||"string"!=typeof e)throw Error("Expected a string key for Entity, but found "+e+".");var n=t,a=n.idAttribute,r=void 0===a?"id":a,s=n.mergeStrategy,d=void 0===s?function(e,i){return l({},e,i)}:s,u=n.processStrategy,c=void 0===u?function(e){return l({},e)}:u,p=n.fallbackStrategy;this._key=e,this._getId="function"==typeof r?r:function(e){return o(e)?e.get(r):e[r]},this._idAttribute=r,this._mergeStrategy=d,this._processStrategy=c,this._fallbackStrategy=void 0===p?function(e,i){}:p,this.define(i)}var i=e.prototype;return i.define=function(e){this.schema=Object.keys(e).reduce(function(i,t){var n,a=e[t];return l({},i,((n={})[t]=a,n))},this.schema||{})},i.getId=function(e,i,t){return this._getId(e,i,t)},i.merge=function(e,i){return this._mergeStrategy(e,i)},i.fallback=function(e,i){return this._fallbackStrategy(e,i)},i.normalize=function(e,i,t,n,a,l){var r=this,o=this.getId(e,i,t),s=this.key;if(s in l||(l[s]={}),o in l[s]||(l[s][o]=[]),l[s][o].some(function(i){return i===e}))return o;l[s][o].push(e);var d=this._processStrategy(e,i,t);return Object.keys(this.schema).forEach(function(i){if(d.hasOwnProperty(i)&&"object"==typeof d[i]){var t=r.schema[i],o="function"==typeof t?t(e):t;d[i]=n(d[i],d,i,o,a,l)}}),a(this,d,e,i,t),o},i.denormalize=function(e,i){var t=this;return o(e)?s(this.schema,e,i):(Object.keys(this.schema).forEach(function(n){if(e.hasOwnProperty(n)){var a=t.schema[n];e[n]=i(e[n],a)}}),e)},a(e,[{key:"key",get:function(){return this._key}},{key:"idAttribute",get:function(){return this._idAttribute}}]),e}(),u=function(){function e(e,i){i&&(this._schemaAttribute="string"==typeof i?function(e){return e[i]}:i),this.define(e)}var i=e.prototype;return i.define=function(e){this.schema=e},i.getSchemaAttribute=function(e,i,t){return!this.isSingleSchema&&this._schemaAttribute(e,i,t)},i.inferSchema=function(e,i,t){if(this.isSingleSchema)return this.schema;var n=this.getSchemaAttribute(e,i,t);return this.schema[n]},i.normalizeValue=function(e,i,t,n,a,l){var r=this.inferSchema(e,i,t);if(!r)return e;var o=n(e,i,t,r,a,l);return this.isSingleSchema||null==o?o:{id:o,schema:this.getSchemaAttribute(e,i,t)}},i.denormalizeValue=function(e,i){var t=o(e)?e.get("schema"):e.schema;return this.isSingleSchema||t?i((this.isSingleSchema?void 0:o(e)?e.get("id"):e.id)||e,this.isSingleSchema?this.schema:this.schema[t]):e},a(e,[{key:"isSingleSchema",get:function(){return!this._schemaAttribute}}]),e}(),c=function(e){function i(i,t){if(!t)throw Error('Expected option "schemaAttribute" not found on UnionSchema.');return e.call(this,i,t)||this}r(i,e);var t=i.prototype;return t.normalize=function(e,i,t,n,a,l){return this.normalizeValue(e,i,t,n,a,l)},t.denormalize=function(e,i){return this.denormalizeValue(e,i)},i}(u),p=function(e){function i(){return e.apply(this,arguments)||this}r(i,e);var t=i.prototype;return t.normalize=function(e,i,t,n,a,r){var o=this;return Object.keys(e).reduce(function(i,t,s){var d,u=e[t];return null!=u?l({},i,((d={})[t]=o.normalizeValue(u,e,t,n,a,r),d)):i},{})},t.denormalize=function(e,i){var t=this;return Object.keys(e).reduce(function(n,a){var r,o=e[a];return l({},n,((r={})[a]=t.denormalizeValue(o,i),r))},{})},i}(u),h=function(e){if(Array.isArray(e)&&e.length>1)throw Error("Expected schema definition to be a single schema, but found "+e.length+".");return e[0]},m=function(e){return Array.isArray(e)?e:Object.keys(e).map(function(i){return e[i]})},g=function(e){function i(){return e.apply(this,arguments)||this}r(i,e);var t=i.prototype;return t.normalize=function(e,i,t,n,a,l){var r=this;return m(e).map(function(e,o){return r.normalizeValue(e,i,t,n,a,l)}).filter(function(e){return null!=e})},t.denormalize=function(e,i){var t=this;return e&&e.map?e.map(function(e){return t.denormalizeValue(e,i)}):e},i}(u),y=function(e,i,t,n,a,r,o){var s=l({},i);return Object.keys(e).forEach(function(t){var n=e[t],l="function"==typeof n?n(i):n,d=a(i[t],i,t,l,r,o);null==d?delete s[t]:s[t]=d}),s},_=function(e,i,t){if(o(i))return s(e,i,t);var n=l({},i);return Object.keys(e).forEach(function(i){null!=n[i]&&(n[i]=t(n[i],e[i]))}),n},v={Array:g,Entity:d,Object:function(){function e(e){this.define(e)}var i=e.prototype;return i.define=function(e){this.schema=Object.keys(e).reduce(function(i,t){var n,a=e[t];return l({},i,((n={})[t]=a,n))},this.schema||{})},i.normalize=function(){for(var e=arguments.length,i=Array(e),t=0;t<e;t++)i[t]=arguments[t];return y.apply(void 0,[this.schema].concat(i))},i.denormalize=function(){for(var e=arguments.length,i=Array(e),t=0;t<e;t++)i[t]=arguments[t];return _.apply(void 0,[this.schema].concat(i))},e}(),Union:c,Values:p},f=function(e,i){if(!e||"object"!=typeof e)throw Error('Unexpected input given to normalize. Expected type to be "object", found "'+(null===e?"null":typeof e)+'".');var t={};return{entities:t,result:function e(i,t,n,a,l,r){return"object"==typeof i&&i?"object"!=typeof a||a.normalize&&"function"==typeof a.normalize?a.normalize(i,t,n,e,l,r):(Array.isArray(a)?function(e,i,t,n,a,l,r){return e=h(e),m(i).map(function(i,o){return a(i,t,n,e,l,r)})}:y)(a,i,t,n,e,l,r):i}(e,e,null,i,function(e,i,n,a,l){var r=e.key,o=e.getId(n,a,l);r in t||(t[r]={});var s=t[r][o];s?t[r][o]=e.merge(s,i):t[r][o]=i},{})}}},197974:e=>{var i,t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ActionBar_pin",selections:[{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adDestinationUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsLeadAd",storageKey:null},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[i],storageKey:null},{args:null,kind:"FragmentSpread",name:"SourceLink_pin"},{args:null,kind:"FragmentSpread",name:"OverflowMenu_pin"},{kind:"ClientExtension",selections:[{alias:null,args:null,concreteType:"SaveTarget",kind:"LinkedField",name:"savedInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"localPinId",storageKey:null}],storageKey:null}]}],type:"Pin",abstractKey:null};t.hash="67e4a2db4fac3b338d491f51a226fb34",e.exports=t},580309:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CarouselSlidersForAuthDesktopPinRep_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"CarouselSlidersForAuthDesktopPinRep_pin2"}],type:"Pin",abstractKey:null};i.hash="50119182e972317ede0dc0591d505f38",e.exports=i},366281:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CarouselSlidersForAuthDesktopPinRep_pin2",selections:[{args:null,kind:"FragmentSpread",name:"useLogSwipe_pin"},{args:null,kind:"FragmentSpread",name:"usePinCarouselData_pin"}],type:"Pin",abstractKey:null};i.hash="ee5b8d22ab0a269284c82085df0dffd8",e.exports=i},266643:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ClickthroughLinkNavigateLink_pin",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attributionSourceId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"campaignId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinPromotionId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isThirdPartyAd",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"advertiserId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null}],type:"Pin",abstractKey:null};i.hash="3ece3ad62dc607b53ab474dbe99bd07e",e.exports=i},48607:e=>{var i,t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ClickthroughLink_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"adDestinationUrl",storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[i={alias:"entityId",args:null,kind:"ScalarField",name:"id",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null}],storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isThirdPartyAd",storageKey:null},{args:null,kind:"FragmentSpread",name:"ClickthroughLinkNavigateLink_pin"}],type:"Pin",abstractKey:null};n.hash="4ff80372d4089220e382eadc43c333aa",e.exports=n},465869:e=>{var i,t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ClickthroughOrCloseupLink_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForWebCloseup",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsLeadAd",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:i,storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"ClickthroughOrCloseupLink_pin2"}],type:"Pin",abstractKey:null};t.hash="21e88c754c1f81a9380d1f736cff1c45",e.exports=t},137460:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ClickthroughOrCloseupLink_pin2",selections:[{args:null,kind:"FragmentSpread",name:"ClickthroughLink_pin"},{args:null,kind:"FragmentSpread",name:"CloseupLink_pin"}],type:"Pin",abstractKey:null};i.hash="615f9882daa476fed1e0b9d3038ef0e5",e.exports=i},294103:e=>{var i,t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupLink_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"advertiserId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attributionSourceId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"campaignId",storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[{alias:"entityId",args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinPromotionId",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[i],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsLeadAd",storageKey:null},{alias:null,args:null,concreteType:"PromotedLeadForm",kind:"LinkedField",name:"promotedLeadForm",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"leadFormId",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldOpenInStream",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"}],type:"Pin",abstractKey:null};t.hash="c388a699c12312a570e854dd5c654a90",e.exports=t},269715:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CollageChips_pin",selections:[{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinTagChipImagesPerSpec",kind:"LinkedField",name:"pinTagsChips",plural:!0,selections:[{alias:"entityId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CollageChips_pin2"}],type:"Pin",abstractKey:null};i.hash="f335e27af6b8e65cbc6d635cdc39dce4",e.exports=i},693445:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CollageChips_pin2",selections:[{args:null,kind:"FragmentSpread",name:"CloseupLink_pin"}],type:"Pin",abstractKey:null};i.hash="df1a502b4660ea1f2f0f126f142daec4",e.exports=i},348853:e=>{var i,t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ContextMenuClickthroughLogging_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:i,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:i,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:i,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"}],type:"Pin",abstractKey:null};t.hash="91958ad6d73597b90dd099ea462eb40e",e.exports=t},639920:e=>{var i,t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DebugSignalsFeedback_pin",selections:[{alias:null,args:null,concreteType:"SignalDecisionDict",kind:"LinkedField",name:"debAds",plural:!0,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"backgroundColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"iconUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"signalId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"signalMessage",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"SignalDecisionDict",kind:"LinkedField",name:"debContentQuality",plural:!0,selections:i,storageKey:null},{alias:null,args:null,concreteType:"SignalDecisionDict",kind:"LinkedField",name:"debInclusiveProduct",plural:!0,selections:i,storageKey:null},{alias:null,args:null,concreteType:"SignalDecisionDict",kind:"LinkedField",name:"debShopping",plural:!0,selections:i,storageKey:null},{alias:null,args:null,concreteType:"SignalDecisionDict",kind:"LinkedField",name:"debTrustAndSafety",plural:!0,selections:i,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],type:"Pin",abstractKey:null};t.hash="06530ceab8fc1bb7b5d868c8ffeb2afd",e.exports=t},566416:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DeprecatedCarousel_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{args:null,kind:"FragmentSpread",name:"DeprecatedCarousel_pin2"}],type:"Pin",abstractKey:null};i.hash="32a4849bbdfc8b2b65b08bf4b8c4c887",e.exports=i},76284:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DeprecatedCarousel_pin2",selections:[{args:null,kind:"FragmentSpread",name:"usePinCarouselData_pin"}],type:"Pin",abstractKey:null};i.hash="c13d796babebf5b4a8ad6ebb2b50c324",e.exports=i},320226:e=>{var i,t,n=(t=[i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FooterDefaultContent_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"favoritedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"favoriteUserCount",storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"creator",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sponsor",plural:!1,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hasAffiliateProducts",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i],storageKey:null},{args:null,kind:"FragmentSpread",name:"FooterDefaultContent_pin2"}],type:"Pin",abstractKey:null});n.hash="e5ee11bef52d9701f4de699e6453620d",e.exports=n},90316:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FooterDefaultContent_pin2",selections:[{args:null,kind:"FragmentSpread",name:"useReactionCounts_pin"},{args:null,kind:"FragmentSpread",name:"useGetAttributionProps_pin"},{args:null,kind:"FragmentSpread",name:"ImageOnlyAttributionText_pin"},{args:null,kind:"FragmentSpread",name:"PinStats_pin"},{args:null,kind:"FragmentSpread",name:"ClickthroughOrCloseupLink_pin"},{args:null,kind:"FragmentSpread",name:"Source_pin"},{args:null,kind:"FragmentSpread",name:"Title_pin"},{args:null,kind:"FragmentSpread",name:"OverflowMenu_pin"},{args:null,kind:"FragmentSpread",name:"GridAggregation_pin"},{args:null,kind:"FragmentSpread",name:"PinNote_pin"}],type:"Pin",abstractKey:null};i.hash="5c74c4b98be17c43790babbeac7a7c7a",e.exports=i},577870:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FooterProductContent_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"FooterProductContent_pin2"}],type:"Pin",abstractKey:null};i.hash="7137862fa96d013f90564225bc92eb87",e.exports=i},862769:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FooterProductContent_pin2",selections:[{args:null,kind:"FragmentSpread",name:"ClickthroughOrCloseupLink_pin"},{args:null,kind:"FragmentSpread",name:"Title_pin"},{args:null,kind:"FragmentSpread",name:"Source_pin"}],type:"Pin",abstractKey:null};i.hash="eda081a5e050bf4469691ac6ca123378",e.exports=i},787832:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"Footer_pin",selections:[{args:null,kind:"FragmentSpread",name:"FooterProductContent_pin"},{args:null,kind:"FragmentSpread",name:"FooterDefaultContent_pin"}],type:"Pin",abstractKey:null};i.hash="d29683a0b8b88a7cc21818cfaf02b46b",e.exports=i},345170:e=>{var i,t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"GridAggregation_pin",selections:[i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[i],storageKey:null},{args:null,kind:"FragmentSpread",name:"GridAggregation_pin2"}],type:"Pin",abstractKey:null};t.hash="ce9245d510a7d815786ae93733994ea5",e.exports=t},494311:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"GridAggregation_pin2",selections:[{args:null,kind:"FragmentSpread",name:"useReactionCounts_pin"}],type:"Pin",abstractKey:null};i.hash="8a641de20276be029a28d9fc55c842e8",e.exports=i},422753:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ImageOnlyAttributionText_pin",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Interest",kind:"LinkedField",name:"sourceInterest",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"ImageOnlyAttributionText_pin2"}],type:"Pin",abstractKey:null};i.hash="a49b6448b31bf592ce4c2d8ecdb50c6d",e.exports=i},142579:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ImageOnlyAttributionText_pin2",selections:[{args:null,kind:"FragmentSpread",name:"CloseupLink_pin"}],type:"Pin",abstractKey:null};i.hash="a69d139c13784fd211215f1daabf63a0",e.exports=i},563361:e=>{var i,t,n,a,l,r,o,s={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"OverflowMenu_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"adMatchReason",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageThumbnailUrl",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[a,l],storageKey:null},{alias:null,args:null,concreteType:"PinRecommendationReason",kind:"LinkedField",name:"recommendationReason",plural:!1,selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[t,n],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reasonId",storageKey:null},{alias:null,args:null,concreteType:"PinThroughProperties",kind:"LinkedField",name:"throughProperties",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"data",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:o=[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:r=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"Interest",kind:"LinkedField",name:"sourceInterest",plural:!1,selections:[i,t,{alias:null,args:null,kind:"ScalarField",name:"urlName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null},{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:r,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isThirdPartyAd",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsPersonalized",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPromotedPartnership",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedPartnershipAttributionName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedPartnershipAdvertiserName",storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinImageUrls_pin"},{args:null,kind:"FragmentSpread",name:"useShowAdReasons_pin"}],type:"Pin",abstractKey:null};s.hash="1e0679d615e4fbf1ade2ced91bfc6e36",e.exports=s},94506:e=>{var i,t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinImage_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"altText",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"autoAltText",storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"474x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"736x")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isThirdPartyAd",storageKey:null},{args:null,kind:"FragmentSpread",name:"StoryPinImage_pin"}],type:"Pin",abstractKey:null};t.hash="c984545d398a5bd6c3278c3657eca9c9",e.exports=t},119905:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinNote_pin",selections:[{args:null,kind:"FragmentSpread",name:"ClickthroughOrCloseupLink_pin"}],type:"Pin",abstractKey:null};i.hash="2e2f3174c2ae0020c0eb230f2051834e",e.exports=i},100315:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinRepPrimaryContent_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"QuickSaveButton_pin"},{args:null,kind:"FragmentSpread",name:"PinSaveButton_pin"},{args:null,kind:"FragmentSpread",name:"PinBetterSave_pin"},{args:null,kind:"FragmentSpread",name:"PinPromoteButton_pin"},{kind:"ClientExtension",selections:[{alias:null,args:null,concreteType:"SaveTarget",kind:"LinkedField",name:"savedInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}]}],type:"Pin",abstractKey:null};i.hash="390272d722e4c1516dff4e1b6be15b2e",e.exports=i},924935:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinStats_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"promotedIsRemovable",storageKey:null},{args:null,kind:"FragmentSpread",name:"PinStats_pin2"}],type:"Pin",abstractKey:null};i.hash="6a2dc1382ab421b776c56bab3422248a",e.exports=i},841680:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinStats_pin2",selections:[{args:null,kind:"FragmentSpread",name:"usePinStatsAnalytics_pin"}],type:"Pin",abstractKey:null};i.hash="1cff19a0ea4da59d4a09a3bad2b05673",e.exports=i},278822:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinVideoWithVisibility_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{args:null,kind:"FragmentSpread",name:"PinVideoWithVisibility_pin2"}],type:"Pin",abstractKey:null};i.hash="11b7bb355510a9c8964a9b35d05c369a",e.exports=i},790135:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinVideoWithVisibility_pin2",selections:[{args:null,kind:"FragmentSpread",name:"PinVideo_pin"}],type:"Pin",abstractKey:null};i.hash="c4876bc86b017c1390fdec3edc77f6d4",e.exports=i},525813:e=>{var i,t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinVideo_pin",selections:[i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[t={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForWebCloseup",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[i,{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV4",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnail",storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"PinVideo_pin2"}],type:"Pin",abstractKey:null};n.hash="7de1543a7e9ef08dab86ce070f3dca6a",e.exports=n},859134:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinVideo_pin2",selections:[{args:null,kind:"FragmentSpread",name:"PinImage_pin"}],type:"Pin",abstractKey:null};i.hash="147f5f417b6700208c89761b9857c06e",e.exports=i},10371:e=>{var i,t,n,a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinVisual_pin",selections:[{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinTagChipImagesPerSpec",kind:"LinkedField",name:"pinTagsChips",plural:!0,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"autoAltText",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"callToActionText",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"ImageCrop",kind:"LinkedField",name:"imageCrop",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maxY",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minY",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[t={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isThirdPartyAd",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForWebCloseup",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[n={alias:"entityId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"blockType",storageKey:null},{alias:null,args:null,concreteType:"StoryPinVideoMetadata",kind:"LinkedField",name:"video",plural:!1,selections:[n,{alias:null,args:null,concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"thumbnail",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:i,storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"PinImage_pin"},{args:null,kind:"FragmentSpread",name:"PinVideoWithVisibility_pin"},{args:null,kind:"FragmentSpread",name:"CollageChips_pin"},{args:null,kind:"FragmentSpread",name:"DeprecatedCarousel_pin"},{args:null,kind:"FragmentSpread",name:"ClickthroughOrCloseupLink_pin"},{args:null,kind:"FragmentSpread",name:"ContextMenuClickthroughLogging_pin"},{args:null,kind:"FragmentSpread",name:"usePrefetchStoryPinVideo_pin"},{args:null,kind:"FragmentSpread",name:"usePrefetchPinVideo_pin"}],type:"Pin",abstractKey:null};a.hash="9bc5bb9be0de6924baa0f05b8db68acc",e.exports=a},151896:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SeeStatsButton_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],type:"Pin",abstractKey:null};i.hash="cf4e28b5521c05d7c394d0486520c6a7",e.exports=i},857381:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"Source_pin",selections:[{args:null,kind:"FragmentSpread",name:"ClickthroughOrCloseupLink_pin"}],type:"Pin",abstractKey:null};i.hash="759cd4814b8317139ca0fffbaf323f86",e.exports=i},536531:e=>{var i,t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinImage_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"474x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"736x")'}],type:"Pin",abstractKey:null};t.hash="91bd9c250408ba97583006b39619e468",e.exports=t},730445:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"Title_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"Title_pin2"}],type:"Pin",abstractKey:null};i.hash="55aba63cf63bd5c18e3b4764d77b361f",e.exports=i},53553:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"Title_pin2",selections:[{args:null,kind:"FragmentSpread",name:"ClickthroughOrCloseupLink_pin"}],type:"Pin",abstractKey:null};i.hash="3314b298f19612d1a84a5a1e9fb2e43e",e.exports=i},19618:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useBuildActionBarProps_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"access",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isCollaborative",storageKey:null},{args:null,kind:"FragmentSpread",name:"useCanPerformAction_board"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetPinTitle_pin"},{kind:"ClientExtension",selections:[{alias:null,args:null,concreteType:"SaveTarget",kind:"LinkedField",name:"savedInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"localPinId",storageKey:null}],storageKey:null}]}],type:"Pin",abstractKey:null};i.hash="bf497a70f50247e8d954f11547993620",e.exports=i},592413:e=>{var i,t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useBuildFooterProps_pin",selections:[{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[i={alias:null,args:null,concreteType:"PinAnalyticsStats",kind:"LinkedField",name:"creatorAnalytics",plural:!1,selections:[{alias:null,args:null,concreteType:"CreatorAnalytics",kind:"LinkedField",name:"_30dRealtime",plural:!1,selections:[{alias:"carId",args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null}],storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isRepin",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinNote",kind:"LinkedField",name:"pinNote",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,concreteType:"ShippingInfo",kind:"LinkedField",name:"shippingInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"freeShippingPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"freeShippingValue",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ratingCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,concreteType:"Brand",kind:"LinkedField",name:"brand",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"standardPrice",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:t,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"unifiedUserNote",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:t,storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useBuildFooterProps_pin2"},{args:null,kind:"FragmentSpread",name:"useGetPinTitle_pin"}],type:"Pin",abstractKey:null};n.hash="86031aa82555503778921aeb0abd6c72",e.exports=n},139590:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useBuildFooterProps_pin2",selections:[{args:null,kind:"FragmentSpread",name:"useGetPinSourceText_pin"}],type:"Pin",abstractKey:null};i.hash="957648ea33e5a937101b2f188607da57",e.exports=i},887837:e=>{var i,t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCanPerformAction_board",selections:[i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:[i],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"collaboratedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"collaboratorPermissions",storageKey:null}],type:"Board",abstractKey:null};t.hash="416539a057718ff36ac5d9d06916c2d4",e.exports=t},116469:e=>{var i,t,n,a,l,r,o,s,d,u,c={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetAttributionProps_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"adsOnlyProfileSite",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"isAdsOnlyProfile",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPrimaryWebsiteVerified",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},d={alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:[i,u={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},t,n,a,l,r,o,s,d],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[t,n,a,l,o,s,d],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[i,u,t,a,l,r,s],storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sponsor",plural:!1,selections:[t,s],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};c.hash="2985c2aa5b5f3c7fcab6ea660ed05bab",e.exports=c},150148:e=>{var i,t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetFeedbackType_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinRecommendationReason",kind:"LinkedField",name:"recommendationReason",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:i,storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};t.hash="09058e2c22f768d113516b357e48e9cd",e.exports=t},581011:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetPinSourceText_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,concreteType:"Brand",kind:"LinkedField",name:"brand",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"typeName",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetPinSourceText_pin2"}],type:"Pin",abstractKey:null};i.hash="e69ff8b47e1611b40a276b3c209672da",e.exports=i},5016:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetPinSourceText_pin2",selections:[{args:null,kind:"FragmentSpread",name:"usePinProductMerchant_pin"}],type:"Pin",abstractKey:null};i.hash="de70787ecd507d3f1e0b9cbee623294b",e.exports=i},865603:e=>{var i,t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetPinTitle_pin",selections:[i={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"typeName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null},{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[i],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"access",storageKey:null}],type:"Pin",abstractKey:null};t.hash="1e4e0e76a759656669add254f7e98d79",e.exports=t},746093:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useHidingCarouselIndicator_pin",selections:[{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};i.hash="60b17266e29fb900a64d25eeb62b3d10",e.exports=i},669926:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinCarouselData_pin",selections:[{args:null,kind:"FragmentSpread",name:"usePinDefaultCarouselData_pin"},{args:null,kind:"FragmentSpread",name:"usePinProductCarouselData_pin"}],type:"Pin",abstractKey:null};i.hash="461a57fcc8f7958e3742c217e4cc45a2",e.exports=i},680880:e=>{var i,t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinDefaultCarouselData_pin",selections:[{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"details",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:"image236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:"image474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"474x")'},{alias:"image564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"564x")'},{alias:"image736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"736x")'},{alias:"slotId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};t.hash="a3cbf6d55cf89d97d6e04c32195968d9",e.exports=t},460863:e=>{var i,t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinImageUrls_pin",selections:[{alias:"imageSpec_60x60",args:[{kind:"Literal",name:"spec",value:"60x60"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"60x60")'},{alias:"imageSpec_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"136x136")'},{alias:"imageSpec_170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"170x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"236x")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"474x")'},{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"564x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"736x")'},{alias:"imageSpec_600x315",args:[{kind:"Literal",name:"spec",value:"600x315"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"600x315")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"orig")'}],type:"Pin",abstractKey:null};t.hash="b7ea441f2c20a68b323088ebe3847835",e.exports=t},283996:e=>{var i,t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinProductCarouselData_pin",selections:[{alias:"image236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:"image474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"474x")'},{alias:"image564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"564x")'},{alias:"image736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"736x")'},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:t=[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:"productId",args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"useRichPinProductMetadataCarouselSlots_richPinProductMetadata"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:t,storageKey:null}],type:"Pin",abstractKey:null};n.hash="6588018e2880f2695fc6c4ba45aab606",e.exports=n},91763:e=>{var i,t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinProductMerchant_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isRepin",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"siteName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"viaPinner",plural:!1,selections:i,storageKey:null}],type:"Pin",abstractKey:null};t.hash="4f2762578f039ed7e313428228f5e971",e.exports=t},129053:e=>{var i,t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinStatsAnalytics_pin",selections:[{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[i={alias:null,args:null,concreteType:"PinAnalyticsStats",kind:"LinkedField",name:"creatorAnalytics",plural:!1,selections:[{alias:null,args:null,concreteType:"CreatorAnalytics",kind:"LinkedField",name:"_30dRealtime",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"impression",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinClick",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"save",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},i],type:"Pin",abstractKey:null};t.hash="c74ec9651fd63b08c5c6faf79dee1dab",e.exports=t},937478:e=>{var i,t,n,a,l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePrefetchPinVideo_pin",selections:[i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[i,{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP3",plural:!1,selections:n=[t={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP4",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP5",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP6",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP7",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV4",plural:!1,selections:a=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnail",storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:a,storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};l.hash="861c897c45f83d723b5857f709cb23d8",e.exports=l},893741:e=>{var i,t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePrefetchStoryPinVideo_pin",selections:[{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:"entityId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:t=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"blockType",storageKey:null},{alias:null,args:null,concreteType:"StoryPinVideoMetadata",kind:"LinkedField",name:"video",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP3",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP4",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP5",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP6",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP7",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:i,storageKey:null}],storageKey:null}],storageKey:null}],type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pagesPreview",plural:!0,selections:t,storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};n.hash="a16254fc95ad4ae1435ccb0631990759",e.exports=n},209863:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useReactionCounts_pin",selections:[{alias:null,args:null,concreteType:"ReactionCount",kind:"LinkedField",name:"reactionCounts",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"_0",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"_1",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"_2",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"_3",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"_4",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"_5",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"_6",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"_7",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"_8",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"_9",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"_10",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"_11",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"_12",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"_13",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"_14",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};i.hash="88f67b193e3ea2276ecdb41bbb62beb5",e.exports=i},240956:e=>{var i,t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useRichPinProductMetadataCarouselSlots_richPinProductMetadata",selections:[{alias:"image236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:i=[{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"canonicalImage",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null}],storageKey:'additionalImagesPerSpec(spec:"236x")'},{alias:"image474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:i,storageKey:'additionalImagesPerSpec(spec:"474x")'},{alias:"image564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:i,storageKey:'additionalImagesPerSpec(spec:"564x")'},{alias:"image736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:i,storageKey:'additionalImagesPerSpec(spec:"736x")'}],type:"RichPinProductMetadata",abstractKey:null};t.hash="b49953855cdc69f6ee2c8d4925149d23",e.exports=t},903513:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useShowAdReasons_pin",selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"showAdReasons",storageKey:null}]}],type:"Pin",abstractKey:null};i.hash="7c11cbdf443199e9eb4a313024a4aaad",e.exports=i},832654:(e,i,t)=>{t.d(i,{Z:()=>a});var n=t(349700);function a({altText:e,autoAltText:i,i18n:t,checkExperiment:a}){let l=e?(0,n.nk)(t._('This contains: {{ altText }}', 'web.altText', 'Alt text input by a human'),{altText:e}).join(""):"",r=i?(0,n.nk)(t._('This may contain: {{ autoAltText }}', 'web.altText', 'Alt text generated by a computer'),{autoAltText:i}).join(""):"";if(a){let e=i&&a("web_mk_alt_text",{dangerouslySkipActivation:!0}).group;if(["control","enabled"].includes(e)&&a("web_mk_alt_text"),["enabled","employees"].includes(e))return r||"";if(["control","pwt_off","pwt_on"].includes(e))return l||""}return l||r||""}},742840:(e,i,t)=>{t.d(i,{Z:()=>c});var n=t(667294),a=t(702664),l=t(883119),r=t(898781),o=t(966676),s=t(785893);function d({isCloseupButton:e,isDisabled:i,isFavorited:t,onTap:n,size:a}){let d=(0,r.ZP)(),{stackedCloseupEnabled:u}=(0,o.x4)();return e?(0,s.jsx)(l.hU,{accessibilityLabel:d._('Favorite icon', 'pinRep.footer.favoriteIcon', 'Accessible label for favorite icon on Pin'),bgColor:u?"white":void 0,disabled:i,icon:t?"star":"star-outline",iconColor:"darkGray",onClick:n,size:"lg"}):(0,s.jsx)(l.iP,{disabled:i,onTap:n,children:(0,s.jsx)(l.JO,{accessibilityLabel:d._('Favorite icon', 'pinRep.footer.favoriteIcon', 'Accessible label for favorite icon on Pin'),color:"default",icon:t?"star":"star-outline",size:a})})}var u=t(186656);function c({favorited:e,favoriteCount:i,isCloseupButton:t,onFavorite:o,onUnfavorite:c,pinId:p,size:h}){let m=(0,r.ZP)(),g=(0,a.useDispatch)(),[y,_]=(0,n.useState)(!1),[v,f]=(0,n.useState)(e),[b,P]=(0,n.useState)(null!=i?i:0),S=async()=>{(f(!v),_(!0),v)?(P(b-1),await g(async e=>{await (0,u.Z)({url:`/v3/pins/${p}/favorite/`,method:"DELETE"}),e({type:"PIN_FAVORITE",payload:{id:p,increment:-1,value:!1}})}),c()):(P(b+1),await g(async e=>{await (0,u.Z)({url:`/v3/pins/${p}/favorite/`,method:"POST"}),e({type:"PIN_FAVORITE",payload:{id:p,increment:1,value:!0}})}),o()),_(!1)},x=b<10?b:m._('9+', 'favoriteButton.favoriteCountText', 'Text shown when greater than 9 favorites on Pin');return(0,s.jsxs)(l.kC,{alignItems:"center",gap:{row:1,column:0},children:[void 0!==i&&b>0&&(0,s.jsx)(l.xv,{size:"200",weight:"bold",children:x}),(0,s.jsx)(d,{isCloseupButton:t,isDisabled:y,isFavorited:v,onTap:()=>{S()},size:h})]})}},808868:(e,i,t)=>{t.r(i),t.d(i,{default:()=>k});var n,a,l=t(667294),r=t(702664);t(167912);var o=t(883119),s=t(705147),d=t(916117);let u=void 0!==n?n:n=t(903513);var c=t(357998),p=t(898781),h=t(248975),m=t(53199),g=t(780280),y=t(883561),_=t(199387),v=t(576440),f=t(447948),b=t(116674),P=t(785893);let S=void 0!==a?a:a=t(563361),x=e=>{var i,t,n,a;return{adMatchReason:e.ad_match_reason,board:e.board&&{entityId:e.board.id,imageThumbnailUrl:e.board.image_thumbnail_url,name:e.board.name,url:e.board.url},category:e.category,description:e.description,embed:e.embed&&{src:e.embed.src,type:e.embed.type},entityId:e.id,isDownstreamPromotion:e.is_downstream_promotion,isPromoted:e.is_promoted,pinner:e.pinner&&{entityId:e.pinner.id,explicitlyFollowedByMe:e.pinner.explicitly_followed_by_me,fullName:e.pinner.full_name,imageSmallUrl:e.pinner.image_small_url,username:e.pinner.username},promoter:e.promoter&&{fullName:e.promoter.full_name,username:e.promoter.username},recommendationReason:e.recommendation_reason&&{board:e.recommendation_reason.board&&{name:e.recommendation_reason.board.name,url:e.recommendation_reason.board.url},reason:e.recommendation_reason.reason,reasonId:e.recommendation_reason.reason_id,throughProperties:(a=e.recommendation_reason.through_properties)&&Object.keys(a).map(e=>({key:e,data:a[e]}))},richMetadata:e.rich_metadata&&{products:null===(i=e.rich_metadata.products)||void 0===i?void 0:i.map(()=>({__typename:"RichPinProductMetadata"}))},richSummary:e.rich_summary&&{products:null===(t=e.rich_summary.products)||void 0===t?void 0:t.map(()=>({__typename:"RichPinProductMetadata"}))},sourceInterest:e.source_interest&&{entityId:null!==(n=e.source_interest.id)&&void 0!==n?n:"",name:e.source_interest.name,urlName:e.source_interest.url_name},videos:e.videos&&{duration:e.videos.duration,videoList:e.videos.video_list&&{__typename:"VideoList"}},isThirdPartyAd:e.is_third_party_ad,promotedIsPersonalized:e.promoted_is_personalized,isEligibleForPromotedPartnership:e.is_eligible_for_promoted_partnership,promotedPartnershipAttributionName:e.promoted_partnership_attribution_name,promotedPartnershipAdvertiserName:e.promoted_partnership_advertiser_name}};function k({feedbackData:e,feedbackType:i,pinKey:t,pinTitle:n,setForcePrimary:a,transparentBackground:k}){var w,T,E,I,A,R,C;let{data:F,childDataKey__DEPRECATED:D}=(0,c.Q)(S,t,{useLegacyAdapter:x}),L=(0,m.Z)(D),j=F.entityId,O=(0,p.ZP)(),{isBot:K,isSocialBot:N}=(0,g.B)(),M=(0,r.useDispatch)(),{viewParameter:Z,viewType:z}=(0,v.E)(),{reportPin:V}=(0,b.f)(),[B,U]=(0,l.useState)(!1),[H,G]=(0,l.useState)(),W=function(e){var i;let t=(0,d.Z)(u,e);return null!==(i=t.showAdReasons)&&void 0!==i&&i}(F),$=(C=F.isPromoted?60:50,function(e){return(0,y.ZP)((e||"").trim(),C)}),Y=$(null!==(w=F.description)&&void 0!==w?w:""),q=!!(null!==(T=F.videos)&&void 0!==T&&T.videoList),X=()=>{M((0,f.i0)(j))},J=(0,_.Z)(101,{component:0,element:981,object_id_str:j,aux_data:{feedback_type:i}}),Q=()=>{W||(a(!1),X(),U(!1))},ee={isThirdPartyAd:F.isThirdPartyAd,promotedIsPersonalized:F.promotedIsPersonalized,isEligibleForPromotedPartnership:F.isEligibleForPromotedPartnership,promotedPartnershipAttributionName:F.promotedPartnershipAttributionName,promotedPartnershipAdvertiserName:F.promotedPartnershipAdvertiserName};return(0,P.jsxs)(l.Fragment,{children:[(0,P.jsx)(o.xu,{ref:G,"data-test-id":"feedback-button",children:(0,P.jsx)(o.hU,{accessibilityLabel:O._('More information', 'accessibility label for overflow menu button', 'accessibility label for overflow menu button'),bgColor:k?"transparent":"white",icon:"ellipsis",iconColor:"darkGray",onClick:()=>{B?Q():(a(!0),U(!0)),J()},size:"sm"})}),B&&(0,P.jsx)(o.xu,{onFocus:e=>e.stopPropagation(),children:(0,P.jsx)(s.Z,{ad_match_reason:F.adMatchReason,anchor:H,bestPinImgSrc:(0,h.Z)({imagesUrls:L,embedSrc:null===(E=F.embed)||void 0===E?void 0:E.src,embedType:null===(I=F.embed)||void 0===I?void 0:I.type,excludeOriginals:!K&&!N}),board:F.board&&{entityId:F.board.entityId,imageThumbnailUrl:F.board.imageThumbnailUrl,name:F.board.name,url:F.board.url},feedbackData:e,feedbackType:i,hideDownload:q,isPromoted:null!==(A=F.isPromoted)&&void 0!==A&&A,onDismiss:Q,onDownloadHideFlyout:()=>{a(!1),U(!1)},onHide:Q,onLinkClick:()=>{B&&Q()},pinCategory:F.category,pinDescription:Y,pinId:j,pinner:F.pinner&&{explicitlyFollowedByMe:F.pinner.explicitlyFollowedByMe,entityId:F.pinner.entityId,fullName:F.pinner.fullName,imageSmallUrl:F.pinner.imageSmallUrl,username:F.pinner.username},pinTitle:n,promoter:F.promoter&&{fullName:F.promoter.fullName,username:F.promoter.username},recommendationReason:F.recommendationReason&&{board:F.recommendationReason.board&&{name:F.recommendationReason.board.name,url:F.recommendationReason.board.url},reason:F.recommendationReason.reason,reasonId:F.recommendationReason.reasonId,throughProperties:F.recommendationReason.throughProperties},reportPin:()=>{var e,i,t,n,a;V({pinId:F.entityId,isDownstreamPromotion:!!F.isDownstreamPromotion,hasPromoter:!!F.promoter,isProduct:!!(null!==(e=F.richMetadata)&&void 0!==e&&null!==(i=e.products)&&void 0!==i&&i.length)||!!(null!==(t=F.richSummary)&&void 0!==t&&null!==(n=t.products)&&void 0!==n&&n.length),firstVideoDuration:null===(a=F.videos)||void 0===a?void 0:a.duration,viewParameter:Z,viewType:z,isThirdPartyAd:!!F.isThirdPartyAd}),Q()},sourceInterest:F.sourceInterest&&{entityId:null!==(R=F.sourceInterest.entityId)&&void 0!==R?R:"",name:F.sourceInterest.name,urlName:F.sourceInterest.urlName},thirdPartyAdAttributes:ee,viewParameter:Z,viewType:z})})]})}},705147:(e,i,t)=>{t.d(i,{Z:()=>T});var n=t(667294),a=t(702664),l=t(616550),r=t(883119),o=t(827896),s=t(407043),d=t(898781),u=t(349700),c=t(55275),p=t(680046),h=t(915446),m=t(760372),g=t(813401),y=t(149230),_=t(567316),v=t(379884),f=t(814197),b=t(920085),P=t(447948),S=t(350118),x=t(785893);function k(e,i,t){var n;return(i="symbol"==typeof(n=function(e,i){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,i||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(i,"string"))?n:String(n))in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}class w extends n.Component{constructor(e){super(e),k(this,"getRecommendationDescription",()=>{var e,i,t;let{i18n:n,ad_match_reason:a,board:l,feedbackType:r,pinner:o,promoter:s,recommendationReason:d,sourceInterest:u,thirdPartyAdAttributes:c}=this.props,h={i18n:n,makeNavigateLink:this.makeNavigateLink};switch(r){case"pfy":return(0,p.Ud)({...h,feedback:{type:"pfy"}});case"pfyBoard":return(0,p.Ud)({...h,feedback:{type:"pfyBoard",recommendationReasonBoard:(null==d?void 0:d.board)&&{name:null!==(e=d.board.name)&&void 0!==e?e:"",url:null!==(i=d.board.url)&&void 0!==i?i:""}}});case"topic":return(0,p.Ud)({...h,feedback:{type:"topic",sourceInterest:u&&u.name&&u.urlName?{name:u.name,url_name:u.urlName}:null}});case"followed":return(0,p.Ud)({...h,feedback:{type:"followed",followed:null!=o&&o.explicitlyFollowedByMe?{type:"pinner",pinner:o.fullName?{full_name:o.fullName,username:null!==(t=o.username)&&void 0!==t?t:""}:null}:{type:"board",board:l&&l.name&&l.url?{name:l.name,url:l.url}:null}}});case"promoted":return(0,p.Ud)({...h,feedback:{type:"promoted",promoter:!a&&null!=s&&s.fullName?{full_name:s.fullName,username:s.username}:null,thirdPartyAdAttributes:c}});default:return null}}),k(this,"getRecommendationDescriptionImage",()=>{var e,i;let t,n,a;let{board:l,feedbackType:o,pinner:s,recommendationReason:d}=this.props;return"followed"!==o&&"pfyBoard"!==o?null:(s&&s.explicitlyFollowedByMe?(t=s.imageSmallUrl,n="50%",a=`/${null!==(e=s.username)&&void 0!==e?e:""}`):l&&l.imageThumbnailUrl&&(t=l.imageThumbnailUrl,n="4px",a=(null==d?void 0:null===(i=d.board)||void 0===i?void 0:i.url)||l.url),t)?(0,x.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{borderRadius:n}},flex:"none",marginStart:3,overflow:"hidden",children:(0,x.jsx)(r.iP,{onTap:()=>{var e;return this.props.history.push(null!==(e=a)&&void 0!==e?e:"")},children:(0,x.jsx)(r.zd,{height:40,wash:!0,width:40,children:(0,x.jsx)(r.Ee,{alt:"",fit:"cover",naturalHeight:1,naturalWidth:1,src:t})})})}):null}),k(this,"getUnfollowAction",()=>{let{board:e,feedbackType:i,i18n:t,pinner:n,sourceInterest:a}=this.props;switch(i){case"followed":if(!n||!e)return null;return(0,p.oK)({i18n:t,makeNavigateLink:this.makeNavigateLink,boardId:e.entityId,display:n.explicitlyFollowedByMe?{type:"pinner",data:{full_name:n.fullName,username:n.username}}:{type:"board",data:{name:e.name,url:e.url}}});case"topic":if(!a)return null;let{entityId:l,name:r,urlName:o}=a;return l&&r&&o?(0,p.Iv)({i18n:t,makeNavigateLink:this.makeNavigateLink,sourceInterest:{id:l,name:r,url_name:o}}):null;default:return null}}),k(this,"getUndoText",e=>"unfollowPinner"===e||"unfollowBoard"===e?this.props.i18n._('Follow again', 'Caption for button to undo a unfollowing of a topic', 'Caption for button to undo a unfollowing of a topic'):""),k(this,"makeNavigateLink",(e,i,t,n)=>(0,x.jsx)(r.rU,{display:"inlineBlock",href:i,onClick:this.props.onLinkClick,underline:"hover",children:(0,x.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:n?{display:"inline",color:"white",textDecorationColor:"white"}:{display:"inline"}},children:t})},e)),k(this,"reportPinOption",()=>{let{thirdPartyAdAttributes:e}=this.props;return{action:"reportPin",elementType:974,text:this.props.i18n._('Report Pin', 'Report a pin in the dropdown', 'Report a pin in the dropdown'),description:this.props.i18n._('This goes against Pinterest\'s community guidelines', 'Description for the report pin option', 'Description for the report pin option'),callback:this.props.reportPin,dataTestId:"report-pin-option",isThirdPartyAd:null==e?void 0:e.isThirdPartyAd}}),k(this,"hidePinOption",e=>{let{clientTrackingParams:i,feedbackData:t,feedbackType:n,pinId:a,recommendationReason:l,thirdPartyAdAttributes:r}=this.props,o="search"===n?973:982,{action:s,actionOptions:d}=(0,h.Z)({feedbackData:t,feedbackType:n,pinId:a,pinFeedbackType:"pfy"===n?4:10,recommendationReason:l&&{board:l.board&&{entityId:l.board.entityId},reasonId:l.reasonId,reason:l.reason,throughProperties:l.throughProperties},clientTrackingParams:i(a),isThirdPartyAd:null==r?void 0:r.isThirdPartyAd}),u=this.props.i18n._('Hide Pin', 'message displayed in pin feedback list', 'message displayed in pin feedback list');return{action:s,actionOptions:d,feedbackText:this.pinHiddenFeedbackText(e),text:u,description:this.props.i18n._('See fewer Pins like this', 'Description for the hide pin option', 'Description for the hide pin option'),elementType:o}}),k(this,"stopRecommendationOption",()=>{var e;let{clientTrackingParams:i,feedbackData:t,feedbackType:n,pinId:a,recommendationReason:l}=this.props,r="pfyBoard"===n,{action:o,actionOptions:s}=(0,h.Z)({feedbackData:t,feedbackType:n,pinId:a,pinFeedbackType:r?2:4,recommendationReason:l&&{board:l.board&&{entityId:l.board.entityId},reasonId:l.reasonId,reason:l.reason,throughProperties:l.throughProperties},clientTrackingParams:i(a)}),d=null!=l&&l.board&&l.board.url&&l.board.name?this.makeNavigateLink("boardUrl",l.board.url,l.board.name,!0):"",c=r&&l?(0,u.nk)(this.props.i18n._('We won\'t show you Pins inspired by your board {{ formattedBoard }} anymore.', 'Primary caption displayed in pin feedback list to unfollow a board', 'Primary caption displayed in pin feedback list to unfollow a board'),{formattedBoard:d}):this.props.i18n._('Got it! We won\'t show you Pins like this in the future.', 'message displayed after stopping recommendations from a pin', 'message displayed after stopping recommendations from a pin'),p=r&&l?(0,u.nk)(this.props.i18n._('Stop seeing Pins inspired by {{ boardName }}', 'Primary caption displayed in pin feedback list to unfollow a board', 'Primary caption displayed in pin feedback list to unfollow a board'),{boardName:null===(e=l.board)||void 0===e?void 0:e.name}):this.props.i18n._('See fewer Pins like this', 'Feedback option to stop recommendations inspired by this Pin', 'Feedback option to stop recommendations inspired by this Pin');return{action:o,actionOptions:s,feedbackText:{subTitle:c},text:p,elementType:284}}),k(this,"unfollowBoardOption",()=>{var e,i;let{board:t}=this.props,n=t?this.makeNavigateLink("boardUrl",null!==(e=t.url)&&void 0!==e?e:"",null!==(i=t.name)&&void 0!==i?i:"",!0):"",a=(0,u.nk)(this.props.i18n._('Unfollow {{ boardName }}', 'Primary caption displayed in pin feedback list to unfollow a board', 'Primary caption displayed in pin feedback list to unfollow a board'),{boardName:null==t?void 0:t.name}),l=(0,u.nk)(this.props.i18n._('Got it! You unfollowed {{ formattedBoard }} and won\'t see Pins saved to it in the future.', 'Confirmation text after unfollowing a board', 'Confirmation text after unfollowing a board'),{formattedBoard:n});return{action:"unfollowBoard",actionOptions:{board_id:null==t?void 0:t.entityId},feedbackText:{title:"",subTitle:l},text:a,description:(0,u.nk)(this.props.i18n._('Stop seeing Pins from the board "{{ boardName }}"', 'Secondary caption displayed in pin feedback list to unfollow a board', 'Secondary caption displayed in pin feedback list to unfollow a board'),{boardName:null==t?void 0:t.name}),elementType:10614}}),k(this,"unfollowTopicOption",()=>{let{sourceInterest:e}=this.props;if(!e)return null;{let{entityId:i,name:t="",urlName:n}=e,a=`/topics/${null!=n?n:""}`,l=this.makeNavigateLink("topicUrl",a,null!=t?t:"",!0),r=(0,u.nk)(this.props.i18n._('See fewer Pins from {{ topicName }}', 'Primary caption displayed in pin feedback list to unfollow a topic', 'Primary caption displayed in pin feedback list to unfollow a topic'),{topicName:t}),o=(0,u.nk)(this.props.i18n._('We\'ll show you fewer Pins from {{ formattedTopic }} in the future.', 'Confirmation text after unfollowing a topic', 'Confirmation text after unfollowing a topic'),{formattedTopic:l});return{action:"unfollowTopic",actionOptions:{interest_id:i,interest_list:m.X},feedbackText:{title:"",subTitle:o},text:r,description:(0,u.nk)(this.props.i18n._('Stop seeing Pins from the topic "{{ topicName }}"', 'Secondary caption displayed in pin feedback list to unfollow a topic', 'Secondary caption displayed in pin feedback list to unfollow a topic'),{topicName:e.name}),elementType:976}}}),k(this,"unfollowUserOption",()=>{let{pinner:e}=this.props,{entityId:i,username:t,fullName:n}=null!=e?e:{},a=`/${t}`,l=e?this.makeNavigateLink("pinnerUrl",a,null!=n?n:"",!0):"",r=(0,u.nk)(this.props.i18n._('Got it! You unfollowed {{ formattedUser }} and won\'t see Pins they save in the future.', 'Confirmation text after unfollowing a user', 'Confirmation text after unfollowing a user'),{formattedUser:l});return{action:"unfollowPinner",actionOptions:{user_id:i},feedbackText:{title:"",subTitle:r},text:(0,u.nk)(this.props.i18n._('Unfollow {{ fullName }}', 'Primary caption displayed in pin feedback list to unfollow a user', 'Primary caption displayed in pin feedback list to unfollow a user'),{fullName:n}),description:this.props.i18n._('Stop seeing all their Pins', 'Secondary caption displayed in pin feedback list to unfollow a user', 'Secondary caption displayed in pin feedback list to unfollow a user'),elementType:10640}}),k(this,"downloadPinOption",()=>({action:"downloadPin",text:this.props.i18n._('Download image', 'Button to download Pin image', 'Button to download Pin image'),elementType:10836})),k(this,"_pinFeedbackText",()=>{var e,i,t,n;let{location:a,feedbackType:l,hideDownload:r,pinner:o}=this.props,s="followed"===this.props.feedbackType,d=a.pathname.includes("following"),u=(s||"topic"===l)&&!d,c=this.hidePinOption(u),p=this.reportPinOption(),h="promoted"!==l&&!r;switch(l){case"followed":let m=!d&&this.getRecommendationDescription(),g=null!=o&&o.explicitlyFollowedByMe?this.unfollowUserOption():this.unfollowBoardOption(),y=[c,...u||d?[g]:[],..."promoted"!==l?[this.downloadPinOption()]:[],p];return{...m?{description:m}:{},options:y};case"promoted":let{pinId:_,showAdReasonsModal:v}=this.props,f={dataTestId:"why-am-i-seeing-this-ad-reasons",action:"showAdReasons",text:this.props.i18n._('Why am I seeing this ad?', 'app.common.react.components.PinFeedbackDropdown.adReasonText', 'Text to promoted pins explanation modal'),callback:()=>{v(_)}};return{description:null!==(e=this.getRecommendationDescription())&&void 0!==e?e:void 0,options:[c,f,p]};case"topic":let b=this.unfollowTopicOption(),P=[c,...u&&b?[b]:[],...h?[this.downloadPinOption()]:[],p];return{description:null!==(i=this.getRecommendationDescription())&&void 0!==i?i:void 0,options:P};case"pfy":case"pfyBoard":let S=[c,..."pfyBoard"===l?[this.stopRecommendationOption()]:[],...h?[this.downloadPinOption()]:[],p];return{description:null!==(t=this.getRecommendationDescription())&&void 0!==t?t:void 0,options:S};default:let x=[c,...h?[this.downloadPinOption()]:[],p];return{description:null!==(n=this.getRecommendationDescription())&&void 0!==n?n:void 0,options:x}}}),k(this,"pinHiddenFeedbackText",e=>{let{isPromoted:i,promoter:t}=this.props,n=e?null:this.getUnfollowAction();return i&&null!=t&&t.fullName?{title:"",subTitle:(0,u.nk)(this.props.i18n._('{{ promoter }} has paid to have this pin show up where you\'d be more likely to notice it.', 'webapp.app.pinFeedbackDropdown.promotedFeedbackText.subtitle', 'Message displayed after hiding a promoted pin. promoter: the name of the person who promoted the pin.'),{promoter:t.fullName})}:n?{title:"",subTitle:this.getRecommendationDescription(),unfollow:n}:{title:"",subTitle:this.props.i18n._('Got it! We won\'t show you this Pin in the future.', 'message displayed after hiding a pin', 'message displayed after hiding a pin')}});let i=this._pinFeedbackText();this.state={pinFeedbackConfig:i,showSecondary:!1}}onPinFeedbackActionButtonClick(e,i,t){e.stopPropagation(),i.auxData?this.handleClickLogging(i.elementType,i.auxData):this.handleClickLogging(i.elementType),(0,c.t)(i.action,i.actionOptions,t,this.props.logContextEvent)}onPinHide(e,i,t,n){let{hidePinFeedback:a,onHide:l,pinId:r,showPinFeedback:o,showPinFeedbackOverlay:s,showPinFeedbackUndo:d,viewParameter:u,viewType:c,logContextEvent:h}=this.props;i&&t&&n?d(r,e,(0,p.EF)(t,n,r,c,u,a,h),this.getUndoText(n)):o(r,e),t&&!t.promoted&&(10===t.feedback_type||4===t.feedback_type)?(this.setState({showSecondary:!0}),s(r)):l()}handleClickLogging(e,i={}){let{feedbackType:t,viewParameter:n,viewType:a,logContextEvent:l}=this.props;l({event_type:101,view_type:a,view_parameter:n,element:e,component:(0,p.nb)(t),aux_data:{...i}})}renderButtons(){let{hideDownload:e,onDownloadHideFlyout:i,pinId:t,viewType:n,viewParameter:a,logContextEvent:l,isWindowsPwa:o}=this.props,{pinFeedbackConfig:s}=this.state,{options:d}=s,u=[],p=d.length;for(let s=0;s<p;s+=1){let p=d[s],h=c.P.includes(p.action),m=p.callback?p.callback:()=>this.onPinHide(p.feedbackText,h,p.actionOptions,p.action);if("downloadPin"!==p.action){let e=(0,y.Z)({url:p.link||""}),i="";Array.isArray(p.text)?i=p.text.join(""):("string"==typeof p.text||"number"==typeof p.text)&&(i=p.text.toString()),u.push(p.link?(0,x.jsx)(r.Lt.Link,{dataTestId:p.dataTestId||"",href:p.link,isExternal:e,option:{value:p.action||"",label:i}}):(0,x.jsx)(r.Lt.Item,{dataTestId:p.dataTestId||"",onSelect:({event:e})=>this.onPinFeedbackActionButtonClick(e,p,m),option:{value:p.action||"",label:i}}))}else if(!e&&!1===o){let{bestPinImgSrc:e,pinTitle:o,pinDescription:s,pinCategory:d}=this.props;u.push((0,x.jsx)(r.Lt.Item,{onSelect:()=>{(0,b.Z)({category:d,filename:o||s,imageDownloadSuccessCallback:()=>{i&&i()},imgSrc:e,pinId:t,viewParameter:a,viewType:n},l)},option:{value:"downloadImage",label:this.props.i18n._('Download image', 'pinRep.pinFeedbackDropdown.downloadImage', 'Label to download the pin image')}}))}}return u}render(){var e;let{pinFeedbackConfig:i,showSecondary:t}=this.state,{anchor:a,onDismiss:l,feedbackData:o,feedbackType:s,hideAdReasonsModal:d,pinId:u,onHide:c,recommendationReason:p,viewParameter:h,viewType:m}=this.props,{description:g}=i,{pin:y}=this.props,{show_ad_reasons:b=!1}=null!=y?y:{},P=this.getRecommendationDescriptionImage();return(0,x.jsxs)(n.Fragment,{children:[t?(0,x.jsx)(v.Z,{anchor:a,feedbackData:o,feedbackType:s,onDismiss:l,onHide:c,pinId:u,recommendationReason:p&&{board:p.board&&{entityId:p.board.entityId},reasonId:p.reasonId,reason:p.reason,throughProperties:null===(e=p.throughProperties)||void 0===e?void 0:e.map(({data:e,key:i})=>({data:e,key:i}))},viewParameter:h,viewType:m}):(0,x.jsx)(r.Lt,{anchor:a,disableMobileUI:!0,headerContent:g&&(0,x.jsxs)(r.kC,{alignItems:"center",children:[(0,x.jsx)(r.xu,{"data-pin-recommendation-reason":null==p?void 0:p.reason,maxHeight:56,overflow:"hidden",children:(0,x.jsx)(r.xv,{color:"default",overflow:"normal",size:"200",children:g})}),P]}),id:"pin-action-dropdown",idealDirection:"down",onDismiss:l,zIndex:f.lI,children:this.renderButtons()}),b&&(0,x.jsx)(_.ZP,{onDismiss:()=>d(u),pinKey:null!=y?{type:"deprecated",data:y}:null})]})}}function T(e){let{logContextEvent:i}=(0,s.v)(),t=(0,o.Z)(),n=(0,d.ZP)(),r=(0,S.S6)()(e.pinId),u=(0,g.kf)(),c=(0,a.useDispatch)();return(0,x.jsx)(w,{...e,clientTrackingParams:t,hideAdReasonsModal:e=>c((0,P.yj)(e)),hidePinFeedback:e=>c((0,P.I1)(e)),history:(0,l.k6)(),i18n:n,isWindowsPwa:u,location:(0,l.TH)(),logContextEvent:i,pin:r,showAdReasonsModal:e=>c((0,P.b9)(e)),showPinFeedback:(e,i)=>c((0,P.q1)(e,i)),showPinFeedbackOverlay:e=>c((0,P.Ib)(e)),showPinFeedbackUndo:(e,i,t,n)=>c((0,P.NA)({id:e,text:i,undoAction:t,undoText:n}))})}},438908:(e,i,t)=>{t.d(i,{Z:()=>T}),t(167912);var n,a,l=t(693967),r=t.n(l),o=t(883119),s=t(832654),d=t(260633),u=t(301723),c=t(357998),p=t(898781),h=t(349700),m=t(310227),g=t(773285),y=t(916117),_=t(784521),v=t(785893);let f=void 0!==n?n:n=t(536531);function b({alt:e,onError:i=()=>{},onLoad:t=()=>{},pinKey:n}){var a,l;let r=(0,y.Z)(f,n),{dominantColor:s}=r,{height:d,width:u,url:c}=null!==(a="number"==typeof(null===(l=r.imageSpec_474x)||void 0===l?void 0:l.width)&&"number"==typeof r.imageSpec_474x.height&&r.imageSpec_474x.width>r.imageSpec_474x.height?r.imageSpec_736x:r.imageSpec_474x)&&void 0!==a?a:{};return(0,v.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{zIndex:_.Z.storyPinImage}},width:"100%",children:(0,v.jsx)(o.Ee,{alt:e,color:s||"transparent",naturalHeight:null!=d?d:1,naturalWidth:null!=u?u:1,onError:i,onLoad:t,src:c||""})})}var P=t(415940);let S=["ShoppingGridSmall","ShoppingGridSmallCarousel","ShoppingDynamicHeightGrid"],x=void 0!==a?a:a=t(94506),k=e=>{var i,t,n,a;return{altText:e.alt_text,autoAltText:e.auto_alt_text,carouselData:e.carousel_data&&{__typename:"PinCarouselData"},description:e.description,dominantColor:e.dominant_color,entityId:e.id,gridTitle:e.grid_title,imageSpec_236x:(null===(i=e.images)||void 0===i?void 0:i["236x"])&&{height:e.images["236x"].height,url:e.images["236x"].url,width:e.images["236x"].width},imageSpec_474x:(null===(t=e.images)||void 0===t?void 0:t["474x"])&&{height:e.images["474x"].height,url:e.images["474x"].url,width:e.images["474x"].width},imageSpec_736x:(null===(n=e.images)||void 0===n?void 0:n["736x"])&&{height:e.images["736x"].height,url:e.images["736x"].url,width:e.images["736x"].width},imageSpec_orig:(null===(a=e.images)||void 0===a?void 0:a.orig)&&{height:e.images.orig.height,url:e.images.orig.url,width:e.images.orig.width},storyPinDataId:e.story_pin_data_id,title:e.title,isThirdPartyAd:e.is_third_party_ad}},w=({children:e,cropStoryPinImage:i,cropWidth:t,cropHeight:n})=>i?(0,v.jsx)(o.kC,{alignItems:"center",height:t?n:void 0,justifyContent:"start",width:t||void 0,children:e}):(0,v.jsx)(o.xu,{children:e}),T=({cropHeight:e,cropWidth:i,fallbackColor:t,highResOnly:n,imageFit:a,lowResOnly:l,mediumResOnly:y,onError:_,onLoad:f,pinKey:T,saved:E=!1,surface:I})=>{var A,R,C,F,D,L,j,O,K,N,M;let Z=(0,p.ZP)(),z=(0,d.Xx)(),{checkExperiment:V}=(0,g.F)(),{data:B,childDataKey__DEPRECATED:U}=(0,c.Q)(x,T,{useLegacyAdapter:k}),{altText:H,autoAltText:G,carouselData:W,description:$="",dominantColor:Y,entityId:q,gridTitle:X,isThirdPartyAd:J,title:Q}=B,ee=(0,h.nk)(Z._('This contains an image of: {{ pinTitle }}', 'web.altText', 'Alt text input for PinImage by a human'),{pinTitle:Q||X}).join(""),ei=(0,s.Z)({altText:H,autoAltText:G,i18n:Z,checkExperiment:V})||!!(null!=$&&$.trim().length)&&$||ee;if(W)return(0,v.jsx)(P.Z,{highResOnly:n,isThirdPartyAd:J,lowResOnly:l,onError:_,onLoad:f,pinId:q,pinKey:null});let et="",en,ea=0,el=0;if(B.imageSpec_736x||B.imageSpec_orig||B.imageSpec_474x||B.imageSpec_236x){let e=B.imageSpec_236x;n?e=B.imageSpec_736x||B.imageSpec_orig||B.imageSpec_474x||B.imageSpec_236x:y&&(e=B.imageSpec_474x||B.imageSpec_orig||B.imageSpec_236x),ea=null===(F=e)||void 0===F?void 0:F.height,el=null===(D=e)||void 0===D?void 0:D.width,et=null===(L=e)||void 0===L?void 0:L.url,en=l||y||n?null!==(j=e)&&void 0!==j&&j.url?`${e.url} 1x`:"":[(null===(O=B.imageSpec_236x)||void 0===O?void 0:O.url)&&`${B.imageSpec_236x.url} 1x`,(null===(K=B.imageSpec_474x)||void 0===K?void 0:K.url)&&`${B.imageSpec_474x.url} 2x`,(null===(N=B.imageSpec_736x)||void 0===N?void 0:N.url)&&`${B.imageSpec_736x.url} 3x`,(null===(M=B.imageSpec_orig)||void 0===M?void 0:M.url)&&`${B.imageSpec_orig.url} 4x`].filter(Boolean).join(", ")}null!=z&&z.image&&(ea=z.image.height,el=z.image.width,et=z.image.url);let er=["ShoppingGridSmall","ShoppingGridSmallCarousel"].includes(I)?void 0:m.Ml;return(0,v.jsx)(o.kC,{alignItems:"center",justifyContent:"start",minHeight:er,children:(0,v.jsx)(o.xu,{flex:"grow",children:(0,v.jsx)("div",{className:r()({savedGradient:E}),children:B.storyPinDataId?(0,v.jsx)(w,{cropHeight:e,cropStoryPinImage:!!i&&S.includes(I),cropWidth:i,children:(0,v.jsx)(b,{alt:ei,onError:_,onLoad:f,pinKey:U})}):(0,v.jsx)(o.xu,{"data-test-id":"non-story-pin-image",height:i?e:void 0,width:i||void 0,children:(0,v.jsx)(u.Z,{alt:ei,color:"dominant"===t?null!=Y?Y:void 0:t,crossOrigin:J?"anonymous":void 0,fit:a,naturalHeight:null!==(A=ea)&&void 0!==A?A:1,naturalWidth:null!==(R=el)&&void 0!==R?R:1,onError:_,onLoad:f,src:null!==(C=et)&&void 0!==C?C:"",srcSet:en})})})})})}},299554:(e,i,t)=>{t.d(i,{Z:()=>D});var n,a,l,r,o=t(667294);t(167912);var s=t(883119),d=t(438908),u=t(916117),c=t(357998),p=t(623568),h=t(46584),m=t(965900),g=t(108529),y=t(799034),_=t(82726),v=t(898781),f=t(785893);let b={overlay:{__style:{backgroundColor:"#000"}}};function P({backgroundImage:e,naturalHeight:i,naturalWidth:t,onRestartVideo:n,pinId:a}){let l=(0,v.ZP)();return(0,f.jsxs)(s.Ee,{alt:l._('pin image', 'image of a pin', 'image of a pin'),naturalHeight:i,naturalWidth:t,src:e,children:[(0,f.jsx)(s.xu,{bottom:!0,dangerouslySetInlineStyle:b.overlay,left:!0,opacity:.8,position:"absolute",right:!0,top:!0}),(0,f.jsxs)(s.xu,{"data-test-id":`video-end-card-${a}`,direction:"column",display:"flex",height:"100%",justifyContent:"center",position:"absolute",width:"100%",children:[(0,f.jsx)(s.iP,{rounding:2,children:(0,f.jsxs)(s.xu,{display:"flex",justifyContent:"center",padding:2,children:[(0,f.jsx)(s.JO,{accessibilityLabel:l._('Visit site', 'Button when pressed goes to pin\'s website', 'Button when pressed goes to pin\'s website'),color:"light",dangerouslySetSvgPath:{__path:y.Z},size:25}),(0,f.jsx)(s.xu,{margin:1}),(0,f.jsx)(s.xv,{color:"light",lineClamp:1,weight:"bold",children:l._('Visit site', 'Button when pressed goes to pin\'s website', 'Button when pressed goes to pin\'s website')})]})}),(0,f.jsx)(s.xu,{margin:3}),(0,f.jsx)(s.iP,{onTap:n,rounding:2,children:(0,f.jsxs)(s.xu,{display:"flex",justifyContent:"center",padding:2,children:[(0,f.jsx)(s.JO,{accessibilityLabel:l._('Watch again', 'Button when pressed restarts the video', 'Button when pressed restarts the video'),color:"light",dangerouslySetSvgPath:{__path:_.Z},size:25}),(0,f.jsx)(s.xu,{margin:1}),(0,f.jsx)(s.xv,{color:"light",lineClamp:1,weight:"bold",children:l._('Watch again', 'Button when pressed restarts the video', 'Button when pressed restarts the video')})]})})]})]})}function S({aspectRatio:e,children:i}){return(0,f.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{aspectRatio:e}},children:i})}var x=t(926749);let k=new Set(["ConversationView","TodayTabFeed"]),w=void 0!==n?n:n=t(525813);var T=t(357787),E=t(36971),I=t(463045);function A(e,i,t){var n;return(i="symbol"==typeof(n=function(e,i){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,i||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(i,"string"))?n:String(n))in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}let R=(0,T.Z)(function({inAdsDesktopVideoExperiment:e,isAutoplay:i,cropHeight:n,currentTime:l,lowResOnly:r,highResOnly:y,onLoad:_,onError:v,saved:b,onTimeChange:T,isExperimentalPinRep:E,pinKey:I,surface:A,playing:R,rootMargin:C,viewType:F,viewParameter:D,onVisibilityChanged:L,trackFullVisible:j,inVisibilityChangedHookExperiment:O,imageHeightModifier:K,cropWidth:N,video:M}){var Z,z,V,B,U,H;let G;let[W,$]=(0,o.useState)(!1),[Y,q]=(0,o.useState)(!0),X=(0,u.Z)(w,I),{childDataKey__DEPRECATED:J}=(0,c.Q)(void 0!==a?a:a=t(859134),X,{useLegacyAdapter:e=>({})}),{isDownstreamPromotion:Q,promoter:ee}=X,ei=(0,p.jL)(!!Q,!!ee),et=ei&&!X.isEligibleForWebCloseup,en=E&&ei&&X.isEligibleForWebCloseup&&!k.has(A),{setCurrentVideo:ea}=(0,m.I)(),el=et||!E||!ei,er=(0,h.Z)({onVisibilityChanged:L,inAdsDesktopVideoExperiment:e,trackFullVisible:j,rootMargin:C}),eo=!R;e&&(eo=Y,i&&R&&Y&&q(!1));let{url:es}=null!==(Z=X.imageSpec_236x)&&void 0!==Z?Z:{},{entityId:ed,isPromoted:eu}=X,ec=(0,o.useCallback)(({event:e})=>{e.preventDefault(),e.stopPropagation(),ea({pinId:ed,isPromoted:!!eu,currentTime:0}),$(!1)},[eu,ed,ea]),ep=(0,o.useCallback)(()=>{eu&&$(en)},[en,eu]),eh=null!=M?M:null===(z=X.videos)||void 0===z?void 0:null===(V=z.videoList)||void 0===V?void 0:V.vHLSV4;if(!eh)return null;let{height:em,thumbnail:eg,width:ey,url:e_}=eh,ev=null!==(B=null!==(U=null==M?void 0:M.entityId)&&void 0!==U?U:null===(H=X.videos)||void 0===H?void 0:H.entityId)&&void 0!==B?B:"",ef=[{type:"video/m3u8",src:e_}],eb=(null!=ey?ey:1)/(null!=em?em:1),eP=e&&A&&(0,g.Z)(A);if(eP&&(eb=1,G="transparent",K&&(eb-=K-1)),W&&ei)return(0,f.jsx)(s.xu,{ref:O?er:null,children:(0,f.jsx)(P,{backgroundImage:null!=es?es:"",naturalHeight:null!=em?em:1,naturalWidth:null!=ey?ey:1,onRestartVideo:ec,pinId:ed})});if(eo){let e={highResOnly:y,lowResOnly:r,onError:v,onLoad:_,pinKey:J,saved:b};return eP&&(e={...e,cropHeight:n,cropWidth:N,imageFit:"contain"}),(0,f.jsx)(s.xu,{ref:O?er:null,children:(0,f.jsx)(S,{aspectRatio:eb,children:(0,f.jsx)(d.Z,{...e})})})}return(0,f.jsx)(s.xu,{ref:O?er:null,children:(0,f.jsx)(x.ZP,{aspectRatio:eb,backgroundColor:G,captions:"",contextLogData:{viewParameter:D,component:0,objectId:ed,video_id:ev,view:F},cropHeight:n,hlsConfig:{capLevelToPlayerSize:!0,startPosition:l||-1},inAdsDesktopVideoExperiment:e,isAutoPlay:!!i,loop:el,onEnded:ep,onPlay:()=>{},onPlayError:()=>{},onTimeChange:T,playing:R,poster:es||eg||void 0,rootMargin:C,src:null!=ef?ef:[],surface:A,videoStartTime:l,volume:0})})}),C=void 0!==l?l:l=t(278822);class F extends o.Component{constructor(...e){super(...e),A(this,"calculateCurrentVideoTime",()=>{let{currentTimeFromPinRep:e,pin:i,videosAutoplaying:t}=this.props,{entityId:n}=i,a=(0,E.Z)(n,t);return this.currentVideoCurrentTime||a||e}),A(this,"handleVisibilityChanged",e=>{let{currentTimeFromPinRep:i,pin:t,setCurrentVideo:n,pauseAutoplay:a,videosAutoplaying:l}=this.props,{entityId:r,isPromoted:o}=t,s=(0,I.Z)(r,l),d=function(e,i){let{organicVideosAutoplaying:t,promotedVideosAutoplaying:n}=i,a={...t,...n};for(let i in a){let{paused:t}=a[i];if(i!==e&&!t)return!1}return!0}(r,l);e?o?n({pinId:r,isPromoted:o,currentTime:this.calculateCurrentVideoTime()}):d&&n({pinId:r,isPromoted:!!o,currentTime:this.calculateCurrentVideoTime()}):!e&&s&&a({pinId:r,isPromoted:!!o,currentTime:i||this.currentVideoCurrentTime})}),A(this,"handleVideoTimeChange",e=>{let{pin:i,onTimeChange:t,videosAutoplaying:n}=this.props,{entityId:a}=i,l=(0,I.Z)(a,n);l&&(this.currentVideoCurrentTime=e.time),t&&t(e)})}componentDidMount(){this.props.onLoad&&this.props.onLoad()}componentDidUpdate(e){let{appInFocus:i}=e,{appInFocus:t,currentTimeFromPinRep:n,pauseAutoplay:a,pin:l,setCurrentVideo:r,videosAutoplaying:o}=this.props,{entityId:s,isPromoted:d}=l,u=(0,I.Z)(s,o);t!==i&&!t&&u?(this.pausedDueToBrowserOutOfFocus=!0,a({pinId:s,isPromoted:!!d,currentTime:n||this.currentVideoCurrentTime})):this.pausedDueToBrowserOutOfFocus&&t&&(this.pausedDueToBrowserOutOfFocus=!1,r({pinId:s,isPromoted:!!d,currentTime:this.calculateCurrentVideoTime()}))}componentWillUnmount(){let{currentTimeFromPinRep:e,pauseAutoplay:i,pin:t,videosAutoplaying:n}=this.props,{entityId:a,isPromoted:l}=t,r=(0,I.Z)(a,n);r&&i({pinId:a,isPromoted:!!l,currentTime:e||this.currentVideoCurrentTime})}render(){let{childDataKey__DEPRECATED:e,cropHeight:i,isAutoplay:t,pin:n,surface:a,videosAutoplaying:l,viewParameter:r,viewType:o,highResOnly:s,lowResOnly:d,onError:u,onLoad:c,saved:p,inAdsDesktopVideoExperiment:h,isExperimentalPinRep:m,rootMargin:g,cropWidth:y,imageHeightModifier:_,video:v}=this.props,{entityId:b}=n,P=(0,E.Z)(b,l),S=(0,I.Z)(b,l),x=S&&t,k={cropHeight:i,rootMargin:g,currentTime:P,inAdsDesktopVideoExperiment:h,isAutoplay:t,viewParameter:r,viewType:o,onTimeChange:this.handleVideoTimeChange,onVisibilityChanged:this.handleVisibilityChanged,pinKey:e,surface:a,playing:x,trackFullVisible:!1,highResOnly:s,lowResOnly:d,onError:u,onLoad:c,saved:p,isExperimentalPinRep:m,cropWidth:y,imageHeightModifier:_,...v?{video:v}:{}};return(0,f.jsx)(R,{...k})}}function D({pinKey:e,...i}){let{appUI:{appInFocus:n,isAutoplay:a,videosAutoplaying:l},pauseAutoplay:o,setCurrentVideo:s}=(0,m.I)(),d=(0,u.Z)(C,e),{childDataKey__DEPRECATED:p}=(0,c.Q)(void 0!==r?r:r=t(790135),d,{useLegacyAdapter:e=>({})});return(0,f.jsx)(F,{...i,appInFocus:n,childDataKey__DEPRECATED:p,isAutoplay:a,pauseAutoplay:o,pin:d,setCurrentVideo:s,videosAutoplaying:l})}},650632:(e,i,t)=>{t.d(i,{Z:()=>nf});var n,a,l,r,o,s,d,u,c,p,h,m,g,y,_,v,f,b,P,S,x,k,w,T,E,I,A,R,C,F,D,L,j,O,K,N,M,Z=t(667294),z=t(702664),V=t(616550),B=t(883119);t(167912);var U=t(319915),H=t(916117),G=t(898781),W=t(241244),$=t(780280),Y=t(947599),q=t(50286),X=t(199387),J=t(576440),Q=t(538232),ee=t(95551),ei=t(785893);let et=(0,Z.lazy)(()=>t.e(48035).then(t.bind(t,43819))),en=(0,Z.lazy)(()=>Promise.resolve().then(t.bind(t,808868))),ea=(0,Z.lazy)(()=>t.e(5035).then(t.bind(t,351326))),el=(0,Z.lazy)(()=>t.e(99429).then(t.bind(t,787051))),er=void 0!==n?n:n=t(197974),eo=({pinId:e})=>{let{onSendButtonClick:i}=(0,Q.R)(),t=(0,X.Z)(101,{element:72,object_id_str:e});return(0,ei.jsx)(ee.Z,{bgColor:"white",onSendButtonClick:i,size:"sm",trackShareTap:t})},es=(0,Z.memo)(function({actionBarEditBeforeShare:e,feedbackData:i,feedbackType:t,layout:n,onToggleFlyout:a,pinKey:l,pinTitle:r,setForcePrimary:o,showEditButton:s,showOverflowMenu:d,showShareButton:u,showSourceLinkButton:c,sourceLinkStyle:p,surface:h,trackingParamsMap:m}){var g,y,_,v;let f=(0,G.ZP)(),b=(0,B.JZ)(),{isRTL:P}=(0,$.B)(),S=!(0,q.HG)(),{viewParameter:x,viewType:k}=(0,J.E)(),w=(0,H.Z)(er,l),{carouselData:T,entityId:E,savedInfo:I,trackedLink:A,link:R,adDestinationUrl:C}=w,F=null!==(g=null!==(y=null!=C?C:A)&&void 0!==y?y:R)&&void 0!==g?g:"",D=!!w.promotedIsLeadAd,[L,j]=(0,Z.useState)(s),[O,K]=(0,Z.useState)(s),[N,M]=(0,Z.useState)(s),z=P?{marginLeft:s&&d?-44:0}:{marginRight:s&&d?-44:0},V={...z,transition:P?"margin-left .2s ease-in-out":"margin-right .2s ease-in-out"},X={...P?{marginRight:O?4:0}:{marginLeft:O?4:0},transition:P?"margin-right .2s ease-in-out":"margin-left .2s ease-in-out"};(0,Z.useEffect)(()=>{let e;return s&&d?(K(!0),e=setTimeout(()=>{requestAnimationFrame(()=>{j(!0),requestAnimationFrame(()=>{M(!0)})})},800)):(K(s),j(s),requestAnimationFrame(()=>{M(s)})),()=>{clearTimeout(e)}},[s,d]);let Q=`/pin/${E}`,ee=c&&(0,ei.jsx)(U.Z,{name:"SafeSuspense_PinRep_SourceLink",children:(0,ei.jsx)(Y.Z,{children:(0,ei.jsx)(W.Z,{children:D?(0,ei.jsx)(B.ZP,{accessibilityLabel:f._('Link for closeup view and learn more', '[m10n] pinRep.actionBar.learnMore', 'Content for learn more link'),href:Q,size:"sm",text:f._('Learn more', '[m10n] pinRep.actionBar.learnMore', 'Content for learn more link')}):(0,ei.jsx)(el,{pinKey:w,sourceLinkStyle:p,surface:h,trackingParamsMap:m,url:F})})})}),es=u&&(0,ei.jsx)(U.Z,{name:"SafeSuspense_PinRep_SendShareLink",children:(0,ei.jsx)(Y.Z,{children:(0,ei.jsx)(B.xu,{"data-test-id":"send-share-link",children:(0,ei.jsx)(W.Z,{children:S?(0,ei.jsx)(eo,{pinId:w.entityId}):(0,ei.jsx)(ea,{imageUrl:null===(_=w.imageSpec_236x)||void 0===_?void 0:_.url,ownerId:null===(v=w.pinner)||void 0===v?void 0:v.entityId,pinId:w.entityId,setForcePrimary:o})})})})}),ed=!!(null==I?void 0:I.localPinId),eu=ed?null==I?void 0:I.localPinId:E,ec=L&&(0,ei.jsx)(U.Z,{name:"SafeSuspense_PinRep_EditButton",children:(0,ei.jsx)(Y.Z,{children:(0,ei.jsx)(B.xu,{dangerouslySetInlineStyle:b?void 0:{__style:{opacity:N?1:0,transition:"opacity .2s ease-in-out",pointerEvents:"auto"}},"data-test-id":"edit-button",children:(0,ei.jsx)(W.Z,{children:(0,ei.jsx)(et,{carouselSlotCurrentIndex:T&&T.index,component:0,onToggleModal:a,pinId:eu,style:{size:"sm"},useLegoStyles:!0,view:k,viewParameter:x})})})})}),ep=(0,ei.jsx)(U.Z,{name:"SafeSuspense_PinRep_OverflowMenu",children:(0,ei.jsx)(Y.Z,{children:(0,ei.jsx)(B.xu,{dangerouslySetInlineStyle:b?void 0:{__style:X},"data-test-id":"overflow-menu-button",children:(0,ei.jsx)(W.Z,{children:(0,ei.jsx)(en,{feedbackData:i,feedbackType:t,pinKey:w,pinTitle:r,setForcePrimary:o})})})})});return"equally-spaced"===n?(0,ei.jsxs)(B.xu,{alignItems:"center",display:"flex",justifyContent:"between",padding:3,children:[(0,ei.jsx)(B.xu,{dangerouslySetInlineStyle:{__style:{flexBasis:32}},children:ee}),e?ec:es,e?es:ec,d&&ep]}):(0,ei.jsxs)(B.xu,{alignItems:"center",display:"flex",padding:3,children:[(0,ei.jsx)(B.xu,{flex:"shrink",children:ee}),(0,ei.jsx)(B.xu,{alignItems:"center",dangerouslySetInlineStyle:b?void 0:{__style:V},display:"flex",flex:"none",marginStart:"auto",children:(0,ei.jsxs)(B.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"end",children:[e?ec:es,e?es:ec,d&&ep]})})]})});var ed=t(41282),eu=t(768559),ec=t(48714),ep=t(188335),eh=t(773285);function em(e,i,t){var n;return(i="symbol"==typeof(n=function(e,i){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,i||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(i,"string"))?n:String(n))in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}let eg=void 0!==a?a:a=t(266643);class ey extends Z.Component{constructor(...e){super(...e),em(this,"state",{spamCheck:null}),em(this,"mounted",!1),em(this,"handleSpammyDomainCheck",()=>{let{clientTrackingParams:e,location:i,pin:t,surface:n,url:a}=this.props;a&&t&&(!t.promoter||t.isDownstreamPromotion)&&(0,ec.$3)({location:i,pinId:t.entityId,surface:n})&&(0,ec.iw)({clientTrackingParams:e,isMounted:this.mounted,pinId:t.entityId,spamCheckCallback:e=>this.setState({spamCheck:e}),href:a})}),em(this,"handleClick",e=>{let{auxData:i,clientTrackingParams:t,onClick:n,navigateToOffsiteUrl:a,pin:l,url:r}=this.props;!(0,ec.gV)({isOffsiteUrl:!0,event:e})&&(e.preventDefault(),n&&n(e),r&&a({auxData:i,clientTrackingParams:t,pin:l&&{attributionSourceId:l.attributionSourceId,campaignId:l.campaignId?Number(l.campaignId):null,isPromoted:l.isPromoted,pinPromotionId:l.pinPromotionId?Number(l.pinPromotionId):null,isThirdPartyAd:l.isThirdPartyAd,advertiserId:l.advertiserId},pinId:null==l?void 0:l.entityId,url:r}))})}componentDidMount(){this.mounted=!0,this.handleSpammyDomainCheck()}componentWillUnmount(){this.mounted=!1}componentDidUpdate(){let{spamCheck:e}=this.state;null===e&&this.handleSpammyDomainCheck()}render(){let{accessibilityLabel:e,children:i,shouldObfuscateOffsiteUrlInHref:t,url:n}=this.props;return(0,ei.jsx)("a",{"aria-label":e,href:t?(0,ed.Z)(n):n,onClick:this.handleClick,rel:"nofollow",style:{color:"inherit",textDecoration:"none",outline:"none",cursor:"pointer",display:"block"},target:null,children:i})}}function e_(e){var i,t,n;let{pinKey:a,disableA11yLabel:l,trackingParamsMap:r,auxData:o,children:s,onClick:d,surface:u,url:c}=e,p=(0,H.Z)(eg,a),{checkExperiment:h}=(0,eh.F)(),{isAuthenticated:m}=(0,$.B)(),g=(0,V.TH)(),y=p?(0,eu.Z)({boardUrl:null===(i=p.board)||void 0===i?void 0:i.url,location:g,pinId:p.entityId,pinnerUserName:null===(t=p.pinner)||void 0===t?void 0:t.username,storyPinDataId:p.storyPinDataId,trackingParams:p.trackingParams,trackingParamsMap:r}):null,_=(0,ep.Z)({isFromClickthroughLink:!0}),v=null!==(n=null==p?void 0:p.domain)&&void 0!==n?n:void 0;return(0,ei.jsx)(ey,{auxData:o,children:s,onClick:d,surface:u,url:c,accessibilityLabel:l?void 0:v,clientTrackingParams:y,location:(0,V.TH)(),navigateToOffsiteUrl:_,pin:p,shouldObfuscateOffsiteUrlInHref:m&&h("web_obfuscate_offsite_url_in_href").anyEnabled})}var ev=t(407043),ef=t(385740);function eb(e){if(!window||!window.prefetchCompletion||!window.prefetchCompletion[e])return"0";let{downloadedAssets:i,totalAssets:t}=window.prefetchCompletion[e];return t?(i/t*100).toFixed(3).toString():"-1"}let eP=void 0!==l?l:l=t(48607);function eS({children:e,componentType:i,contextLogData:t,disableA11yLabel:n,pinKey:a,surface:l,viewParameter:r,viewType:o,trackingParamsMap:s}){let d;let u=(0,H.Z)(eP,a),{logContextEvent:c}=(0,ev.v)(),p=(0,J.E)(),{adDestinationUrl:h,carouselData:m,entityId:g,link:y,trackedLink:_,isThirdPartyAd:v}=u,f=h||_||y||"",b="one-tap-desktop",P=(0,ef.SU)();if(m){var S;let{carouselSlots:e=[],entityId:i}=m,t=null!==(S=m.index)&&void 0!==S?S:0;null!=e&&e[t]&&e[t].link&&(f=e[t].link),d={carousel_slot_id:(null==e?void 0:e[t])&&e[t].entityId,carousel_data_id:i,carousel_slot_index:t},b+="-carousel"}return(0,ei.jsx)(B.xu,{"data-test-id":"otpp",children:(0,ei.jsx)(B.xu,{"data-test-id":b,children:(0,ei.jsx)(e_,{auxData:d,disableA11yLabel:n,onClick:()=>{c({event_type:12,view_type:o||p.viewType,view_parameter:r||p.viewParameter,component:i||p.componentType,object_id_str:g,aux_data:{...t,grid_index:p.slotIndex,pin_id:g,prefetch_percentage_complete:eb(y||""),is_third_party_ad:v}}),c({event_type:8948,view_type:o||p.viewType,view_parameter:r||p.viewParameter,component:i||p.componentType,object_id_str:g,aux_data:{...t,click_type:"clickthrough",closeup_navigation_type:"click",grid_index:p.slotIndex,pin_id:g,prefetch_percentage_complete:eb(y||""),is_third_party_ad:v}}),c({event_type:13,object_id_str:g,component:i||p.componentType,view_type:3,aux_data:{closeup_navigation_type:"web_closeup",...p.contextLogData,...t,is_third_party_ad:v}}),c({event_type:13,view_type:P.viewType,view_parameter:P.viewParameter,view_data:P.viewData})},pinKey:u,surface:l,trackingParamsMap:s,url:f,children:e})})})}var ex=t(357998),ek=t(62700);let ew=void 0!==r?r:r=t(465869);function eT(e){var i;let{surface:n,trackingParamsMap:a,pinKey:l,...r}=e,s=(0,H.Z)(ew,l),{childDataKey__DEPRECATED:d}=(0,ex.Q)(void 0!==o?o:o=t(137460),s,{useLegacyAdapter:e=>({})}),u=!!s.promotedIsLeadAd,c=!!s.isEligibleForWebCloseup,p=!!s.promoter&&!s.isDownstreamPromotion,h=!!(null!==(i=s.videos)&&void 0!==i&&i.videoList);return!u&&(c||h&&p)?(0,ei.jsx)(eS,{pinKey:d,surface:c?n:void 0,trackingParamsMap:a,...r}):(0,ei.jsx)(ek.Z,{pinKey:d,trackingParamsMap:a,...r})}var eE=t(742840),eI=t(221263),eA=t(333312),eR=t(19121),eC=t(676464),eF=t(956800),eD=t(492583),eL=t(852025),ej=t(596493);function eO({board:e,favoriteCount:i,favorited:t,pinId:n}){var a;let{logContextEvent:l}=(0,ev.v)(),r=(0,z.useDispatch)(),{slotIndex:o}=(0,J.E)(),{currentFilter:s,eligibleFilters:d,refreshData:u=()=>{},sectionId:c,setShowExperienceTooltip:p}=(0,eL.s)(),h=(0,Z.useRef)(null),m=(0,eR.Z)(),g=(0,eI.Z)(m,null==e?void 0:null===(a=e.owner)||void 0===a?void 0:a.id),y=s===ej.Ac&&(!i||1===i),_=(0,eC.E)(d,ej.Ac),v=e=>{l({event_type:101,component:0,element:e?12225:12226,object_id_str:n,view_type:5,view_parameter:g?3069:3070})};return(0,ei.jsxs)(Z.Fragment,{children:[(0,ei.jsx)(B.xu,{ref:h,children:(0,ei.jsx)(eE.Z,{favoriteCount:i,favorited:t,onFavorite:()=>{v(!0),_&&u(),p&&p(!0)},onUnfavorite:()=>{v(!1),e&&y&&r((0,eF.EX)({feedId:c||e.id,feedType:c?eD.Z.BOARD_SECTION_PINS:eD.Z.BOARDFEED,itemIds:[n],itemType:"pin"}))},pinId:n,size:20})}),h&&!t&&!c&&0===o&&(0,ei.jsx)(B.mh,{children:(0,ei.jsx)(eA.default,{anchor:h.current,experienceIds:[502973],flyoutSize:312,idealDirection:"up",placementId:18,positionRelativeToAnchor:!1,showCaret:!0,textAlign:"center"})})]})}let eK=void 0!==s?s:s=t(119905);function eN({pinKey:e,pinNoteText:i,trackingParamsMap:t}){let{childDataKey__DEPRECATED:n}=(0,ex.Q)(eK,e,{useLegacyAdapter:()=>({})});return(0,ei.jsx)(eT,{pinKey:n,trackingParamsMap:t,children:(0,ei.jsx)(B.xv,{lineClamp:1,overflow:"normal",size:"200",children:i})})}let eM=void 0!==d?d:d=t(129053),eZ=e=>{var i,t,n;return 0!==Object.keys((null===(i=e.aggregatedPinData)||void 0===i?void 0:null===(t=i.creatorAnalytics)||void 0===t?void 0:t._30dRealtime)||{}).length?null===(n=e.aggregatedPinData)||void 0===n?void 0:n.creatorAnalytics:e.creatorAnalytics},ez=e=>{let i=(0,H.Z)(eM,e),t=eZ(i),n=null==t?void 0:t._30dRealtime;return n&&{impression:n.impression,pinClick:n.pinClick,save:n.save}};var eV=t(81226),eB=t(694379);function eU({value:e,valueFormat:i}){let t=(0,G.ZP)();return e||0===e?"TIME"===i?(0,eV.Z)(e):(0,ei.jsx)(eB.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:e}):(0,ei.jsx)(B.u,{idealDirection:"up",text:t._('This stat is not available yet', 'closeup.partnerAnalytics.unavailableStat', 'when data for this field has not populated yet'),children:""})}let eH=void 0!==u?u:u=t(924935);function eG({pinKey:e}){let i=(0,G.ZP)(),n=(0,H.Z)(eH,e),{childDataKey__DEPRECATED:a}=(0,ex.Q)(void 0!==c?c:c=t(841680),n,{useLegacyAdapter:e=>({})}),l=ez(a),r=!!n.promotedIsRemovable,o=function({isAdsOnlyPin:e,i18n:i}){return e?[{align:"center",displayText:i._('Impressions', 'pinRep.pinStats.impression', 'Label for impressions of a pin on pinrep'),field:"impression",iconType:"eye"},{align:"center",displayText:i._('Pin clicks', 'pinRep.pinStats.pinclick', 'Label for pin clicks of a pin on pinrep'),field:"pinClick",iconSize:10,iconType:"hand-pointing"}]:[{align:"start",displayText:i._('Impressions', 'pinRep.pinStats.impression', 'Label for impressions of a pin on pinrep'),field:"impression",iconType:"eye"},{align:"center",displayText:i._('Saves', 'pinRep.pinStats.save', 'Label for saves of a pin on pinrep'),field:"save",iconType:"angled-pin"},{align:"end",displayText:i._('Pin clicks', 'pinRep.pinStats.pinclick', 'Label for pin clicks of a pin on pinrep'),field:"pinClick",iconSize:10,iconType:"hand-pointing"}]}({isAdsOnlyPin:r,i18n:i});return(0,ei.jsx)(B.kC,{alignItems:"start",justifyContent:r?"around":"between",children:o.map(({align:e,displayText:i,field:t,iconType:n,iconSize:a=12,valueFormat:r})=>(0,ei.jsxs)(B.xu,{alignItems:"center",column:4,display:"flex",justifyContent:e,children:[(0,ei.jsx)(B.xu,{display:"inlineBlock",marginEnd:1,children:(0,ei.jsx)(B.JO,{accessibilityLabel:i,color:"default",icon:n,size:a})}),(0,ei.jsx)(B.xv,{inline:!0,size:"200",children:(0,ei.jsx)(eU,{value:null==l?void 0:l[t],valueFormat:r})})]},t))})}var eW=t(459151),e$=t(99064);function eY(){let e=(0,G.ZP)();return(0,ei.jsx)(B.JO,{accessibilityLabel:e._('Shoppable Pin indicator', 'pinRep.footer.shoppingIcon', 'Accessibilility label for shoppable pin icon in grid'),color:"default",dangerouslySetSvgPath:{__path:e$.Z},inline:!0,size:18})}let eq=void 0!==p?p:p=t(857381);function eX({disableLink:e,pinKey:i,showShoppingIcon:t,sourceText:n,surface:a,trackingParamsMap:l,weight:r}){let{childDataKey__DEPRECATED:o}=(0,ex.Q)(eq,i,{useLegacyAdapter:()=>({})}),s=(0,ei.jsx)(B.xu,{"data-test-id":"pin-source",children:(0,ei.jsxs)(B.xv,{color:"default",lineClamp:1,overflow:"normal",size:"200",title:n,weight:null!=r?r:"normal",children:[t&&(0,ei.jsx)(eY,{}),n]})});return e?s:(0,ei.jsx)(eT,{pinKey:o,surface:a,trackingParamsMap:l,children:s})}var eJ=t(366284),eQ=t(391254),e0=t(711344);let e1=void 0!==h?h:h=t(730445);function e2({disableLink:e,numberOfLines:i=2,pinKey:n,pinTitle:a,showShoppingIcon:l,surface:r,trackingParamsMap:o,weight:s}){let d=(0,$.B)(),{checkExperiment:u}=(0,eh.F)(),c=(0,H.Z)(e1,n),{childDataKey__DEPRECATED:p}=(0,ex.Q)(void 0!==m?m:m=t(53553),c,{useLegacyAdapter:e=>({})}),h=!!c.promoter&&!c.isDownstreamPromotion,g=`
  .shorten-title > a {
    max-width: 100%;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }
  .shorten-title {
    max-width: 100%;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }
  `,y=e?a:(0,ei.jsx)(eT,{pinKey:p,surface:r,trackingParamsMap:o,children:(0,ei.jsxs)(Z.Fragment,{children:[l&&(0,ei.jsx)(eY,{}),a]})}),_=(0,eJ.G6)(d.userAgent.browserName),v="iphone"===(0,e0.vR)(d),f="ipad"===(0,e0.vR)(d);return(v||f||_)&&!h&&u("hfp_title_truncation_safari_web").anyEnabled?(0,ei.jsxs)(B.xv,{color:"default",size:"200",weight:null!=s?s:"bold",children:[(0,ei.jsx)(eQ.Z,{unsafeCSS:g}),(0,ei.jsx)("div",{className:"shorten-title",children:y})]}):(0,ei.jsx)(B.xv,{color:"default",lineClamp:i,size:"200",weight:null!=s?s:"bold",children:y})}var e6=t(808868),e3=t(670451),e8=t(147916),e4=t(404247),e7=t(86119),e9=t(244892),e5=t(662502),ie=t(681227);let ii={goodIdea:e8,love:e7,thanks:e9,wow:e5,haha:e4},it={_7:"goodIdea",_1:"love",_13:"thanks",_11:"wow",_5:"haha"},ia=["CreatorProfileStoryPinGrid"],il=void 0!==g?g:g=t(345170),ir=function({alignment:e="start",pinKey:i,surface:n}){var a;let l=(0,eR.Z)(),r=(0,H.Z)(il,i),{childDataKey__DEPRECATED:o}=(0,ex.Q)(void 0!==y?y:y=t(494311),r,{useLegacyAdapter:e=>({})}),s=(0,e3.Z)(o),d=s?(0,ie.At)(s):null,u=s?(0,ie.Ud)(s):0,c=!!(l.isAuth&&(null===(a=r.pinner)||void 0===a?void 0:a.entityId)===l.id),p=!!d&&d.length>0&&d.map((e,i)=>{let t=it[e],n=ii[t];return(0,ei.jsx)(B.xu,{dangerouslySetInlineStyle:{__style:{marginRight:2}},children:(0,ei.jsx)(B.xu,{dangerouslySetInlineStyle:{__style:{backgroundImage:`url(${n})`,backgroundPosiiton:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"}},height:17,width:17})},i)}),h=!!p&&(0,ei.jsx)(B.Tg,{href:`/pin/${r.entityId}/`,children:(0,ei.jsxs)(B.xu,{alignItems:"center",direction:"row",display:"flex",height:19,justifyContent:e,paddingY:3,children:[(0,ei.jsx)(B.kC,{alignItems:"stretch",direction:"row",justifyContent:"start",children:p}),(0,ei.jsx)(B.xu,{paddingX:1,children:(0,ei.jsx)(B.xv,{size:"200",children:(0,ei.jsx)(eB.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:u})})})]})}),m=c&&ia.includes(n)&&(0,ei.jsx)(B.xu,{height:24});return h||m};var io=t(4294),is=t(356997);function id({accessibilityLabel:e,attributionNameLink:i,avatarUrl:t,fullWidth:n=!0,name:a="",onClick:l,outline:r=!1,size:o=32,shouldRenderAdsOnlyProfileClick:s=!1}){let d=(0,ei.jsx)(B.xu,{"data-test-id":"attribution-avatar",height:o,width:o,children:(0,ei.jsx)(is.qE,{accessibilityLabel:"",name:a,outline:r,src:t})});return i?(0,ei.jsx)(B.Tg,{accessibilityLabel:e,fullWidth:n,href:i,onTap:l,rel:s?"nofollow":void 0,target:s?"blank":void 0,children:d}):d}var iu=t(987765);function ic({isHover:e,attributionNameLink:i,name:t,onClick:n,regularWeight:a}){return(0,ei.jsx)(B.xu,{children:i?(0,ei.jsx)(B.xv,{lineClamp:1,size:"200",underline:e,weight:a?"normal":"bold",children:(0,ei.jsx)(B.rU,{href:i,onClick:n,children:t})}):(0,ei.jsx)(iu.Z,{lineClamp:1,size:"200",underline:e,weight:a?"normal":"bold",children:t})})}function ip({isHover:e,link:i,onClick:t,title:n,weight:a,inline:l=!0}){return n?(0,ei.jsx)(B.xv,{inline:l,size:"200",underline:e,weight:a,children:i?(0,ei.jsx)(B.rU,{href:i,onClick:t,children:n}):n}):null}var ih=t(865607),im=t(807532);function ig({attributionNameLink:e,attributionTitle:i,avatarUrl:t,display:n="default",isPromotedByPinCreator:a,name:l,url:r,verifiedIdentity:o,isVerifiedMerchant:s,shouldRenderAdsOnlyProfileClick:d,pinId:u,storyPinDataId:c,hasPromoter:p,hasSponsorship:h,sponsorshipCreatorId:m,isDownstreamPromotion:g}){var y;let{checkExperiment:_}=(0,eh.F)(),v=(0,im.f)(),[f,b]=(0,Z.useState)(!1),P=p&&!g,{logContextEvent:S}=(0,ev.v)(),x=(0,X.Z)(101,{view_type:3,element:P?283:27,object_id_str:u,component:c?230:void 0,aux_data:{...m?{creator_id:m,pin_id:u}:{}}}),k=()=>{v.setMostRecentPinId(u),x()},w=()=>{b(e=>!e)},T=r&&!e,E=T?"":l,I="overlay"===n,A={marginLeft:"3px",marginRight:"3px"},R=(0,ei.jsxs)(B.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{marginLeft:"-3px",marginRight:"-3px"}},display:I?void 0:"flex",children:[t&&(0,ei.jsx)(B.xu,{dangerouslySetInlineStyle:{__style:A},display:I?"flex":void 0,flex:"none",justifyContent:"center",children:(0,ei.jsx)(B.xu,{dangerouslySetInlineStyle:I?{__style:{marginTop:-45}}:void 0,children:(0,ei.jsx)(id,{accessibilityLabel:E,attributionNameLink:E?e:void 0,avatarUrl:t,name:E,onClick:()=>k(),outline:I,size:I?64:32})})}),(0,ei.jsxs)(B.xu,{dangerouslySetInlineStyle:{__style:A},display:I?"flex":void 0,flex:"grow",justifyContent:"center",marginTop:I?2:void 0,overflow:"hidden",children:[(0,ei.jsx)(B.xu,{dangerouslySetInlineStyle:{__style:{marginBottom:null!==(y=_("web_obfuscate_ads_with_global_css").group.split("_")[2])&&void 0!==y?y:"2px"}},children:(0,ei.jsxs)(B.kC,{gap:{row:1,column:0},children:[(0,ei.jsx)(ic,{attributionNameLink:e,isHover:f,name:l,onClick:()=>k(),regularWeight:!(P&&!h||a)}),(0,ei.jsx)(ih.Z,{isVerifiedIdentity:o,isVerifiedMerchant:s,size:"sm"})]})}),(0,ei.jsx)(ip,{inline:!P,isHover:f,title:i,weight:"normal"})]})]});return T?(0,ei.jsx)(B.Tg,{href:r,onMouseEnter:w,onMouseLeave:w,onTap:({event:e})=>{d&&S({event_type:9371,element:13382,aux_data:{aop_origin:"Attribution"}}),e.stopPropagation(),k()},rel:d?"nofollow":void 0,target:d?"blank":void 0,children:R}):R}var iy=t(225692);let i_={container:{padding:"8px 6px 16px"},productContainer:{padding:"12px 6px 16px"},imageOnlyAttribution:{hidden:{opacity:0,transition:`opacity ${iy.X}ms ease`},visible:{opacity:1}}};var iv=t(862628),ib=t(595371);let iP=void 0!==_?_:_=t(422753);function iS({feedbackType:e,pinKey:i,trackingParamsMap:n}){let a=(0,G.ZP)(),l=(0,H.Z)(iP,i),{childDataKey__DEPRECATED:r}=(0,ex.Q)(void 0!==v?v:v=t(142579),l,{useLegacyAdapter:e=>({})}),{pinner:o,sourceInterest:s}=l,{fullName:d,username:u}=o||{},{name:c}=s||{},p="topic"===e,h=`/${u}/`,m=(0,iv.Z)(c),g=`/search/pins/?q=${encodeURIComponent(m)}&rs=${ib.i.IMAGE_ONLY_ATTRIBUTION}`,y=p?g:h,_={topic:a._('From {topic}', 'attribution on pin rep', 'attribution on pin rep'),followed:a._('From {pinnerName}', 'attribution on pin rep', 'attribution on pin rep'),pfyBoard:a._('Picked for you', 'attribution on pin rep', 'attribution on pin rep'),pfy:a._('Picked for you', 'attribution on pin rep', 'attribution on pin rep')},f=_[e];if(!f)return null;if(!p&&"followed"===e||p){let e=0===f.indexOf("{"),i=p?c:d,t=e?f.slice(f.indexOf("}")+1):f.slice(0,f.indexOf("{"));return e?(0,ei.jsxs)(B.xu,{children:[(0,ei.jsx)(B.rU,{display:"inlineBlock",href:y,underline:"hover",children:(0,ei.jsx)(B.xv,{inline:!0,lineClamp:1,size:"200",weight:"bold",children:i})}),(0,ei.jsx)(B.xv,{inline:!0,size:"200",children:t})]}):(0,ei.jsxs)(B.xu,{children:[(0,ei.jsx)(B.xv,{inline:!0,size:"200",children:t}),(0,ei.jsx)(B.rU,{display:"inlineBlock",href:y,underline:"hover",children:(0,ei.jsx)(B.xv,{color:"default",inline:!0,lineClamp:1,size:"200",weight:"bold",children:i})})]})}return(0,ei.jsx)(B.xu,{children:(0,ei.jsx)(ek.Z,{pinKey:r,trackingParamsMap:n,children:(0,ei.jsx)(B.xv,{color:"default",overflow:"normal",size:"200",weight:"bold",children:f})})})}t(422578);let ix=void 0!==f?f:f=t(116469),ik=e=>({board:e.board&&{url:e.board.url},isDownstreamPromotion:e.is_downstream_promotion,linkDomain:e.link_domain&&{officialUser:e.link_domain.official_user&&{adsOnlyProfileSite:e.link_domain.official_user.ads_only_profile_site,fullName:e.link_domain.official_user.full_name,imageLargeUrl:e.link_domain.official_user.image_large_url,imageMediumUrl:e.link_domain.official_user.image_medium_url,imageSmallUrl:e.link_domain.official_user.image_small_url,isAdsOnlyProfile:e.link_domain.official_user.is_ads_only_profile,isPrimaryWebsiteVerified:e.link_domain.official_user.is_primary_website_verified,isVerifiedMerchant:e.link_domain.official_user.is_verified_merchant,username:e.link_domain.official_user.username,verifiedIdentity:e.link_domain.official_user.verified_identity&&{verified:e.link_domain.official_user.verified_identity.verified}}},nativeCreator:e.native_creator&&{adsOnlyProfileSite:e.native_creator.ads_only_profile_site,entityId:e.native_creator.id,fullName:e.native_creator.full_name,imageLargeUrl:e.native_creator.image_large_url,imageMediumUrl:e.native_creator.image_medium_url,imageSmallUrl:e.native_creator.image_small_url,isAdsOnlyProfile:e.native_creator.is_ads_only_profile,isVerifiedMerchant:e.native_creator.is_verified_merchant,username:e.native_creator.username,verifiedIdentity:e.native_creator.verified_identity&&{verified:e.native_creator.verified_identity.verified}},pinner:e.pinner&&{fullName:e.pinner.full_name,imageLargeUrl:e.pinner.image_large_url,imageMediumUrl:e.pinner.image_medium_url,imageSmallUrl:e.pinner.image_small_url,username:e.pinner.username,isVerifiedMerchant:e.pinner.is_verified_merchant,verifiedIdentity:e.pinner.verified_identity&&{verified:e.pinner.verified_identity.verified}},promoter:e.promoter&&{adsOnlyProfileSite:e.promoter.ads_only_profile_site,entityId:e.promoter.id,fullName:e.promoter.full_name,imageMediumUrl:e.promoter.image_medium_url,imageSmallUrl:e.promoter.image_small_url,isAdsOnlyProfile:e.promoter.is_ads_only_profile,username:e.promoter.username},sponsorship:e.sponsorship&&{sponsor:e.sponsorship.sponsor&&{fullName:e.sponsorship.sponsor.full_name,username:e.sponsorship.sponsor.username}}});var iw=t(356725),iT=t(202870);let iE=void 0!==b?b:b=t(320226);function iI({attributionType:e,board:i,feedbackData:n,feedbackType:a,hasTextContent:l,hasTitleOrSource:r,hoverTransitionState:o,pinKey:s,pinNoteText:d,pinTitle:u,productCurrentPrice:c,productOriginalPrice:p,setForcePrimary:h,showCarouselEllipsis:m,showFavoriteButton:g,showGroupBoardAvatar:y,showNativeReactions:_,showOverflowMenu:v,showPinStats:f,showShoppingIcon:b,showSourceFirst:S,showTextContent:x,showAttribution:k,sourceText:w,surface:T,titleLines:E,trackingParamsMap:I}){var A,R,C,F,D;let L=(0,eR.Z)(),j=(0,z.useDispatch)(),O=(0,H.Z)(iE,s),{childDataKey__DEPRECATED:K}=(0,ex.Q)(void 0!==P?P:P=t(90316),O,{useLegacyAdapter:e=>({})}),{favoritedByMe:N,favoriteUserCount:M,entityId:V,sponsorship:U,storyPinData:$}=O,{hasAffiliateProducts:Y}=$||{},q=(0,e3.Z)(K),J=function({attributionType:e,pinKey:i}){let t=(0,G.ZP)(),{data:n}=(0,ex.Q)(ix,i,{useLegacyAdapter:ik});return function({attributionType:e,i18n:i,pin:{board:t,isDownstreamPromotion:n,linkDomain:a,nativeCreator:l,pinner:r,promoter:o,sponsorship:s}}){var d,u,c,p,h,m,g,y,_,v,f,b,P,S,x,k,w,T,E,I,A,R,C,F,D,L,j,O,K,N,M,Z,z,V,B,U,H,G;let W=!!o&&!n,$=W&&!!s&&(null==l?void 0:l.entityId)!==(null==o?void 0:o.entityId),Y=null==a?void 0:a.officialUser,q=null==s?void 0:s.sponsor,X="",J="",Q="",ee="",ei="",et="",en=!1,ea=!1,el=!1;function er(e,i){return!!e&&!!i}return $?(X=null!==(m=null!==(g=null==l?void 0:l.imageMediumUrl)&&void 0!==g?g:null==l?void 0:l.imageSmallUrl)&&void 0!==m?m:"",J=er(null==l?void 0:l.isAdsOnlyProfile,null==l?void 0:l.adsOnlyProfileSite)?null!==(y=l.adsOnlyProfileSite)&&void 0!==y?y:"":`/${null!==(_=null==l?void 0:l.username)&&void 0!==_?_:""}/`,Q=null==o?void 0:o.fullName,ee=null==l?void 0:l.fullName,et=er(null==l?void 0:l.isAdsOnlyProfile,null==l?void 0:l.adsOnlyProfileSite)?null!==(v=l.adsOnlyProfileSite)&&void 0!==v?v:"":`/${null!==(f=null==l?void 0:l.username)&&void 0!==f?f:""}/`,ei=`/${null!==(b=null==o?void 0:o.username)&&void 0!==b?b:""}/`,en=null==l?void 0:null===(P=l.verifiedIdentity)||void 0===P?void 0:P.verified,ea=null==l?void 0:l.isVerifiedMerchant,el=er(null==l?void 0:l.isAdsOnlyProfile,null==l?void 0:l.adsOnlyProfileSite)):W&&o?(X=o.imageMediumUrl||o.imageSmallUrl,Q=o.fullName,ee=i._('Promoted by', 'indicating the username of the person who promoted the pin', 'indicating the username of the person who promoted the pin'),et=er(o.isAdsOnlyProfile,o.adsOnlyProfileSite)?o.adsOnlyProfileSite:`/${null!==(S=o.username)&&void 0!==S?S:""}/`,el=er(o.isAdsOnlyProfile,o.adsOnlyProfileSite)):s&&null!=q&&q.username?(X=null!==(x=null!==(k=null!==(w=null==l?void 0:l.imageLargeUrl)&&void 0!==w?w:null==l?void 0:l.imageMediumUrl)&&void 0!==k?k:null==l?void 0:l.imageSmallUrl)&&void 0!==x?x:"",J=er(null==l?void 0:l.isAdsOnlyProfile,null==l?void 0:l.adsOnlyProfileSite)?null!==(T=l.adsOnlyProfileSite)&&void 0!==T?T:"":`/${null!==(E=null==l?void 0:l.username)&&void 0!==E?E:""}/`,Q=q.fullName,ee=null==l?void 0:l.fullName,et=er(null==l?void 0:l.isAdsOnlyProfile,null==l?void 0:l.adsOnlyProfileSite)?null!==(I=l.adsOnlyProfileSite)&&void 0!==I?I:"":`/${null!==(A=null==l?void 0:l.username)&&void 0!==A?A:""}/`,ei=`/${null!==(R=q.username)&&void 0!==R?R:""}/`,en=null==l?void 0:null===(C=l.verifiedIdentity)||void 0===C?void 0:C.verified,ea=null==l?void 0:l.isVerifiedMerchant,el=er(null==l?void 0:l.isAdsOnlyProfile,null==l?void 0:l.adsOnlyProfileSite)):l?(X=null!==(F=null!==(D=null!==(L=l.imageLargeUrl)&&void 0!==L?L:l.imageMediumUrl)&&void 0!==D?D:l.imageSmallUrl)&&void 0!==F?F:"",ee=l.fullName,et=er(l.isAdsOnlyProfile,l.adsOnlyProfileSite)?l.adsOnlyProfileSite:`/${null!==(j=l.username)&&void 0!==j?j:""}/`,en=null===(O=l.verifiedIdentity)||void 0===O?void 0:O.verified,ea=l.isVerifiedMerchant,el=er(l.isAdsOnlyProfile,l.adsOnlyProfileSite)):"show-for-claimed-content"===e?null!=Y&&Y.isPrimaryWebsiteVerified&&Y.username&&(X=null!==(K=null!==(N=null!==(M=Y.imageLargeUrl)&&void 0!==M?M:Y.imageMediumUrl)&&void 0!==N?N:Y.imageSmallUrl)&&void 0!==K?K:"",ee=Y.fullName,et=er(Y.isAdsOnlyProfile,Y.adsOnlyProfileSite)?Y.adsOnlyProfileSite:`/${null!==(Z=Y.username)&&void 0!==Z?Z:""}/`,en=null===(z=Y.verifiedIdentity)||void 0===z?void 0:z.verified,ea=Y.isVerifiedMerchant,el=er(Y.isAdsOnlyProfile,Y.adsOnlyProfileSite)):(X=null!==(V=null!==(B=null!==(U=null==r?void 0:r.imageLargeUrl)&&void 0!==U?U:null==r?void 0:r.imageMediumUrl)&&void 0!==B?B:null==r?void 0:r.imageSmallUrl)&&void 0!==V?V:"",J=`/${null!==(H=null==r?void 0:r.username)&&void 0!==H?H:""}/`,ee=null==r?void 0:r.fullName,et=(null==t?void 0:t.url)||"",en=null==r?void 0:null===(G=r.verifiedIdentity)||void 0===G?void 0:G.verified,ea=null==r?void 0:r.isVerifiedMerchant),{avatarUrl:null!==(d=X)&&void 0!==d?d:"",attributionNameLink:null!==(u=J)&&void 0!==u?u:"",attributionTitle:null!==(c=Q)&&void 0!==c?c:"",name:null!==(p=ee)&&void 0!==p?p:"",sponsorUrl:ei,url:null!==(h=et)&&void 0!==h?h:"",verifiedIdentity:!!en,isVerifiedMerchant:!!ea,shouldRenderAdsOnlyProfileClick:!!el}}({attributionType:e,pin:n,i18n:t})}({attributionType:e,pinKey:K}),{avatarUrl:Q,attributionNameLink:ee,attributionTitle:et,name:en,sponsorUrl:ea,url:el,verifiedIdentity:er,isVerifiedMerchant:eo,shouldRenderAdsOnlyProfileClick:es}=J,ed=!!O.promoter&&!O.isDownstreamPromotion,eu=ed&&(null===(A=O.nativeCreator)||void 0===A?void 0:A.entityId)===(null===(R=O.promoter)||void 0===R?void 0:R.entityId),ec=(0,X.Z)(101,{view_type:3,element:27,object_id_str:V,component:O.storyPinDataId?230:void 0,aux_data:{pin_id:V,...null!=U&&null!==(C=U.creator)&&void 0!==C&&C.entityId&&null!==(F=U.sponsor)&&void 0!==F&&F.entityId?{creator_id:U.creator.entityId,sponsor_id:U.sponsor.entityId}:{}}}),ep=e=>j(ep(e)),{fullName:eh}=(null==U?void 0:U.sponsor)||{},em="ConversationView"===T?{padding:"8px"}:i_.container;return(0,ei.jsxs)(B.xu,{dangerouslySetInlineStyle:{__style:em},"data-test-id":"pinrep-footer",children:[m&&(0,ei.jsx)(B.xu,{dangerouslySetInlineStyle:{__style:r||y||"none"!==e?{marginBottom:"6px"}:{}},display:"flex",justifyContent:"center",children:(0,ei.jsx)(W.Z,{children:(0,ei.jsx)(iw.default,{pinKey:{type:"deprecated",data:V}})})}),f&&(0,ei.jsx)(B.xu,{dangerouslySetInlineStyle:{__style:{marginBottom:"6px"}},"data-test-id":"pin-stats-footer",flex:"grow",width:"100%",children:(0,ei.jsx)(eG,{pinKey:K})}),(0,ei.jsx)(B.kC,{alignItems:"stretch",justifyContent:"start",children:(0,ei.jsxs)(B.xu,{flex:"grow",children:[(!!U||Y&&!ed)&&!eu&&(0,ei.jsx)(B.xu,{marginBottom:1,children:(0,ei.jsx)(B.xu,{flex:"grow",overflow:"hidden",children:(0,ei.jsx)(iT.Z,{hasAffiliateProducts:!!Y,href:ea||el,isPromoted:ed,onNavigateSponsorClick:()=>{ep(V),ec()},sponsorName:eh,sponsorshipStatus:null==U?void 0:U.status,textWeight:"bold"})})}),(x&&l||g)&&(0,ei.jsxs)(B.xu,{marginBottom:1,children:[(p||c)&&(0,ei.jsx)(B.xu,{marginBottom:1,children:(0,ei.jsx)(eT,{pinKey:K,surface:T,trackingParamsMap:I,children:(0,ei.jsx)(eW.Z,{currentPrice:c,originalPrice:p})})}),w&&S&&(0,ei.jsx)(eX,{pinKey:K,showShoppingIcon:b,sourceText:w,surface:T,trackingParamsMap:I,weight:"bold"}),g?(0,ei.jsxs)(B.kC,{alignItems:"start",children:[(0,ei.jsx)(B.kC,{flex:"grow",children:(0,ei.jsx)(e2,{numberOfLines:E,pinKey:K,pinTitle:u,surface:T,trackingParamsMap:I})}),(0,ei.jsx)(B.xu,{marginStart:3,children:(0,ei.jsx)(eO,{board:i,favoriteCount:null!=i&&i.is_collaborative&&(0,io.Z)(i.collaborated_by_me,null===(D=i.owner)||void 0===D?void 0:D.id,L)?null!=M?M:0:void 0,favorited:!!N,pinId:V})})]}):(0,ei.jsx)(e2,{numberOfLines:E,pinKey:K,pinTitle:u,showShoppingIcon:b&&!S,surface:T,trackingParamsMap:I,weight:S?"normal":void 0}),w&&!S&&(0,ei.jsx)(B.xu,{marginBottom:2,children:(0,ei.jsx)(eX,{pinKey:K,sourceText:w,surface:T,trackingParamsMap:I})})]}),k&&(0,ei.jsxs)(B.kC,{alignItems:"center",justifyContent:"start",children:[(0,ei.jsx)(B.xu,{flex:"grow",children:(()=>{var i,t;let n=(0,ei.jsx)(ig,{attributionNameLink:ee,attributionTitle:ed&&!U||eu?et:"",avatarUrl:Q,hasPromoter:!!O.promoter,hasSponsorship:!!O.sponsorship,isDownstreamPromotion:O.isDownstreamPromotion,isPromotedByPinCreator:!!eu,isVerifiedMerchant:eo,name:en,pinId:O.entityId,shouldRenderAdsOnlyProfileClick:es,sponsorshipCreatorId:null===(i=O.sponsorship)||void 0===i?void 0:null===(t=i.creator)||void 0===t?void 0:t.entityId,storyPinDataId:O.storyPinDataId,url:el,verifiedIdentity:er});switch(e){case"none":return null;case"image-only-credit":return(0,ei.jsx)(B.xu,{dangerouslySetInlineStyle:{__style:i_.imageOnlyAttribution["active"===o?"visible":"hidden"]},children:(0,ei.jsx)(iS,{feedbackType:a,pinKey:K,trackingParamsMap:I})});default:let l=Object.values(J).some(e=>!!e);return l?n:null}})()}),v&&(0,ei.jsx)(B.xu,{flex:"none",children:(0,ei.jsx)(e6.default,{feedbackData:n,feedbackType:a,pinKey:K,pinTitle:u,setForcePrimary:h,transparentBackground:!0})})]}),_&&!!q&&Object.keys(q).length>0&&(0,ei.jsx)(B.xu,{marginTop:"ConversationView"===T?2:void 0,children:(0,ei.jsx)(ir,{pinKey:K,surface:T})}),d&&(0,ei.jsx)(B.xu,{marginBottom:1,children:(0,ei.jsx)(eN,{pinKey:K,pinNoteText:d,trackingParamsMap:I})}),y&&!g&&(0,ei.jsx)(B.xu,{alignItems:"center",display:"flex",marginBottom:1,marginTop:1,children:(0,ei.jsxs)(Z.Fragment,{children:[(0,ei.jsx)(id,{accessibilityLabel:en,attributionNameLink:ee||el,avatarUrl:Q,fullWidth:!1,name:en,shouldRenderAdsOnlyProfileClick:es}),(0,ei.jsx)(B.xu,{flex:"grow",marginStart:2,children:(0,ei.jsx)(B.xv,{size:"200",children:en})})]})})]})},`${O.entityId}-sponsor-name-link`)]})}var iA=t(260633);function iR({dimension:e,color:i,isSelected:t,img:n,selectVariant:a}){var l,r,o;let s=(0,G.ZP)(),d=(0,ei.jsx)(B.iP,{fullHeight:!0,fullWidth:!0,onFocus:()=>{a({dimensionName:e,variant:i})},onMouseEnter:({event:t})=>{t.preventDefault(),t.stopPropagation(),a({dimensionName:e,variant:i})},rounding:1,children:(0,ei.jsx)(B.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{border:t?"1px solid black":"1px solid #EFEFEF"}},"data-test-id":`primary-variant-preview-icon-${i}`,display:"flex",height:18,justifyContent:"center",rounding:1,width:18,children:(0,ei.jsx)(B.xu,{height:14,overflow:"hidden",position:"absolute",rounding:1,width:14,children:(0,ei.jsx)(B.xu,{dangerouslySetInlineStyle:{__style:{transform:"scale(10,10)"}},"data-test-id":`${i}-variant-preview-wrapper`,children:(0,ei.jsx)(B.zd,{height:14,rounding:1,width:14,children:(0,ei.jsx)(B.Ee,{alt:s._('Color variant preview image', 'MerchantStorefront.Variant.VariantPreviewIcon.Image', 'Alt text for color variant preview image'),fit:"contain",naturalHeight:null!==(l=n.height)&&void 0!==l?l:1,naturalWidth:null!==(r=n.width)&&void 0!==r?r:1,src:null!==(o=n.url)&&void 0!==o?o:""})})})})})});return(0,ei.jsx)(B.xu,{"data-test-id":`primary-variant-main-${i}`,display:"inlineBlock",height:18,rounding:1,width:18,children:d})}function iC(){let{logContextEvent:e}=(0,ev.v)(),i=(0,iA.Xx)(),t=i&&i.primaryVariants.filter(e=>e.image).length>0;if((0,Z.useEffect)(()=>{e({event_type:120,component:14092})},[t,e]),!i)return null;let{primaryVariants:n,primaryDimName:a}=i,l=n.slice(0,6).map(e=>{let t=e.value,n=e.value===i.selectedMap[a],l=e.image;return l?(0,ei.jsx)(iR,{color:t,dimension:a,img:l,isSelected:n,selectVariant:i.selectVariant},t):null}).filter(Boolean);if(n.length>6){let e=n.length-6;l.push((0,ei.jsx)(B.xu,{"data-test-id":"plus-number",display:"flex",height:18,justifyContent:"center",rounding:1,width:18,children:(0,ei.jsxs)(B.iP,{fullHeight:!0,fullWidth:!0,onTap:({event:e})=>{e.stopPropagation()},rounding:1,children:["+",e]})},6))}return(0,ei.jsx)(B.kC,{alignItems:"center",gap:3,justifyContent:"start",children:l})}var iF=t(650702),iD=t(149230);function iL(){let e=(0,G.ZP)();return(0,ei.jsx)(B.xv,{color:"subtle",overflow:"normal",size:"200",weight:"normal",children:e._('Sold out', 'pinrep.footer.outOfStock', 'Footer text to indicate that product pin is out of stock.')})}function ij(){let e=(0,G.ZP)();return(0,ei.jsx)(B.xv,{color:"subtle",overflow:"normal",size:"200",weight:"normal",children:e._('See price on site', 'pinrep.footer.staleProduct', 'Footer text to indicate that is a stale(untrustworthy) product pin.')})}let iO=void 0!==S?S:S=t(577870);function iK({contentType:e,hasTextContent:i,pinKey:n,pinTitle:a,productCurrentPrice:l,productOriginalPrice:r,productRating:o,productShipping:s,showProductTitleFirst:d,showShoppingIcon:u,showSourceFirst:c,showVisitSiteButton:p,sourceText:h,surface:m,titleLines:g,trackingParamsMap:y}){var _;let{logContextEvent:v}=(0,ev.v)(),f=(0,G.ZP)(),{checkExperiment:b}=(0,eh.F)(),P=(0,H.Z)(iO,n),{childDataKey__DEPRECATED:S}=(0,ex.Q)(void 0!==x?x:x=t(862769),P,{useLegacyAdapter:e=>({})}),k=(null===(_=P.richSummary)||void 0===_?void 0:_.url)||P.link,w=null,T=(0,iA.Xx)();if(T){let{anyEnabled:e}=b("storefront_variant_pins");e&&(w=(0,ei.jsx)(iC,{}))}let E=(0,iD.Z)({url:k}),I=r||l?(0,ei.jsx)(eW.Z,{currentPrice:l,onlyShowCurrentPrice:"ShoppingGridSmallCarousel"===m,originalPrice:r,weight:c||d?"normal":"bold"}):null,A=g>0?(0,ei.jsx)(e2,{disableLink:!0,numberOfLines:g,pinKey:S,pinTitle:a,surface:m,trackingParamsMap:y,weight:c?"normal":"bold"}):null,R=h?(0,ei.jsx)(eX,{disableLink:!0,pinKey:S,showShoppingIcon:u,sourceText:h,surface:m,trackingParamsMap:y,weight:c?"bold":"normal"}):null,C=P.isOosProduct?(0,ei.jsx)(iL,{}):null,F=P.isStaleProduct?(0,ei.jsx)(ij,{}):null;return(0,ei.jsx)(B.xu,{dangerouslySetInlineStyle:{__style:i_.productContainer},height:"100%",children:(0,ei.jsx)(B.kC,{direction:"column",flex:"grow",height:"100%",justifyContent:"between",children:i&&(0,ei.jsxs)(Z.Fragment,{children:[(0,ei.jsx)(eT,{pinKey:S,surface:m,trackingParamsMap:y,children:(0,ei.jsxs)(B.kC,{direction:"column",gap:1,children:[c&&(0,ei.jsxs)(B.kC,{direction:"column",gap:1,children:[R,C,F,A,I]}),d&&(0,ei.jsxs)(B.kC,{direction:"column",gap:1,children:[A,I,C,F,R]}),!(c||d)&&(0,ei.jsxs)(B.kC,{direction:"column",gap:1,children:[I,C,F,(0,ei.jsxs)(B.kC,{direction:"column",children:[A,R]})]}),"shopping"===e&&"ShoppingGridSmallCarousel"!==m&&(o||Number.isFinite(null==s?void 0:s.freeShippingValue))&&(0,ei.jsx)(iF.Z,{count:null==o?void 0:o.count,countFormat:"number",isGridView:!0,ratingValue:null==o?void 0:o.rating,shippingInfo:s}),w]})}),p&&k?(0,ei.jsx)(B.xu,{marginTop:2,children:(0,ei.jsx)(B.ZP,{fullWidth:!0,href:k,onClick:()=>{v({event_type:12,view_type:1,view_parameter:3563})},rel:E?"nofollow":"none",target:"blank",text:f._('Visit site', 'ShoppingList.Pin.CTA.Button.VisitSite.Text', 'Text on CTA button on ShoppingList Pin to Visit Site')})}):null]})})})}let iN=void 0!==k?k:k=t(787832),iM=(0,Z.memo)(function({attributionType:e,blockClickEvents:i,board:t,contentType:n,feedbackData:a,feedbackType:l,hoverTransitionState:r,pinKey:o,pinNoteText:s,pinTitle:d,productCurrentPrice:u,productOriginalPrice:c,productRating:p,productShipping:h,setForcePrimary:m,showCarouselEllipsis:g,showFavoriteButton:y,showGroupBoardAvatar:_,showNativeReactions:v,showOverflowMenu:f,showPinStats:b,showProductTitleFirst:P,showShoppingIcon:S,showSourceFirst:x,showTextContent:k,showVisitSiteButton:w,showAttribution:T=!0,sourceText:E,surface:I,titleLines:A,trackingParamsMap:R}){let C=d||E,{childDataKey__DEPRECATED:F}=(0,ex.Q)(iN,o,{useLegacyAdapter:()=>({})}),D="shopping"===n?(0,ei.jsx)(iK,{contentType:n,hasTextContent:!!C,pinKey:F,pinTitle:d,productCurrentPrice:u,productOriginalPrice:c,productRating:p,productShipping:h,showProductTitleFirst:P,showShoppingIcon:S,showSourceFirst:x,showVisitSiteButton:w,sourceText:E,surface:I,titleLines:A,trackingParamsMap:R}):(0,ei.jsx)(iI,{attributionType:e,board:t,feedbackData:a,feedbackType:l,hasTextContent:!!C,hasTitleOrSource:!!C,hoverTransitionState:r,pinKey:F,pinNoteText:s,pinTitle:d,productCurrentPrice:u,productOriginalPrice:c,setForcePrimary:m,showAttribution:T,showCarouselEllipsis:g,showFavoriteButton:y,showGroupBoardAvatar:_,showNativeReactions:v,showOverflowMenu:f,showPinStats:b,showShoppingIcon:S,showSourceFirst:x,showTextContent:k,sourceText:E,surface:I,titleLines:A,trackingParamsMap:R});return i?(0,ei.jsx)(B.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},children:D}):(0,ei.jsx)(B.kC,{flex:"grow",children:(0,ei.jsx)(W.Z,{fullWidth:!0,children:D})})});var iZ=t(784590),iz=t(685909),iV=t(990823);let iB=(0,Z.lazy)(()=>t.e(34979).then(t.bind(t,91540))),iU=(0,Z.lazy)(()=>Promise.all([t.e(97270),t.e(59072),t.e(43473)]).then(t.bind(t,666258))),iH=(0,Z.lazy)(()=>Promise.all([t.e(97270),t.e(56416),t.e(59072),t.e(81111),t.e(22347)]).then(t.bind(t,795201))),iG=(0,Z.lazy)(()=>Promise.all([t.e(97270),t.e(22538)]).then(t.bind(t,450564))),iW=(0,Z.lazy)(()=>t.e(1593).then(t.bind(t,331806))),i$=void 0!==w?w:w=t(100315);function iY({derivedSaveButtonOptions:e,forcePrimaryContent:i,showEnabledSaveBehavior:t,onToggleFlyout:n,onToggleModal:a,pinKey:l,trackingParamsMap:r,surface:o}){let s=(0,iA.Xx)(),d=null==s?void 0:s.variantUrl,u=(0,iZ.Z)(d?{name:"PinResource",options:{id:d}}:null),c=u&&u.data?{type:"deprecated",data:u.data}:l,p=(0,H.Z)(i$,c),h=(0,Z.useRef)(!!p.savedInfo),m=(0,z.useSelector)(({experiences:e})=>{let i=e[1000294];return(null==i?void 0:i.experience_id)===502450?i:null}),{saveBehaviorType:g}=(0,iV.tY)(t);void 0!==g&&["classic","controlled","inline"].includes(e.type)&&(e=g);let{viewType:y,viewParameter:_}=(0,J.E)(),v=(0,X.Z)(101,{element:0,object_id_str:p.entityId}),f=null;if(!e.hidePinBetterSaveDropdown&&(m||t&&["classic","controlled"].includes(e.type))&&["classic","controlled","inline"].includes(e.type)){let{renderPinSaveTooltip:n}=e;f=(0,ei.jsx)(U.Z,{name:"SafeSuspense_PinRepPrimaryContent_QuickSaveButton",children:(0,ei.jsx)(Y.Z,{children:(0,ei.jsx)(W.Z,{children:(0,ei.jsx)(iG,{experience:m||void 0,forcePrimaryContent:i,pinKey:p,renderPinSaveTooltip:n,showEnabledSaveBehavior:t,trackingParamsMap:r,viewParameter:_})})})})}else if("classic"===e.type||"controlled"===e.type){let{renderPinSaveTooltip:i}=e;f=(0,ei.jsx)(U.Z,{name:"SafeSuspense_PinRepPrimaryContent_PinSaveButton",children:(0,ei.jsx)(Y.Z,{children:(0,ei.jsx)(B.xu,{"data-test-id":"pin-save-button",maxWidth:"100%",children:(0,ei.jsx)(W.Z,{children:(0,ei.jsx)(iU,{onClickCallback:v,oneTapSave:"controlled"===e.type?e:void 0,onToggleModal:a,pinKey:p,renderPinSaveTooltip:i,renderSavedStatus:()=>{var e,i,t;return!!p.savedInfo&&(0,ei.jsx)(W.Z,{children:(0,ei.jsx)(iz.Z,{isNewlySaved:!h.current,name:null!==(e=p.savedInfo.title)&&void 0!==e?e:"",type:null!==(i=p.savedInfo.type)&&void 0!==i?i:"",url:null!==(t=p.savedInfo.url)&&void 0!==t?t:""})})},trackingParamsMap:r,variant:"lego",viewParameter:_})})})})})}else if("inline"===e.type){let{initialSelection:i,onSave:t,renderPinSaveTooltip:l,hidePinBetterSaveDropdown:o}=e;f=(0,ei.jsx)(U.Z,{name:"SafeSuspense_PinRepPrimaryContent_PinBetterSave",children:(0,ei.jsx)(Y.Z,{children:(0,ei.jsx)(B.xu,{"data-test-id":"better-save",children:(0,ei.jsx)(W.Z,{children:(0,ei.jsx)(iH,{hideDropdown:o,initialSelection:i,onSave:t,onToggleFlyout:n,onToggleModal:a,pinKey:p,renderPinSaveTooltip:l,renderSavedStatus:({savedInfo:e})=>{var i,t;return e&&(0,ei.jsx)(W.Z,{children:(0,ei.jsx)(iz.Z,{isNewlySaved:!h.current,name:null!==(i=e.title)&&void 0!==i?i:"",shouldUseLegoStyles:!0,type:null!==(t=e.type)&&void 0!==t?t:"",url:e.url})})},trackingParamsMap:r,variant:"pin",viewParameter:_,viewType:y})})})})})}else"persistentOneClickSave"===e.type?f=(0,ei.jsx)(U.Z,{name:"SafeSuspense_PinRepPrimaryContent_PersistentOneClickSave",children:(0,ei.jsx)(Y.Z,{children:(0,ei.jsx)(B.xu,{"data-test-id":"persistent-one-click-save",children:(0,ei.jsx)(W.Z,{children:(0,ei.jsx)(iB,{saveOptions:e})})})})}):"promote"===e.type&&(f=(0,ei.jsx)(B.kC,{alignItems:"stretch",justifyContent:"end",children:(0,ei.jsx)(U.Z,{name:"SafeSuspense_PinRepPrimaryContent_PinPromoteButton",children:(0,ei.jsx)(Y.Z,{children:(0,ei.jsx)(B.xu,{"data-test-id":"pin-promote-button",children:(0,ei.jsx)(W.Z,{children:(0,ei.jsx)(iW,{pinKey:p})})})})})}));return(0,ei.jsx)(U.Z,{name:"PinRepPrimaryContent",children:(0,ei.jsx)(B.xu,{display:"flex",margin:"ShoppingGridSmallCarousel"===o?1:3,children:f&&(0,ei.jsx)(B.xu,{flex:"grow",marginStart:"auto",children:f})})})}let iq={marginTop:"1px"};function iX({cta:e}){let i=(0,G.ZP)();return(0,ei.jsx)(B.iP,{children:(0,ei.jsx)(B.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:iq},"data-test-id":"pinrep-chin",minHeight:32,children:(0,ei.jsxs)(B.xu,{display:"flex",justifyContent:"between",padding:2,children:[(0,ei.jsx)(B.xv,{size:"200",weight:"bold",children:e||i._('Learn more', '[m10n] pinRep.chin.learnMore', 'Closeup for learn more chin')}),(0,ei.jsx)(B.JO,{accessibilityLabel:i._('Go to lead ad', '[m10n] pinRep.chin.arrowForwardIcon', 'Arrow forward icon for chin'),color:"default",icon:"arrow-forward",size:12})]})})})}var iJ=t(438908),iQ=t(299554),i0=t(321976);function i1({color:e}){let i=(0,G.ZP)();return(0,ei.jsx)(B.xu,{"aria-label":i._('Shoppable Pin indicator', 'pinRep.image.shoppingIcon', 'Accessibility label for shoppable pin icon in grid'),margin:2,position:"absolute",top:!0,children:(0,ei.jsx)(i0.Z,{color:e})})}var i2=t(413614),i6=t(124364),i3=t(40706);let i8={__style:{boxShadow:"inset 0 0 0 2px black,  inset 0 0 0 4px white",transition:"all 300ms ease"}};function i4({isSelected:e}){let i=(0,G.ZP)();return(0,ei.jsx)(B.xu,{bottom:!0,dangerouslySetInlineStyle:e?i8:{},left:!0,position:"absolute",right:!0,rounding:4,top:!0,children:(0,ei.jsx)(B.xu,{bottom:!0,padding:3,position:"absolute",right:!0,children:(0,ei.jsx)(B.xu,{alignItems:"center",color:e?"dark":"default",dangerouslySetInlineStyle:{__style:{transition:"all 300ms ease"}},display:"flex",height:"24px",justifyContent:"center",rounding:2,width:"24px",children:(0,ei.jsx)(B.JO,{accessibilityLabel:i._('Pin is selected to be saved', 'SectionSuggestionPin.iconOnPin.selectedPin', 'accessibility label on an icon'),color:"inverse",icon:"check",size:12})})})})}var i7=t(89254),i9=t(67347);let i5={},te=e=>{(0,i9.nP)("web_prefetch_via_xhr.attempt",{sampleRate:1});let i=(0,i7.Z)(e);return new Promise((t,n)=>{if(window.navigator&&window.navigator.connection){var a;let{connection:e}=window.navigator;e.saveData&&((0,i9.nP)("web_prefetch_via_xhr.saveDataOn",{sampleRate:1}),t()),/2g/.test(null!==(a=e.effectiveType)&&void 0!==a?a:"")&&((0,i9.nP)("web_prefetch_via_xhr.poorConnection",{sampleRate:1}),t())}let l=new XMLHttpRequest;l.open("GET",e),l.onload=()=>{200===l.status?(i5[e]&&(i5[e].loaded=!0),(0,i9.nP)("web_prefetch_via_xhr.load.success",{sampleRate:1,tags:{hostname:i.hostname||"unknown"}}),t(l.response)):((0,i9.nP)("web_prefetch_via_xhr.load.error",{sampleRate:1,tags:{hostname:i.hostname||"unknown"}}),n())},i5[e]||(l.send(),i5[e]={added:!0,xhr:l},(0,i9.nP)("web_prefetch_via_xhr.xhrSent",{sampleRate:1,tags:{hostname:i.hostname||"unknown"}}))})},ti=e=>{i5[e]&&i5[e].xhr&&!i5[e].loaded&&((0,i9.nP)("web_prefetch_abort_xhr",{sampleRate:1}),i5[e].xhr.abort(),i5[e].aborted=!0)};var tt=t(428258),tn=t(944546);let ta=void 0!==T?T:T=t(937478),tl={},tr=(e,i)=>i&&e?e.replace("v1.pinimg.com","control"===i?"v3.pinimg.com":"v2.pinimg.com"):e;function to(e,i){let t=tr("https://v1.pinimg.com/videos/mc/hls/",i)||"",n=t+`${e.slice(0,2)}/${e.slice(2,4)}/${e.slice(4,6)}/${e}`;return n}let ts={},td=void 0!==E?E:E=t(893741);var tu=t(415940);let tc=void 0!==I?I:I=t(10371),tp=e=>"string"==typeof e?{cropHeight:0,cropWidth:0}:{cropHeight:e.height,cropWidth:e.width};function th({autoplaySettingOff:e,blockClickEvents:i,fallbackColor:t,imageFit:n,imageHeightModifier:a,isDenseView:l,isHovering:r,onError:o,onLoad:s,pinKey:d,pinImageCrop:u,resolution:c="default",rootMargin:p,selectionState:h,showCarousel:m,showPromotedVideos:g,showLeadPinStdBeta:y,showShoppingIcon:_,showUnavailablePin:v,surface:f,trackingParamsMap:b}){var P;let{contextLogData:S,slotIndex:x,viewParameter:k,viewType:w}=(0,J.E)(),{checkExperiment:T}=(0,eh.F)(),{group:E}=T("web_prefetch_video_in_feed"),I=(0,H.Z)(tc,d),A=function(e){var i,t,n,a,l,r,o,s,d,u,c,p,h,m,g,y,_,v,f,b,P,S,x;let{storyPinData:k}=(0,H.Z)(td,e),{entityId:w}=null!=k?k:{},T=null!=k&&k.pagesPreview?k.pagesPreview[0]:null==k?void 0:null===(i=k.pages)||void 0===i?void 0:i[0],E=null==T?void 0:null===(t=T.blocks)||void 0===t?void 0:t.find(e=>3===e.blockType),I=!!(null!=k&&k.pagesPreview)||!!(null!=k&&k.pages),A=!!E&&!!E.video,R=(0,Z.useCallback)(e=>{if(I&&A){var i,t,n,a,l,r,o,s,d,u,c,p,h,m,g,y,_,v,f,b,P,S,x,k,T,R,C,F,D;let{hlsv3:I,mp4:A}=(0,tt.ZP)({vEXP3:{url:null!==(i=null==E?void 0:null===(t=E.video)||void 0===t?void 0:null===(n=t.videoList)||void 0===n?void 0:null===(a=n.vEXP3)||void 0===a?void 0:a.url)&&void 0!==i?i:void 0},vEXP4:{url:null!==(l=null==E?void 0:null===(r=E.video)||void 0===r?void 0:null===(o=r.videoList)||void 0===o?void 0:null===(s=o.vEXP4)||void 0===s?void 0:s.url)&&void 0!==l?l:void 0},vEXP5:{url:null!==(d=null==E?void 0:null===(u=E.video)||void 0===u?void 0:null===(c=u.videoList)||void 0===c?void 0:null===(p=c.vEXP5)||void 0===p?void 0:p.url)&&void 0!==d?d:void 0},vEXP6:{url:null!==(h=null==E?void 0:null===(m=E.video)||void 0===m?void 0:null===(g=m.videoList)||void 0===g?void 0:null===(y=g.vEXP6)||void 0===y?void 0:y.url)&&void 0!==h?h:void 0},vEXP7:{url:null!==(_=null==E?void 0:null===(v=E.video)||void 0===v?void 0:null===(f=v.videoList)||void 0===f?void 0:null===(b=f.vEXP7)||void 0===b?void 0:b.url)&&void 0!==_?_:void 0},v720P:{url:null!==(P=null==E?void 0:null===(S=E.video)||void 0===S?void 0:null===(x=S.videoList)||void 0===x?void 0:null===(k=x.v720P)||void 0===k?void 0:k.url)&&void 0!==P?P:void 0},vHLSV3MOBILE:{url:null!==(T=null==E?void 0:null===(R=E.video)||void 0===R?void 0:null===(C=R.videoList)||void 0===C?void 0:null===(F=C.vHLSV3MOBILE)||void 0===F?void 0:F.url)&&void 0!==T?T:void 0}})||{},L=A||I;if(L&&w){let i=null!==(D=tr(L.url,e))&&void 0!==D?D:"";ts[w]=ts[w]?ts[w].concat(i):[i],te(i)}}},[w,I,A,null==E?void 0:null===(n=E.video)||void 0===n?void 0:null===(a=n.videoList)||void 0===a?void 0:null===(l=a.vEXP3)||void 0===l?void 0:l.url,null==E?void 0:null===(r=E.video)||void 0===r?void 0:null===(o=r.videoList)||void 0===o?void 0:null===(s=o.vEXP4)||void 0===s?void 0:s.url,null==E?void 0:null===(d=E.video)||void 0===d?void 0:null===(u=d.videoList)||void 0===u?void 0:null===(c=u.vEXP5)||void 0===c?void 0:c.url,null==E?void 0:null===(p=E.video)||void 0===p?void 0:null===(h=p.videoList)||void 0===h?void 0:null===(m=h.vEXP6)||void 0===m?void 0:m.url,null==E?void 0:null===(g=E.video)||void 0===g?void 0:null===(y=g.videoList)||void 0===y?void 0:null===(_=y.vEXP7)||void 0===_?void 0:_.url,null==E?void 0:null===(v=E.video)||void 0===v?void 0:null===(f=v.videoList)||void 0===f?void 0:null===(b=f.v720P)||void 0===b?void 0:b.url,null==E?void 0:null===(P=E.video)||void 0===P?void 0:null===(S=P.videoList)||void 0===S?void 0:null===(x=S.vHLSV3MOBILE)||void 0===x?void 0:x.url]);return R}(I),R=function(e){var i,t,n,a,l,r,o;let s=(0,H.Z)(ta,e),{entityId:d,videos:u}=s,{entityId:c}=null!=u?u:{},p=null==u?void 0:u.videoList,h=d&&c&&(null===(i=[null==p?void 0:p.vHLSV3MOBILE,null==p?void 0:p.vHLSV4].find(e=>e&&e.thumbnail&&e.url&&!!e.width&&!!e.height))||void 0===i?void 0:i.url),m=(0,Z.useCallback)(e=>{var i,t,n,a,l,r,o,s,u,c,m,g,y,_;if(h){let i=null!==(y=tr(h,e))&&void 0!==y?y:"";tl[d]=tl[d]?tl[d].concat(i):[i],te(i).then(i=>{let t=[];if("string"==typeof i&&(t=i.split("\n").filter(e=>e.endsWith(".m3u8"))),t&&t[tn.VS]){let i=to(t[tn.VS],e);return tl[d]=tl[d].concat(i),te(null!=i?i:"")}return null}).then(i=>{let t=[];if("string"==typeof i&&(t=i.split("\n").filter(e=>e.endsWith(".ts"))),t&&t[0]){let i=to(t[0],e);return tl[d]=tl[d].concat(i),te(null!=i?i:"")}return null});return}let v=(0,tt.t2)({vEXP3:{url:null!==(i=null==p?void 0:null===(t=p.vEXP3)||void 0===t?void 0:t.url)&&void 0!==i?i:void 0},vEXP4:{url:null!==(n=null==p?void 0:null===(a=p.vEXP4)||void 0===a?void 0:a.url)&&void 0!==n?n:void 0},vEXP5:{url:null!==(l=null==p?void 0:null===(r=p.vEXP5)||void 0===r?void 0:r.url)&&void 0!==l?l:void 0},vEXP6:{url:null!==(o=null==p?void 0:null===(s=p.vEXP6)||void 0===s?void 0:s.url)&&void 0!==o?o:void 0},vEXP7:{url:null!==(u=null==p?void 0:null===(c=p.vEXP7)||void 0===c?void 0:c.url)&&void 0!==u?u:void 0},v720P:{url:null!==(m=null==p?void 0:null===(g=p.v720P)||void 0===g?void 0:g.url)&&void 0!==m?m:void 0}});if(null!=v&&v.url){let i=null!==(_=tr(v.url,e))&&void 0!==_?_:"";te(i),tl[d]=tl[d]?tl[d].concat(i):[i]}},[d,h,null==p?void 0:null===(t=p.vEXP3)||void 0===t?void 0:t.url,null==p?void 0:null===(n=p.vEXP4)||void 0===n?void 0:n.url,null==p?void 0:null===(a=p.vEXP5)||void 0===a?void 0:a.url,null==p?void 0:null===(l=p.vEXP6)||void 0===l?void 0:l.url,null==p?void 0:null===(r=p.vEXP7)||void 0===r?void 0:r.url,null==p?void 0:null===(o=p.v720P)||void 0===o?void 0:o.url]);return m}(I),{entityId:C="",aggregatedPinData:F,autoAltText:D,dominantColor:L,imageSignature:j,storyPinData:O}=I,{pinTagsChips:K}=F||{},N=!!I.isEligibleForWebCloseup,M=!!(null!==(P=I.videos)&&void 0!==P&&P.videoList),z=!!I.promoter&&!I.isDownstreamPromotion,V=z?(()=>{if(O){if(!T("ads_iad_dweb").anyEnabled)return null;let a=O.pages;if(a&&a.length>0){let l=a&&a[0].blocks;if(l&&l.length>0){let a=l[0];if(3===a.blockType&&a.video&&a.video.videoList&&a.video.videoList.vHLSV3MOBILE){var e,i,t,n;return{entityId:a.video.entityId,height:null!==(e=a.video.videoList.vHLSV3MOBILE.height)&&void 0!==e?e:void 0,thumbnail:null!==(i=a.video.videoList.vHLSV3MOBILE.thumbnail)&&void 0!==i?i:void 0,width:null!==(t=a.video.videoList.vHLSV3MOBILE.width)&&void 0!==t?t:void 0,url:null!==(n=a.video.videoList.vHLSV3MOBILE.url)&&void 0!==n?n:void 0}}}}}return null})():null,{cropHeight:U,cropWidth:G}=tp(u),W=!1,$=null;if(v)$=(0,ei.jsx)(i6.Z,{height:l?250:420,isDenseView:l,rounding:0,width:l?164:236});else if(!e&&(M||V)&&(g||!z)&&"BoardCoverSelectablePin"!==f){let e={cropHeight:U,cropWidth:G,highResOnly:"high-res"===c,imageHeightModifier:a,inAdsDesktopVideoExperiment:M&&g,isExperimentalPinRep:!0,lowResOnly:"low-res"===c,onError:o,onLoad:s,pinKey:I,rootMargin:p,surface:f,viewParameter:k,viewType:w,...V?{video:V}:{}};$=(0,ei.jsxs)(B.xu,{"data-test-id":"pinrep-video",direction:"column",display:"flex",height:U||void 0,justifyContent:"center",children:[(0,ei.jsx)(iQ.Z,{...e}),y&&(0,ei.jsx)(iX,{cta:I.callToActionText})]})}else if(m)W=!0,$=(0,ei.jsx)(B.xu,{"data-test-id":"pinrep-carousel",children:(0,ei.jsx)(tu.Z,{cropHeight:U,cropWidth:G,highResOnly:"high-res"===c,isThirdPartyAd:I.isThirdPartyAd,lowResOnly:"low-res"===c,onError:o,onLoad:s,pinId:C,pinKey:I,showCarouselBadge:!1})});else{let e="backend"===u?function({image236x:e,imageCrop:i}){let t=null==e?void 0:e.height;if(i&&(0!==i.minY||1!==i.maxY)){var n,a;let e=null!==(n=i.minY)&&void 0!==n?n:0,l=null!==(a=i.maxY)&&void 0!==a?a:0;return{marginTop:`${e>0?-1*e*(null!=t?t:0):0}px`,marginBottom:`${l<1?Math.round(-((1-l)*1)*(null!=t?t:0)):0}px`}}return{}}({image236x:I.imageSpec_236x,imageCrop:I.imageCrop}):{};W=!!D&&T("web_mk_alt_text",{dangerouslySkipActivation:!0}).anyEnabled,$=(0,ei.jsxs)(B.xu,{dangerouslySetInlineStyle:{__style:e},"data-test-id":"pinrep-image",minHeight:55,children:[(0,ei.jsx)(iJ.Z,{cropHeight:U,cropWidth:G,fallbackColor:t,highResOnly:"high-res"===c,imageFit:n,lowResOnly:"low-res"===c,mediumResOnly:"medium-res"===c,onError:o,onLoad:s,pinKey:I,surface:f}),_&&(0,ei.jsx)(i1,{color:null!=L?L:"white"}),y&&(0,ei.jsx)(iX,{cta:I.callToActionText})]})}let Y=(0,ei.jsx)(B.zd,{wash:!0,children:(0,ei.jsx)(i2.Z,{hovered:r,pinKey:I,slotIndex:x,trackingParamsMap:b,viewType:1,children:$})}),q=["selected-image-only","deselected-image-only"].includes(h),X="selected-image-only"===h,Q=(0,Z.useRef)(!0),ee=(0,Z.useRef)(!1),et=(0,Z.useRef)(!1),en=T("web_video_quic").group;if((0,Z.useEffect)(()=>{var e,t;Q.current||!r||N||i||ee.current?r||!ee.current||et.current||((e=(null==O?void 0:O.entityId)||I.entityId)&&tl[e]&&tl[e].length>0&&tl[e].forEach(e=>{ti(e)}),et.current=!0):(O?A(en):null!==(t=I.videos)&&void 0!==t&&t.videoList&&R(en),ee.current=!0),Q.current=!1},[i,r,N,O,I,E,en,A,R]),i)return(0,ei.jsxs)(Z.Fragment,{children:[Y,q&&(0,ei.jsx)(i4,{isSelected:X}),K&&(0,ei.jsx)(B.xu,{dangerouslySetInlineStyle:{__style:{marginTop:1}},children:(0,ei.jsx)(i3.Z,{enableCloseupLink:!0,pinKey:I,trackingParamsMap:b})})]});let{commerce_data:ea,story_type:el,board_id:er,board_pin_count:eo}=S||{};return(0,ei.jsxs)(eT,{contextLogData:{commerce_data:ea,grid_index:x,image_signature:j,story_type:el,board_id:er,board_pin_count:eo},disableA11yLabel:W,elementType:O?12372:35,pinKey:I,surface:f,trackingParamsMap:b,children:[Y,K&&(0,ei.jsx)(B.xu,{dangerouslySetInlineStyle:{__style:{marginTop:1}},children:(0,ei.jsx)(i3.Z,{enableCloseupLink:!1,pinKey:I,trackingParamsMap:b})})]})}var tm=t(646323),tg=t(729884),ty=t(721782),t_=t(447948);function tv({direction:e,swipeHandler:i}){let t=(0,G.ZP)(),n={left:t._('View Previous', 'Button to advance carousel to the previous image', 'Button to advance carousel to the previous image'),right:t._('View Next', 'Button to advance carousel to the next image', 'Button to advance carousel to the next image')};return(0,ei.jsx)(B.xu,{bottom:!0,left:"left"===e,position:"absolute",right:"right"===e,top:!0,children:(0,ei.jsx)(B.iP,{fullHeight:!0,fullWidth:!0,onTap:i,children:(0,ei.jsx)(B.xu,{alignItems:"center","data-test-id":`carousel-slider-${e}`,display:"flex",height:"100%",justifyContent:"center",padding:2,width:"100%",children:(0,ei.jsx)(B.JO,{accessibilityLabel:n[e],color:"inverse",icon:{left:"arrow-back",right:"arrow-forward"}[e]})})})})}let tf=void 0!==A?A:A=t(580309);function tb({pinKey:e}){var i;let n=(0,H.Z)(tf,e),{childDataKey__DEPRECATED:a}=(0,ex.Q)(void 0!==R?R:R=t(366281),n,{useLegacyAdapter:e=>({})}),{entityId:l}=n,r=(0,ty.Z)(a,"AuthDesktopPinRep.CarouselSliders"),{componentType:o,viewParameter:s,viewType:d}=(0,J.E)(),u=(0,z.useDispatch)(),c=(e,i)=>u((0,t_.yR)(e,i)),p=(0,tg.Z)(a);if(!p)return null;let{carouselSlots:h}=p,m=null!==(i=p.index)&&void 0!==i?i:0;function g(e){return()=>{var i;let t="left"===e?m-1:m+1;c(l,t),r({pinId:l,currentIndex:null!=m?m:0,nextIndex:t,carouselData:{carouselSlots:h.map(({slotId:e})=>({id:e})),entityId:null!==(i=null==p?void 0:p.carouselId)&&void 0!==i?i:""},viewParameter:s,viewType:d,componentType:o})}}return(0,ei.jsxs)(B.xu,{height:"100%",position:"relative",width:"100%",children:[m>0&&(0,ei.jsx)(W.Z,{children:(0,ei.jsx)(tv,{direction:"left",swipeHandler:g("left")})}),m<h.length-1&&(0,ei.jsx)(W.Z,{children:(0,ei.jsx)(tv,{direction:"right",swipeHandler:g("right")})})]})}function tP(e){return"active"===e?"visible":"inactive"===e?"none":"hidden"}function tS(...e){return e.includes("visible")?"visible":e.includes("hidden")?"hidden":"none"}var tx=t(704115);let tk={impressed:{backgroundColor:"#adebad"}},tw=()=>void 0!==(0,tx.Z)().debug_impression_log;function tT({debugImpressionState:e="paused",slotIndex:i}){return"paused"===e?null:(0,ei.jsx)(B.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:tk.impressed},"data-test-id":"debug-pin-impressions",left:!0,opacity:.5,position:"absolute",right:!0,top:!0,children:(0,ei.jsx)(B.xu,{color:"selected",left:!0,padding:2,position:"absolute",top:!0,children:(0,ei.jsx)(B.xv,{color:"inverse",children:(0,ei.jsx)("span",{className:"deprecatedTextSizeXL",children:i})})})})}var tE=t(674462),tI=t(43671);let tA=["CreatorProfileStoryPinGrid","CreatorProfileActivityPinGrid"],tR={allPins:{component:210,view_type:4,view_parameter:3106},board:{view_type:5,view_parameter:3069},created:{component:13668,view_type:4,view_parameter:3106}},tC=void 0!==C?C:C=t(151896);function tF({pinKey:e,surface:i}){let{logContextEvent:t}=(0,ev.v)(),n=(0,G.ZP)(),a=(0,H.Z)(tC,e),l=()=>{let e=tA.includes(i)?tR.created:"BaseBoardPinGrid"===i?tR.board:"UserProfilePinGrid"===i?tR.allPins:{};t({event_type:101,element:10573,...e})},r=n._('See more stats', 'pinRep.actionBar.seeStatsButton', 'Button that will re-direct user to detailed stats page');return(0,ei.jsx)(B.xu,{"data-test-id":"see-stats-button",paddingX:3,paddingY:3,children:tA.includes(i)?(0,ei.jsx)(B.ZP,{accessibilityLabel:n._('Go to pin stats details page', 'pinRep.actionBar.seeStatsButton', 'This button will take the user to their detailed pin stats page for the pin'),color:"semiTransparentWhite",fullWidth:!0,href:`/pin/${a.entityId}/analytics`,onClick:l,size:"sm",text:r.length>14?`${r.substring(0,12).trim()}...`:r}):(0,ei.jsx)(B.I_,{accessibilityLabel:n._('Go to pin stats details page', 'pinRep.actionBar.seeStatsButton', 'This icon button will take the user to their detailed pin stats page for the pin'),bgColor:"white",href:`/pin/${a.entityId}/analytics`,icon:"ads-stats",iconColor:"darkGray",onClick:l,size:"sm"})})}var tD=t(108529),tL=t(310227),tj=t(841509),tO=t(525199);let tK={SELECTED:"#000000",NOT_SELECTED:"#ffffff"};function tN({selected:e=!1}){let i=(0,G.ZP)(),{isRTL:t}=(0,$.B)();return(0,ei.jsx)(B.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{borderWidth:"3px",borderStyle:"solid",borderColor:e?tK.SELECTED:tK.NOT_SELECTED,borderRadius:tL.Oc,boxShadow:e?"inset 0 0 0 3px #fff":void 0}},"data-test-id":"pinRepSelectionBorder",left:!0,position:"absolute",right:!0,top:!0,zIndex:new B.Ry(1),children:e?(0,ei.jsx)(B.xu,{alignItems:"center",bottom:!0,color:"dark",display:"flex",height:24,justifyContent:"center",left:t,margin:3,position:"absolute",right:!t,rounding:2,width:24,children:(0,ei.jsx)(B.JO,{accessibilityLabel:i._('Check icon', 'pinRepSelectionBorder.checkIcon', 'Accessibility label for check icon on selected Pin'),color:"inverse",icon:"check",size:12})}):(0,ei.jsx)(B.xu,{left:t,margin:3,position:"absolute",right:!t,top:!0,children:(0,ei.jsx)(B.JO,{accessibilityLabel:i._('Handle icon', 'pinRepSelectionBorder.handleIcon', 'Accessibility label for handle icon on an organizable Pin'),color:"light",icon:"handle",size:24})})})}let tM={wrapper:{borderRadius:tL.Oc,WebkitMaskImage:"-webkit-radial-gradient(white, black)"},promotedPinBorderTreatment:{background:"#EFEFEF",padding:4,borderRadius:20},primaryContentContainer:{marginBottom:"auto"},visualOverlay:{backgroundColor:tL.Dv.VISUAL},savedOverlay:{backgroundColor:tL.Dv.SAVED},legoWashOverlay:{backgroundColor:tL.Dv.LEGO_WASH}};function tZ({children:e,savedOverlayVisibility:i="none",visualOverlayVisibility:t="none",handleMouseOverPinContent:n,handleMouseLeavePinContent:a,primaryContent:l,primaryContentVisibility:r="none",secondaryContent:o,secondaryContentVisibility:s="none",accessoryContent:d,accessoryContentVisibility:u="none",actionBar:c,actionBarVisibility:p="none",seeStatsButton:h,footer:m,selectionState:g="no-selection",debugContent:y,signalDebuggerContent:_,signalDebuggerV2Content:v,signalDebuggerV2ContentVisibility:f="none",obscuredPinOverlay:b,showNoPinBorderRadius:P,showPromotedPinBorderTreatment:S,showLeadPinStdBeta:x,showWhiteBorder:k,shouldUseLegoWash:w}){return(0,ei.jsx)(B.xu,{dangerouslySetInlineStyle:{__style:S?tM.promotedPinBorderTreatment:{}},"data-test-id":"pinRepPresentation",height:"100%",children:(0,ei.jsxs)(B.xu,{dangerouslySetInlineStyle:{__style:P?{}:tM.wrapper},"data-test-id":"pinWrapper",direction:"column",display:"flex",height:"100%",overflow:"hidden",position:"relative",children:[["selected","deselected"].includes(g)&&(0,ei.jsx)(tN,{selected:"selected"===g}),(0,ei.jsxs)(B.xu,{"aria-hidden":!!b,children:[(0,ei.jsxs)(B.xu,{dangerouslySetInlineStyle:{__style:P?{}:{...tM.wrapper,border:k?"4px solid white":void 0}},onBlur:a,onFocus:n,onMouseEnter:n,onMouseLeave:a,overflow:"hidden",position:"relative",children:[e,(0,ei.jsx)(tO.Z,{visibility:t,children:(0,ei.jsx)(tj.Z,{additionalStyles:w?tM.legoWashOverlay:tM.visualOverlay})}),(0,ei.jsx)(tO.Z,{visibility:i,children:(0,ei.jsx)(tj.Z,{additionalStyles:w?tM.legoWashOverlay:tM.savedOverlay})}),d&&(0,ei.jsx)(tO.Z,{visibility:u,children:(0,ei.jsx)(tj.Z,{children:d})}),o&&(0,ei.jsx)(tO.Z,{visibility:s,children:(0,ei.jsx)(tj.Z,{children:o})}),l&&(0,ei.jsx)(tO.Z,{visibility:r,children:(0,ei.jsx)(tj.Z,{children:l})}),v&&(0,ei.jsx)(tO.Z,{visibility:f,children:(0,ei.jsx)(tj.Z,{children:(0,ei.jsx)(B.xu,{bottom:!0,left:!0,marginBottom:12,marginStart:2,position:"absolute",children:v})})}),c&&(0,ei.jsx)(tO.Z,{visibility:p,children:(0,ei.jsx)(tj.Z,{children:(0,ei.jsx)(B.xu,{bottom:!0,left:!0,marginBottom:x?8:0,position:"absolute",right:!0,children:c})})}),h&&(0,ei.jsx)(tj.Z,{children:(0,ei.jsx)(B.xu,{bottom:!0,position:"absolute",children:h})}),y&&(0,ei.jsx)(tj.Z,{children:y}),_]}),m]}),b&&(0,ei.jsx)(B.xu,{children:b})]})})}function tz(e){return e<160?"header-only":"none"}let tV=void 0!==F?F:F=t(746093);var tB=t(333155);let tU=(0,Z.memo)(function({actionBarProps:e,blockClickEvents:i,borderStyle:t,currentlyPlayingVideo:n,disableHover:a=!1,footerProps:l,impressionsDebuggerProps:r,obscuredPinOverlayProps:o,onError:s,onLoad:d,pin:u,pinVisualProps:c,presentationProps:p,primaryContentProps:h,rounding:m,secondaryContentProps:g,authDesktopSelectionState:y,showFooter:_,showImpressionsDebugger:v,showObscuredPinOverlay:f,showSeeStatsButton:b,showSignalDebugger:P,showUnavailablePin:S,surface:x,visibilityOverrides:k,imageHeightModifier:w}){var T,E,I,A,R;let{savedInfo:C}=u,{showEnabledSaveBehavior:F}=(0,iV.Yh)(tB.ZF.includes(x)||(0,tD.Z)(x)),[D,L]=(0,Z.useState)(!1),j=(0,iy.Z)(D),{isHovering:O,hoverTransitionState:K,handleMouseOver:N,handleMouseLeave:M}=function(){let[e,i]=(0,Z.useState)(!1),t=(0,iy.Z)(e,0,iy.X),n=(0,Z.useCallback)(()=>i(!0),[i]),a=(0,Z.useCallback)(()=>i(!1),[i]);return{isHovering:e,hoverTransitionState:t,handleMouseOver:n,handleMouseLeave:a}}();a&&(O=!1,K="inactive");let z=(0,iy.Z)(!!C),G=tP(z),Y=tP(K),q=tP(K),X=tP(j),J=tP(z),Q=["HomefeedMoreIdeasTabs","BoardMoreIdeasTabContent"].includes(x),ee={primaryContentVisibility:null!==(T=k.primaryContent)&&void 0!==T?T:tS(q,X,"visible"===J?"none":J),secondaryContentVisibility:"none"===(R=tS(q,X,J))?"visible":"visible"===R?"none":"hidden",actionBarVisibility:tS(q,X),accessoryContentVisibility:"none",signalDebuggerV2ContentVisibility:"visible"},et=e=>L(e),en=null;"none"!==ee.primaryContentVisibility&&(en=(0,ei.jsx)(iY,{forcePrimaryContent:e=>L(e),onToggleFlyout:et,onToggleModal:e=>{L(e),e||M()},pinKey:{type:"deprecated",data:u},showEnabledSaveBehavior:F,surface:x,trackingParamsMap:u.tracking_params_map,...h}));let ea=null,el=(0,Z.useRef)(!0),er=el.current;el.current=!1;let eo=function({isFirstRender:e,pinKey:i}){var t,n;let a=(0,H.Z)(tV,i),l=!!a.carouselData,r=null!==(t=null===(n=a.carouselData)||void 0===n?void 0:n.index)&&void 0!==t?t:void 0,[o,s]=(0,Z.useState)(!l||e),d=(0,Z.useRef)(r),u=(0,Z.useRef)(null);if(l){let i=d.current;d.current=r,(r!==i||e)&&(u.current&&clearTimeout(u.current),s(!0),u.current=setTimeout(()=>{s(!1),u.current=null},4e3))}return(0,Z.useEffect)(()=>()=>{u.current&&clearTimeout(u.current)},[]),o}({isFirstRender:er,pinKey:{type:"deprecated",data:u}}),ed=(0,iy.Z)(eo),eu=tP(ed);ee.secondaryContentVisibility=null!==(E=k.secondaryContent)&&void 0!==E?E:function(...e){return e.includes("none")?"none":e.includes("hidden")?"hidden":"visible"}(ee.secondaryContentVisibility,eu);let{allowShoppingPriceIndicator:ec,shoppingLabelColor:ep,showUserIndicator:eh,pinOwner:em}=g,eg=!!em&&eh;ea=(eg||(ec||ep||"none"!==ee.secondaryContentVisibility)&&!n)&&(0,ei.jsx)(B.xu,{margin:eg?1:2,children:(0,ei.jsx)(tm.Z,{pin:u,surface:x,...g})});let ey=null;"visible"===k.accessoryContent&&(ey=(0,ei.jsx)(tb,{pinKey:{type:"deprecated",data:u}}),ee.accessoryContentVisibility=tP(K));let e_={...e},ev=null;b&&(e_={...e_,showSourceLinkButton:!1},ev=(0,ei.jsx)(W.Z,{children:(0,ei.jsx)(tF,{pinKey:{type:"deprecated",data:u},surface:x})})),c.showLeadPinStdBeta&&(e_={...e_,showSourceLinkButton:!1});let ef="visible"===k.actionBar?(0,ei.jsx)(es,{onToggleFlyout:et,pinKey:{type:"deprecated",data:u},setForcePrimary:L,surface:x,trackingParamsMap:u.tracking_params_map,...e_}):null,{experimentsClient:eb}=(0,$.B)(),eP=null;(_||(0,tD.Z)(x)&&!(eb.checkExperiment("dweb_image_only_product_pin_grid").anyEnabled||eb.checkExperiment("dweb_image_only_product_pin_grid_new_user").anyEnabled))&&(eP=(0,ei.jsx)(iM,{blockClickEvents:i,hoverTransitionState:"image-only-credit"===l.attributionType?K:null,pinKey:{type:"deprecated",data:u},setForcePrimary:L,surface:x,trackingParamsMap:u.tracking_params_map,...l}));let eS=v&&(0,ei.jsx)(tT,{...r}),ex=P&&u.debug_info_html&&(0,ei.jsx)(B.xu,{paddingY:1,children:(0,ei.jsx)("pre",{children:u.debug_info_html})}),ek=(0,ei.jsx)(tE.Z,{pinKey:{type:"deprecated",data:u}}),ew=(0,Z.useRef)(),eT=function(e){let[i,t]=(0,Z.useState)(e.current?tz(e.current.clientHeight||0):"none");return!function(e,i){let t=(0,Z.useRef)();(0,Z.useEffect)(()=>{let n=e.current;if(!n)return;let a=t.current;(!a||a.width!==n.offsetWidth||a.height!==n.offsetHeight)&&(t.current={width:n.offsetWidth||0,height:n.offsetHeight||0},i&&i(t.current))}),t.current}(e,({height:e})=>{let n=tz(e);n!==i&&t(n)}),i}(ew);"header-only"===eT&&(ee.actionBarVisibility="none",ee.accessoryContentVisibility="none");let{pathname:eE}=(0,V.TH)(),eI=null!==(I=u.pinner)&&void 0!==I&&!!I.username&&eE.includes(u.pinner.username),eA=f&&!eI?(0,ei.jsx)(tI.ZP,{pin:u,...o}):null,eR="ShoppingGridShippedMetadataWithVisitButton"===x?{height:"100%"}:{},eC=_&&"default"===l.attributionType&&tB.ZF.includes(x),eF=!u.is_promoted&&!a&&eC;return(0,ei.jsx)(U.Z,{name:"PinRepContainer",children:(0,ei.jsx)(B.xu,{borderStyle:"ConversationView"===x?t:"none",dangerouslySetInlineStyle:{__style:eR},"data-test-id":null!==(A=eb.checkExperiment("web_obfuscate_ads_with_global_css").group.split("_")[1])&&void 0!==A?A:"pin","data-test-pin-id":u.id,onBlur:M,onFocus:N,onMouseEnter:N,onMouseLeave:M,overflow:"ConversationView"===x?"hidden":"visible",rounding:"ConversationView"===x?m:void 0,children:(0,ei.jsx)(tZ,{accessoryContent:ey,accessoryContentVisibility:ee.accessoryContentVisibility,actionBar:ef,actionBarVisibility:ee.actionBarVisibility,debugContent:eS,footer:eP,handleMouseLeavePinContent:eF?M:()=>{},handleMouseOverPinContent:eF?N:()=>{},obscuredPinOverlay:eA,primaryContent:en,primaryContentVisibility:ee.primaryContentVisibility,savedOverlayVisibility:"visible"!==G||Q?G:"none",secondaryContent:ea,secondaryContentVisibility:ee.secondaryContentVisibility,seeStatsButton:ev,selectionState:y,signalDebuggerContent:ex,signalDebuggerV2Content:ek,signalDebuggerV2ContentVisibility:ee.signalDebuggerV2ContentVisibility,visualOverlayVisibility:Y,...p,children:(0,ei.jsx)(B.xu,{ref:ew,height:"100%",children:(0,ei.jsx)(th,{blockClickEvents:i,imageHeightModifier:w,isHovering:O,onError:s,onLoad:d,pinKey:{type:"deprecated",data:u},selectionState:y,showUnavailablePin:S,surface:x,trackingParamsMap:u.tracking_params_map,...c})})})})})});var tH=t(329734),tG=t(926275),tW=t(411938),t$=t(53987),tY=t(750391),tq=t(463045),tX=t(717615),tJ=t(231947),tQ=t(965900),t0=t(464232),t1=t(53325),t2=t(957161),t6=t(121630);let t3=["ShoppingCatalogsProductsMetadata"],t8=["BoardCreateUpsell","BoardCoverSelectablePin","BoardNoteSelectablePin","BoardNotePin","BulkEditMode","EngagementDetails","SectionSuggestedPins","SelectableBoardlessPin"],t4=["BoardCreateUpsell","BoardCoverSelectablePin","BoardNoteSelectablePin","BoardNotePin","BulkEditMode","ConversationView","EngagementDetails","SectionSuggestedPins","SelectableBoardlessPin","ShoppingCatalogsProductsMetadata"];var t7=t(400669);let t9=void 0!==D?D:D=t(865603);function t5({pinKey:e,isGroupBoard:i,surface:t}){var n,a,l,r,o;let s=(0,H.Z)(t9,e),{title:d,gridTitle:u,isDownstreamPromotion:c}=s,p=(null===(n=s.carouselData)||void 0===n?void 0:n.index)||0,h=!!s.richSummary,m=!!s.carouselData,g=null===(a=s.richSummary)||void 0===a?void 0:a.typeName,y=null===(l=s.richSummary)||void 0===l?void 0:l.displayName,_=!!s.promoter,v=s.access,f=null===(r=s.carouselData)||void 0===r?void 0:null===(o=r.carouselSlots)||void 0===o?void 0:o[p].title,b=!!(null!=v&&v.includes("write"));return m&&f?f.trim():!_||c?u||"":tB.ZF.includes(t)?u||"":(!b||i||m||"UserProfilePinGrid"===t)&&(d||h&&"mobile application"!==g&&y||u)||""}let ne=["EngagementDetails","OtherProfilePinGrid","UserProfilePinGrid"],ni=({surface:e,isORBACProfileManager:i,isORBACGA:t,isRemovable:n})=>"CloseupRelatedProducts"!==e&&!n&&(!i||null==t||t),nt=void 0!==L?L:L=t(19618);var nn=t(807592);let na=void 0!==j?j:j=t(91763),nl=void 0!==O?O:O=t(581011),nr=["CloseupRelatedProducts","ConversationView","CreatorProfileStoryPinGrid","CreatorProfileActivityPinGrid","ProductPinsFeed","UserProfilePinGrid"],no=void 0!==N?N:N=t(592413),ns=({attributionOption:e,board:i,contentType:n,experimentsClient:a,feedbackData:l,feedbackType:r,hasCarouselData:o,isGroupBoard:s,isORBACProfileManager:d,isOwnBoard:u,showImageOnly:c,showNativeReactions:p,showPromotedShoppingPrice:h,surface:m,viewer:g,variantData:y,pinKey:_})=>{var v,f,b,P,S,x,k,w,T,E,I,A,R,C;let F,D,L,j;let O=(0,H.Z)(no,_),{childDataKey__DEPRECATED:N}=(0,ex.Q)(void 0!==M?M:M=t(139590),O,{useLegacyAdapter:e=>({})}),z=!!O.promoter&&!O.isDownstreamPromotion,V=!!O.sponsorship,{pinNote:B,isEligibleForPdp:U}=O,G=["PdpRelatedPinGrid","SearchItemHighShoppingIntent"],W=["AuthHomefeedShoppingModule","ProductOnlySearchItem","ShoppingGridSmallCarousel","ShoppingModule"],$=[...G,...W].includes(m),Y=O.isEligibleForPdp&&!z&&$?a.checkExperiment("web_product_pin_rep_redesign").group:null,q=(null==Y?void 0:Y.startsWith("enabled"))||"employees"===Y,X=function({pinKey:e,surface:i,prioritizeMerchant:n}){var a,l,r,o;let s=(0,H.Z)(nl,e),{childDataKey__DEPRECATED:d}=(0,ex.Q)(void 0!==K?K:K=t(5016),s,{useLegacyAdapter:e=>({})}),u=(null===(a=s.richSummary)||void 0===a?void 0:a.typeName)==="product"||"ShoppingGridShippedMetadataWithVisitButton"===i&&(s.isOosProduct||s.isStaleProduct),c=function(e){var i,t,n,a,l;let r=(0,H.Z)(na,e);return(null===(i=r.linkDomain)||void 0===i?void 0:null===(t=i.officialUser)||void 0===t?void 0:t.fullName)||(null===(n=r.richSummary)||void 0===n?void 0:n.siteName)||("Uploaded by user"===r.domain?null===(a=r.isRepin?r.originPinner:r.pinner)||void 0===a?void 0:a.fullName:r.domain||r.isRepin&&(null===(l=r.viaPinner)||void 0===l?void 0:l.fullName)||void 0)}(d);return u&&n&&c?c:u&&((null===(l=((null===(r=s.richSummary)||void 0===r?void 0:null===(o=r.products)||void 0===o?void 0:o[0])||{}).brand)||void 0===l?void 0:l.name)||c)||""}({pinKey:N,surface:m,prioritizeMerchant:q}),J=function({attributionOption:e,feedbackType:i,isEligibleForPdp:t,isGroupBoard:n,showImageOnly:a,surface:l,isDownstreamPromotion:r,hasNativeCreator:o,hasPromoter:s,hasSponsorship:d,storyPinDataId:u}){if("promoted"===i||s&&!r||d)return"default";if("ConversationView"!==l&&nr.includes(l)||n||t)return"none";let c="default";return"SearchItem"===l&&u?c:(e&&("image-only"===e?c="image-only-credit":"hide"===e&&(c="none")),"followed"!==i||a)?["IdeasHubSeasonalRow","TodayArticleFeed","ShoppingPackageItem"].includes(l)&&"hide"===e?c:"TodayArticleFeed"===l&&"show"===e?"show-for-claimed-content":o?"default":"none":c}({attributionOption:e,feedbackType:r,isEligibleForPdp:!!U,isGroupBoard:s,showImageOnly:c,surface:m,isDownstreamPromotion:O.isDownstreamPromotion,hasNativeCreator:!!O.nativeCreator,hasPromoter:!!O.promoter,hasSponsorship:!!O.sponsorship,storyPinDataId:O.storyPinDataId}),Q=t5({isGroupBoard:s,surface:m,pinKey:O}),ee=null!=y&&y.title?y.title:Q,ei=c?"":ee,et=!["ShoppingPackageItem","ShoppingSquareGridDomain","ShoppingSquareGridStorefrontDomain","ShoppingSquareGridStorefront"].includes(m)&&!z&&!c&&!!X&&!(["enabled_a","enabled_c","employees"].includes(null!=Y?Y:"")&&G.includes(m)),en=["ShoppingGridShippedMetadataWithVisitButton"].includes(m),ea="BaseBoardPinGrid"===m&&B?null===(v=B.text)||void 0===v?void 0:v.trim():null;!ea&&O.unifiedUserNote&&(ea=O.unifiedUserNote.trim());let el="shopping"===n,er=!0;"AuthHomefeed"!==m||z||(p=!1,er=!(null!==(b=((null===(P=O.richSummary)||void 0===P?void 0:null===(S=P.products)||void 0===S?void 0:S[0])||{}).brand)&&void 0!==b&&b.name));let eo=function({attributionType:e,isPromoted:i,isShopping:t,showSource:n,surface:a}){return i?3:(n||"none"!==e)&&(!t||["AuthHomefeedShoppingModule","ShoppingGridSmall","ShoppingGridSmallCarousel","ProductOnlySearchItem","ShoppingModule"].includes(a))?1:2}({isPromoted:z,showSource:et,attributionType:J,isShopping:el,surface:m});if(el||h){let e=null===(x=O.richSummary)||void 0===x?void 0:null===(k=x.products)||void 0===k?void 0:k[0],{offerSummary:i}=e||{};F=i?i.standardPrice:void 0,D=i?(0,nn.Z)({maxPrice:i.maxPrice,minPrice:i.minPrice,price:i.price}):void 0}if(y){let{offerSummary:e}=y;F=e?e.standard_price:void 0,D=e?e.price||e.max_price:void 0}if(el&&!z&&!q){let{ratingCount:e,ratingValue:i,reviewCount:t}=(null===(w=O.richSummary)||void 0===w?void 0:w.aggregateRating)||{};(e||t)&&parseFloat(i)&&(L={count:e||t,rating:i}),j={freeShippingPrice:null===(T=O.richMetadata)||void 0===T?void 0:null===(E=T.products)||void 0===E?void 0:null===(I=E[0].shippingInfo)||void 0===I?void 0:I.freeShippingPrice,freeShippingValue:null===(A=O.richMetadata)||void 0===A?void 0:null===(R=A.products)||void 0===R?void 0:null===(C=R[0].shippingInfo)||void 0===C?void 0:C.freeShippingValue}}let es=(0,tY.rh)(O&&{aggregatedPinData:O.aggregatedPinData&&{creatorAnalytics:O.aggregatedPinData.creatorAnalytics&&{_30dRealtime:O.aggregatedPinData.creatorAnalytics._30dRealtime&&{carId:O.aggregatedPinData.creatorAnalytics._30dRealtime.carId}}},board:O.board&&{privacy:O.board.privacy},creatorAnalytics:O.creatorAnalytics&&{_30dRealtime:O.creatorAnalytics._30dRealtime&&{carId:O.creatorAnalytics._30dRealtime.carId}},isRepin:O.isRepin,pinner:O.pinner&&{entityId:O.pinner.entityId},storyPinDataId:O.storyPinDataId,videos:O.videos&&{videoList:O.videos.videoList&&{__typename:"VideoList"}}},g,a),ed="CreatorProfileStoryPinGrid"===m||"CreatorProfileActivityPinGrid"===m,eu=!ed,ec=s&&!V,ep=!d&&("BaseBoardPinGrid"===m&&u||!!((null==i?void 0:i.is_collaborative)&&(0,io.Z)(i.collaborated_by_me,null===(f=i.owner)||void 0===f?void 0:f.id,g)))&&!ed,eh=["enabled_a","enabled_b","employees"].includes(Y)&&G.includes(m)||"enabled_b"===Y&&W.includes(m),em="enabled_b"===Y&&G.includes(m)||["enabled_a","enabled_b","employees"].includes(Y)&&W.includes(m),eg="enabled_c"===Y&&W.includes(m),ey=(0,Z.useMemo)(()=>({attributionType:J,board:i,contentType:n,feedbackData:l,feedbackType:r,pinNoteText:ea,pinTitle:ei,productCurrentPrice:D,productOriginalPrice:F,productRating:L,productShipping:j,showCarouselEllipsis:o,showFavoriteButton:ep,showGroupBoardAvatar:ec,showNativeReactions:p,showOverflowMenu:z,showPinStats:es,showProductTitleFirst:eg,showShoppingIcon:eh,showSourceFirst:em,showTextContent:eu,showVisitSiteButton:en,showAttribution:er,sourceText:et?X:void 0,titleLines:eo}),[J,i,n,l,r,ea,ei,D,F,L,j,o,ep,ec,p,z,es,eg,eh,et,em,eu,en,er,X,eo]);return ey};var nd=t(697247),nu=t(740025),nc=t(436395),np=t(99137),nh=t(130460),nm=t(350118),ng=t(698330);let ny=(0,Z.lazy)(()=>Promise.all([t.e(97270),t.e(56416),t.e(92982)]).then(t.bind(t,576070))),n_=["ArticleProductsStory","BoardCoverSelectablePin","BoardNoteSelectablePin","BulkEditMode","CommentReply","EngagementDetails","IdeasHubSeasonalRow","OtherProfilePinGrid","SectionSuggestedPins","SelectableBoardlessPin","TopicBestPinNarrow","TopicBestPinWide"],nv=["BaseBoardPinGrid","UserProfilePinGrid",...tA];function nf({attributionOption:e,blockClickEvents:i,debugImpressionState:t,disableReaction:n,feedback:a,imageOnlyOption:l="default",pin:r,pinId:o,pinImageCrop:s,pinImageFit:d,pinOwner:u,resolution:c="default",saveButtonOptions:p,authDesktopSurface:h,trackingParameters:m,...g}){var y,_,v,f,b,P,S,x,k,w,T;let E;let I=(0,nm.S6)()(o),A=I||r,R=null!==(y=null===(_=A.board)||void 0===_?void 0:_.id)&&void 0!==y?y:"",C=(0,nh.gC)()(R),F=C||A.board;A.grid_title=A.grid_title||r.grid_title;let D=(0,eh.F)(),{checkExperiment:L}=D,{collaborated_by_me:j,collaborator_count:O,is_collaborative:K}=F||{},{is_eligible_for_pdp:N=!1,is_quick_promotable:M,pinner:B,showFeedback:G,sponsorship:W}=A,$=!!A.promoter&&!A.is_downstream_promotion,q=!!A.promoted_is_removable,X=(0,eR.Z)(),Q=(0,tX.Z)(),{anyEnabled:ee}=L("web_m10n_business_access_orbac_www"),{anyEnabled:et}=L("web_m10n_business_access_orbac_ga"),en=et?(0,tJ.lJ)(X,Q):"",ea=(0,V.TH)(),{slotIndex:el,viewParameter:er}=m,eo=["AuthHomefeed","BaseBoardPinGrid"].includes(h)&&L("web_repin_flow").anyEnabled,es=(0,np.x)(),ed=(0,tH.P)()||X.isEligibleForImageOnlyGrid,{appUI:{videosAutoplaying:eu}}=(0,tQ.I)(),ec=(0,tq.Z)(A.id,eu),ep=(0,z.useSelector)(({changeBoardFromToast:e})=>e)||{},em=((((null===(v=A.rich_metadata)||void 0===v?void 0:v.products)||[])[0]||{}).additional_images||[]).length>0,eg=!!(null!==(f=A.carousel_data)&&void 0!==f&&f.id),ey=X.isAuth&&X.isEmployee,e_=X.isAuth&&((0,tG.Z)(X.createdAt)||(0,tW.Z)(null,X))&&!X.isPartner,ev=e_;"TodayArticleFeed"===h&&(ev=!1),"default"!==l&&(ev="image-only"===l),(0,tD.Z)(h)&&(ev=!1),"ShoppingSquareGridDomainNoMetadata"===h&&(ev=!0);let ef=e;(e_&&!ef||ed)&&(ef="image-only");let eb=(0,nu.Z)({feedbackType:null==a?void 0:a.type,viewParameter:er,pinKey:{type:"deprecated",data:A}}),{data:eP}=a||{},eS="number"==typeof O&&O>0||K,ex=!1;["OtherProfilePinGrid","ShoppingGridSmall"].includes(h)?ex=!0:"BaseBoardPinGrid"===h?ex=(null==es?void 0:es.boardPinDensity)==="dense":"UserProfilePinGrid"===h&&(ex=(null==es?void 0:es.profilePinDensity)==="dense");let ek=!!(eS&&"BaseBoardPinGrid"===h),ew=(0,nc.Z)(),eT=(0,ng.kW)(),eE=eT&&eT[null!==(b=null===(P=ew.data)||void 0===P?void 0:P.id)&&void 0!==b?b:""]?eT[null!==(S=null===(x=ew.data)||void 0===x?void 0:x.id)&&void 0!==S?S:""]:ew.data,eA=(0,eI.Z)(X,null==F?void 0:null===(k=F.owner)||void 0===k?void 0:k.id),eC=!1,eF=!!(0,V.LX)(ea.pathname,{path:"/:username/_created/",exact:!0});if(eF)eC=(0,tJ.q6)(X,null==eE?void 0:eE.id,Q);else if((0,t$.am)(ea)||(0,t$.OJ)(ea)){let e=F&&F.owner&&F.owner.id||"";eC=(0,tJ.q6)(X,e,Q)}else if((0,t$.uM)(ea)){let e=(null===(T=A.pinner)||void 0===T?void 0:T.id)||"";eC=(0,tJ.q6)(X,e,Q)}let eD=!!(X.isAuth&&B&&B.id===X.id),eL=!!(j||eS&&eA),ej=X.isAuth&&X.isPartner,eO=!!(null!==(w=A.story_pin_data)&&void 0!==w&&w.is_deleted),eK=(0,Z.useMemo)(()=>(function({hasCarouselData:e,isDeletedStoryPin:i,surface:t}){let n=t4.includes(t)||i,a={primaryContent:null,secondaryContent:null,actionBar:n?"none":"visible",accessoryContent:e?"visible":"none"};return i||t8.includes(t)?(a.primaryContent="none",a.secondaryContent="none"):["HomefeedMoreIdeasTabs","BoardMoreIdeasTabContent"].includes(t)&&(a.primaryContent="visible"),a})({hasCarouselData:eg,isDeletedStoryPin:eO,surface:h}),[eg,eO,h]),eN=(0,Z.useMemo)(()=>(function({board:e,isDenseView:i,isGroupBoard:t,isInlineBetterSave:n,isOwnBoard:a,isORBACProfileManager:l,isQuickPromotable:r,isRemovable:o,saveButtonOptions:s,surface:d,viewer:u,viewerIsCollaborator:c}){let p=u.isAuth?u.boardCount:void 0,h=s||function(e=0){return 0===e?{type:"classic"}:{type:"inline"}}(p);if(r)h={type:"promote"};else if((c||a||["OtherProfilePinGrid","UserProfilePinGrid"].includes(d))&&!["BoardlessPins","CreatorProfileActivityPinGrid","CreatorProfileStoryPinGrid","BaseBoardPinGrid"].includes(d))h={type:"classic"};else if((c||a)&&["BaseBoardPinGrid"].includes(d)&&null!=e&&e.name&&e.url&&e.id){let i={title:e.name,boardId:e.id,url:e.url};h={type:"inline",initialSelection:i}}n&&(h={type:"inline",hidePinBetterSaveDropdown:"BaseBoardPinGrid"===d}),(o||t3.includes(d)||l)&&(h={type:"none"});let m=c&&t&&tB.UP.includes(d);return{derivedSaveButtonOptions:h,showLikeButton:m,supportsReactionBar:!i}})({board:F,isInlineBetterSave:eo,isDenseView:ex,isGroupBoard:ek,isOwnBoard:eA,isOwnPin:eD,isORBACProfileManager:eC,isQuickPromotable:M,isRemovable:q,saveButtonOptions:p,surface:h,viewer:X,viewerIsCollaborator:eL}),[F,eo,ex,ek,eA,eD,eC,M,q,p,h,X,eL]);["ShoppingDynamicHeightGrid","ShoppingGridShippedMetadata","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ShoppingGridShippedMetadataWithVisitButton"].includes(h)&&!$&&(E="white");let eM=(0,Z.useMemo)(()=>(function({allowProductCarousel:e=!1,shoppingLabelColor:i,surface:t,pinOwner:n}){let a=tB.Wv.includes(t);return{allowProductCarousel:e,allowShoppingPriceIndicator:a,shoppingLabelColor:i,showUserIndicator:!!n,pinOwner:n}})({allowProductCarousel:em,shoppingLabelColor:E,surface:h,pinOwner:u}),[em,E,h,u]),eZ=function({feedbackData:e,feedbackType:i,isDenseView:t,isGroupBoard:n,isOwnBoard:a,isORBACProfileManager:l,isORBACBeta:r,isORBACGA:o,pinKey:s,isRemovable:d,surface:u,viewer:c}){var p,h,m,g;let y=(0,H.Z)(nt,s),_=!!(null!==(p=y.access)&&void 0!==p&&p.includes("write")),v=!!y.promoter&&!y.isDownstreamPromotion,f=t5({isGroupBoard:n,surface:u,pinKey:y}),{canPerformAction:b}=(0,t7.Z)({boardKey:null!==(h=y.board)&&void 0!==h?h:null}),P=b({action:4,viewer:c})||_,S=y.savedInfo&&y.savedInfo.localPinId,x=a&&!n,k=!!(x||"UserProfilePinGrid"===u&&P||S),w=!!(n&&P||k||l&&(!y.storyPinDataId||r)),T=!!((null===(m=y.board)||void 0===m?void 0:m.isCollaborative)||k),E=!(v||a||n||ne.includes(u)||l),I=ni({surface:u,isORBACProfileManager:l,isORBACGA:o,isRemovable:d}),{trackedLink:A,link:R}=y,C=null!==(g=null!=A?A:R)&&void 0!==g?g:"",F=n&&t?"equally-spaced":"default",D="default";return t&&(D=n?"icon-only":"truncated-text"),t&&["ShoppingGridSmall","UserProfilePinGrid","BaseBoardPinGrid","BoardlessPins"].includes(u)&&(D="icon-only",F="equally-spaced"),{actionBarEditBeforeShare:T,feedbackData:e,feedbackType:i,layout:F,pinTitle:f,showEditButton:w,showOverflowMenu:E,showShareButton:I,showSourceLinkButton:!!C,sourceLinkStyle:D}}({feedbackData:eP,feedbackType:eb,isDenseView:ex,isGroupBoard:ek,isOwnBoard:eA,isORBACProfileManager:eC,isORBACBeta:ee,isORBACGA:et,isRemovable:q,pinKey:{type:"deprecated",data:A},surface:h,viewer:X}),ez=!1;A.story_pin_data&&!X.isPartner&&(ez=L("web_auth_remove_pinner_pinstats").anyEnabled);let eV=!ez&&(0,tY.rh)(A&&{aggregatedPinData:A.aggregated_pin_data&&{creatorAnalytics:A.aggregated_pin_data.creator_analytics&&{_30dRealtime:A.aggregated_pin_data.creator_analytics["30d_realtime"]&&{carId:A.aggregated_pin_data.creator_analytics["30d_realtime"].id}}},board:A.board&&{privacy:A.board.privacy},creatorAnalytics:A.creator_analytics&&{_30dRealtime:A.creator_analytics["30d_realtime"]&&{carId:A.creator_analytics["30d_realtime"].id}},isRepin:A.is_repin,pinner:A.pinner&&{entityId:A.pinner.id},storyPinDataId:A.story_pin_data_id,videos:A.videos&&{videoList:A.videos.video_list&&{__typename:"VideoList"}}},X,D,en)&&nv.includes(h)&&(eD||et&&eC),eB=["AuthHomefeedShoppingModule","ProductOnlySearchItem","ShoppingCatalogsProductsMetadata","ShoppingDynamicHeightGrid","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ShoppingGridShippedMetadata","ShoppingGridShippedMetadataWithVisitButton","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingGridSmall","ShoppingGridSmallCarousel","ShoppingModule"].includes(h),eU=!$&&eB?"shopping":"standard",eH=(n||"CreatorProfileStoryPinGrid"!==h||eD)&&(0,ie.J6)({board:A.board&&{isCollaborative:A.board.is_collaborative,collaboratedByMe:A.board.collaborated_by_me},videos:A.videos&&A.videos.id?{entityId:A.videos.id}:null,isDownstreamPromotion:A.is_downstream_promotion,isPromoted:A.is_promoted,storyPinDataId:A.story_pin_data_id},eO),eG=(0,iA.Xx)();eH=!ed&&eH,X.isAuth&&L("closeup_auth_remove_reactions_grid_dweb").anyEnabled&&(eH=!1);let eW=ns({attributionOption:ef,board:F,contentType:eU,experimentsClient:D,feedbackData:eP,feedbackType:eb,hasCarouselData:eg,isGroupBoard:ek,isORBACProfileManager:eC,isOwnBoard:eA,showImageOnly:ev,showNativeReactions:eH,showPromotedShoppingPrice:$&&eB,surface:h,viewer:X,variantData:eG,pinKey:{type:"deprecated",data:A}});ez&&(eW.showPinStats=!1);let e$=!!(eW.pinTitle||eW.contentType||eW.userNote||eW.sourceText||"none"!==eW.attributionType||eW.showNativeReactions||eW.productCurrentPrice||eW.productOriginalPrice||eW.showPinStats),eY=e$||ek;"BaseBoardPinGrid"===h&&eA&&ej||W?eY=!0:n_.includes(h)||ex&&(eA||j)?eY=!1:eD||"CreatorProfileStoryPinGrid"!==h&&"CreatorProfileActivityPinGrid"!==h||(eY=!1);let eq="enabled"===L("dweb_hfp_even_grid_res_users",{dangerouslySkipActivation:!0}).group||"enabled"===L("dweb_hfp_even_grid_new_users",{dangerouslySkipActivation:!0}).group;ed&&!$&&(!W||W&&eq)&&(eY=!1);let eX=!!A.promoted_is_lead_ad&&L("web_lead_ads_std_beta").anyEnabled,eJ={showNoPinBorderRadius:"TopicBestPinNarrow"===h||"TopicBestPinWide"===h||"ConversationView"===h,showPromotedPinBorderTreatment:"BaseBoardPinGrid"===h&&$,shouldUseLegoWash:!0,showLeadPinStdBeta:eX,showWhiteBorder:"AuthHomefeedShoppingModule"===h&&L("web_shopping_recently_viewed_module_ranked").group.startsWith("enabled_b")},{anyEnabled:eQ}=L("ads_desktop_video_ads",{dangerouslySkipActivation:!0}),e0=(0,Z.useMemo)(()=>(function({experimentsClient:e,hasCarouselData:i,isDenseView:t,isEligibleForPdp:n,isPromoted:a,pinImageCrop:l,pinImageFit:r,resolution:o,showPromotedVideos:s,showLeadPinStdBeta:d,surface:u}){let c=tB.zl.includes(u),p="backend";"CloseupRelatedProducts"===u?p={height:t1.GZ,width:t1.OE}:"TopicBestPinWide"===u?p={height:424,width:278}:"TopicBestPinNarrow"===u?p={height:640,width:508}:["ArticleProductsStory","ShoppingSquareGridCrop","ShoppingSquareGridDomainNoMetadata"].includes(u)||c?p={height:t1.zX,width:t1.zX}:l&&(p=l);let h="none",m=null!=o?o:"default";"string"!=typeof p&&(h="cover",(c||"ShoppingDynamicHeightGrid"===u&&!r||["ShoppingGridSmall","ShoppingGridSmallCarousel","ShoppingSquareGridDomainNoMetadata"].includes(u))&&(h="contain",m="high-res"));let g=c||["ShoppingSquareGridDomainNoMetadata","ShoppingDynamicHeightGrid"].includes(u)?"transparent":"dominant",y=(0,t6.e)(u),_="undefined"!=typeof window&&0===t2.Z.getItem(t0._e),v=["PdpRelatedPinGrid","SearchItemHighShoppingIntent"].includes(u),f=n&&!a&&v?e.checkExperiment("web_product_pin_rep_redesign").group:null;return{autoplaySettingOff:_,fallbackColor:g,imageFit:h,isDenseView:t,resolution:m,rootMargin:y,pinImageCrop:p,showCarousel:i&&!["ShoppingSquareGridStorefrontDomain","ShoppingSquareGridStorefront"].includes(u),showPromotedVideos:s,showLeadPinStdBeta:d,showShoppingIcon:"enabled_c"===f}})({experimentsClient:D,hasCarouselData:eg,isDenseView:ex,isEligibleForPdp:N,isPromoted:$,pinImageCrop:s,pinImageFit:d,resolution:c,showPromotedVideos:eQ,showLeadPinStdBeta:eX,surface:h}),[D,eg,ex,N,$,s,d,c,eQ,eX,h]),e1=ey&&tw(),e2=(0,Z.useMemo)(()=>({debugImpressionState:t,slotIndex:el}),[t,el]),e6=(0,Z.useMemo)(()=>({surface:h}),[h]);return(0,ei.jsx)(U.Z,{name:"PinRepConfiguration",children:(0,ei.jsx)(J.B,{value:m,children:(0,ei.jsxs)(nd.B,{value:e6,children:[(0,ei.jsx)(tU,{actionBarProps:eZ,blockClickEvents:i,currentlyPlayingVideo:ec,footerProps:eW,impressionsDebuggerProps:e2,obscuredPinOverlayProps:{feedbackType:eb},pin:A,pinVisualProps:e0,presentationProps:eJ,primaryContentProps:eN,secondaryContentProps:eM,showFooter:eY,showImpressionsDebugger:e1,showObscuredPinOverlay:!!G,showSeeStatsButton:eV,showSignalDebugger:ey,showUnavailablePin:eO,surface:h,visibilityOverrides:eK,...g}),ep.shouldOpenModal&&ep.newPin&&ep.originalPinId===A.id&&(0,ei.jsx)(U.Z,{name:"SafeSuspense_PinRepConfiguration_ChangeBoardModal",children:(0,ei.jsx)(Y.Z,{children:(0,ei.jsx)(ny,{experience:ep.experience,pinKey:{type:"deprecated",data:ep.newPin}})})})]})})})}},656226:(e,i,t)=>{t.r(i),t.d(i,{default:()=>P});var n=t(667294),a=t(616550),l=t(650632),r=t(337815),o=t(768559),s=t(564194),d=t(623568),u=t(773285),c=t(813401),p=t(780280),h=t(999018),m=t(905723),g=t(350118),y=t(883119),_=t(152028),v=t(785893);let f={overlay:{__style:{backgroundColor:"#000"}}};function b({image:e,pinId:i,title:t,videoDuration:a,videoStatusMessage:l}){var r,o,s;return(0,v.jsx)(n.Fragment,{children:(0,v.jsx)(y.st,{children:(0,v.jsxs)(y.Tg,{href:`/pin/${i}`,rounding:2,children:[(0,v.jsxs)(y.xu,{overflow:"hidden",position:"relative",rounding:2,children:[e&&(0,v.jsx)(y.Ee,{alt:t||"",color:"lightGray",naturalHeight:null!==(r=e.height)&&void 0!==r?r:1,naturalWidth:null!==(o=e.width)&&void 0!==o?o:1,src:null!==(s=e.url)&&void 0!==s?s:""}),!!a&&(0,v.jsx)(y.xu,{bottom:!0,display:"flex",left:!0,padding:2,position:"absolute",children:(0,v.jsx)(_.Z,{duration:a})}),(0,v.jsx)(y.xu,{bottom:!0,dangerouslySetInlineStyle:f.overlay,left:!0,opacity:.4,position:"absolute",right:!0,top:!0}),(0,v.jsxs)(y.xu,{left:!0,padding:5,position:"absolute",top:!0,width:"100%",children:[(0,v.jsx)(y.X6,{color:"light",overflow:"normal",size:"400",children:null==l?void 0:l.title}),(0,v.jsx)(y.xu,{marginTop:4,children:(0,v.jsx)(y.xv,{color:"light",overflow:"normal",size:"200",children:null==l?void 0:l.subtitle})})]})]}),(0,v.jsx)(y.xu,{alignItems:"start",display:"flex",justifyContent:"between",marginTop:1,paddingX:1,children:(0,v.jsx)(y.xu,{flex:"grow",children:t&&(0,v.jsx)(y.xu,{paddingY:1,children:(0,v.jsx)(y.xv,{inline:!0,size:"200",weight:"bold",children:t})})})})]})})})}function P({trackingParams:e,objectIdStr:i,impressionData:t,auxData:y,componentType:_,slotIndex:f,viewData:P,viewParameter:S,viewType:x,pin:k,pinId:w,...T}){var E,I,A,R,C,F,D,L,j,O,K,N,M,Z,z,V,B,U,H,G,W;let $=(0,a.TH)(),Y=(0,g.S6)(),q=w?Y(w):null,X=q||k,J=!!(null!==(E=X.story_pin_data)&&void 0!==E&&E.is_deleted),Q=(0,h.Z)({type:"deprecated",data:X}),ee=e||(0,o.Z)({boardUrl:null===(I=X.board)||void 0===I?void 0:I.url,location:$,pinId:X.id,pinnerUserName:null===(A=X.pinner)||void 0===A?void 0:A.username,storyPinDataId:X.story_pin_data_id,trackingParams:X.tracking_params,trackingParamsMap:X.tracking_params_map}),ei=(null===(R=X.videos)||void 0===R?void 0:null===(C=R.video_list)||void 0===C?void 0:C.V_HLSV3_MOBILE)||(null===(F=X.videos)||void 0===F?void 0:null===(D=F.video_list)||void 0===D?void 0:D.V_HLSV4)||(null===(L=X.videos)||void 0===L?void 0:null===(j=L.video_list)||void 0===j?void 0:j.V_720P),et=!!ei&&!!ei.url&&!!ei.height&&!!ei.width||void 0,en=ei&&X.videos?X.videos.id:void 0,[ea,el]=(0,n.useState)(!1),er=(0,n.useCallback)(()=>el(!J),[J]),eo=(0,n.useCallback)(()=>el(!1),[]),es=(0,c.yz)(),ed=!!X.promoted_is_lead_ad;ed&&(y={lead_form_id:null===(W=X.promoted_lead_form)||void 0===W?void 0:W.lead_form_id,is_lead_ad:1});let{anyEnabled:eu}=(0,u.F)().checkExperiment("m10n_view_event_conversion_measurement_chrome"),ec=(0,p.B)();return(0,v.jsx)(s.Z,{componentType:_,contextLogData:{pwa_type:es,...y,...Q({default:null==y?void 0:y.commerce_data})},impressionAuxFields:{...t||{},isNativeVideoAndWatchable:et,chromeAraViewExp:eu,araAuxData:{appType:ec.appTypeDetailed,osType:(0,r.eF)(null!==(O=ec.userAgent.osName)&&void 0!==O?O:"Unknown")},videoIdStr:en,clientTrackingParams:ee||`${X.tracking_params||""}-0`,imageURL:null!==(K=null===(N=X.images)||void 0===N?void 0:null===(M=N["236x"])||void 0===M?void 0:M.url)&&void 0!==K?K:"",richTypes:(X.shopping_flags||[]).concat(((null===(Z=X.product_pin_data)||void 0===Z?void 0:null===(z=Z.items)||void 0===z?void 0:z[0])||{}).additional_images&&!(null!==(V=X.shopping_flags)&&void 0!==V&&V.includes(10))?[10]:[])},impressionType:"Pin",isPaused:!ea,isPromoted:X.is_promoted,loggingId:X.id,objectIdStr:i,slotIndex:f,viewData:P,viewParameter:S,viewType:x,children:(0,d._J)(X.video_status)?(0,v.jsx)(b,{image:(null===(B=X.images)||void 0===B?void 0:B["236x"])&&{width:X.images["236x"].width,height:X.images["236x"].height,url:X.images["236x"].url},pinId:X.id,title:X.title,videoDuration:null===(U=X.videos)||void 0===U?void 0:null===(H=U.video_list)||void 0===H?void 0:null===(G=H[m.Z.V_HLSV4])||void 0===G?void 0:G.duration,videoStatusMessage:X.video_status_message&&{title:X.video_status_message.title,subtitle:X.video_status_message.subtitle}}):(0,v.jsx)(l.Z,{...T,debugImpressionState:ea?"started":"paused",onError:eo,onLoad:er,pin:X,pinId:w,trackingParameters:{componentType:_,contextLogData:y,slotIndex:f,viewParameter:S,viewType:x}})})}},670451:(e,i,t)=>{t.d(i,{Z:()=>r}),t(167912);var n,a=t(916117);let l=void 0!==n?n:n=t(209863),r=e=>{let i=(0,a.Z)(l,e);if(!(null!=i&&i.reactionCounts))return null;let t=[i.reactionCounts._0?["_0",i.reactionCounts._0]:null,i.reactionCounts._1?["_1",i.reactionCounts._1]:null,i.reactionCounts._10?["_10",i.reactionCounts._10]:null,i.reactionCounts._11?["_11",i.reactionCounts._11]:null,i.reactionCounts._12?["_12",i.reactionCounts._12]:null,i.reactionCounts._13?["_13",i.reactionCounts._13]:null,i.reactionCounts._14?["_14",i.reactionCounts._14]:null,i.reactionCounts._2?["_2",i.reactionCounts._2]:null,i.reactionCounts._3?["_3",i.reactionCounts._3]:null,i.reactionCounts._4?["_4",i.reactionCounts._4]:null,i.reactionCounts._5?["_5",i.reactionCounts._5]:null,i.reactionCounts._6?["_6",i.reactionCounts._6]:null,i.reactionCounts._7?["_7",i.reactionCounts._7]:null,i.reactionCounts._8?["_8",i.reactionCounts._8]:null,i.reactionCounts._9?["_9",i.reactionCounts._9]:null];return t.reduce((e,i)=>{if(i){let[t,n]=i;return{...e,[t]:n}}return e},{})}},260633:(e,i,t)=>{t.d(i,{Xx:()=>l});var n=t(667294);t(785893),(0,n.createContext)(void 0),t(407043);let a=(0,n.createContext)(void 0),l=()=>{let e=(0,n.useContext)(a);return e}},650702:(e,i,t)=>{t.d(i,{Z:()=>b});var n=t(883119),a=t(898781),l=t(349700),r=t(939106),o=t(785893);function s(){let e=(0,a.ZP)();return e._('Free shipping', 'closeup.product.shipping', 'product shipping info')}function d({freeShippingPrice:e}){let i=(0,a.ZP)();return(0,l.nk)(i._('Free shipping with {{ shippingPrice }}+', 'closeup.product.shipping', 'product shipping info'),{shippingPrice:e}).join("")}function u({customStyles:e,showPrevDot:i,freeShippingPrice:t,freeShippingValue:a}){let l;let u=i?[""]:[],{color:c="subtle",size:p="200"}=e||{};return Number.isFinite(a)?(0===a?l=(0,o.jsx)(s,{}):t&&(l=(0,o.jsx)(d,{freeShippingPrice:t})),l&&u.push((0,o.jsx)(n.kC,{direction:"row",children:l})),0===u.length)?null:(0,o.jsx)(n.xv,{color:c,size:p,children:(0,o.jsx)(r.Z,{color:c,items:u})}):null}var c=t(892819),p=t(561195),h=t(780280);function m({count:e,rating:i}){return!!(i&&"None"!==i&&Number.isFinite(e))}let g=({rating:e,textSize:i,type:t})=>{if("single"===t){let t=parseFloat(e);return Number.isNaN(t)?null:(0,o.jsxs)(n.kC,{alignItems:"center",children:[(0,o.jsx)(p.A,{fill:"full",width:12}),(0,o.jsx)(n.xv,{size:i,children:t.toFixed(1)})]})}return(0,o.jsx)(p.Z,{rating:e,width:12})},y=({bracket:e,count:i,countFormat:t,countType:r,marginStart:s,textSize:d,underline:u})=>{let{locale:p}=(0,h.B)(),m=(0,a.ZP)(),g=(0,c.Z)();if(null==i)return null;let y=g(p,i,{shortform:!0,shortform_maximum_fraction_digits:1});if("text"===t){let e="review"===r?m.ngettext('{{ count }} review', '{{ count }} reviews', i, 'webapp.app.www-unified.productStarRatings.RatingCountText', 'count: total reviews count'):m.ngettext('{{ count }} rating', '{{ count }} ratings', i, 'webapp.app.www-unified.productStarRatings.RatingCountText', 'count: total ratings count');y=(0,l.nk)(e,{count:i}).join("")}return e&&(y=`(${y})`),(0,o.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{borderBottom:u?"1px solid gray":"none"}},marginStart:s,children:(0,o.jsx)(n.xv,{color:u?"subtle":"default",size:d,underline:u,children:(0,o.jsx)(n.xu,{"data-test-id":"ratings-count-text",display:"inlineBlock",children:y})})})};function _({bracket:e,count:i,countFormat:t,countType:a,rating:l,textSize:r,underline:s}){let d=m({count:i,rating:l});return d?(0,o.jsxs)(n.kC,{alignItems:"center",justifyContent:"start",children:[(0,o.jsx)(g,{rating:l,textSize:r,type:"multiple"}),(0,o.jsx)(y,{bracket:e,count:i,countFormat:t,countType:a,textSize:r,underline:s})]}):null}let v=({count:e,countFormat:i,ratingValue:t,shippingInfo:a})=>(0,o.jsxs)(n.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[(0,o.jsx)(_,{count:e,countFormat:i,rating:t,textSize:"200"}),(0,o.jsx)(n.xu,{marginTop:m({count:e,rating:t})?1:0,children:(0,o.jsx)(u,{customStyles:{color:"subtle",size:"200"},freeShippingPrice:null==a?void 0:a.freeShippingPrice,freeShippingValue:null==a?void 0:a.freeShippingValue})})]}),f=({count:e,countType:i,countFormat:t,hideSeparationDot:a,bracket:l,ratingValue:r,shippingInfo:s})=>(0,o.jsxs)(n.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{rowGap:8}},display:"flex",marginTop:1,wrap:!0,children:[(0,o.jsx)(_,{bracket:l,count:e,countFormat:t,countType:i,rating:r,textSize:"300"}),(0,o.jsx)(n.xu,{marginStart:m({count:e,rating:r})&&a?2:0,children:(0,o.jsx)(u,{customStyles:{color:"default",size:"300"},freeShippingPrice:null==s?void 0:s.freeShippingPrice,freeShippingValue:null==s?void 0:s.freeShippingValue,showPrevDot:m({count:e,rating:r})&&!a})})]});function b(e){return e.isGridView?(0,o.jsx)(v,{...e}):(0,o.jsx)(f,{...e})}},807592:(e,i,t)=>{t.d(i,{Z:()=>n});function n({maxPrice:e,minPrice:i,price:t}){return e&&i?`${i}-${e}`:t}},27255:(e,i,t)=>{t.d(i,{Z:()=>n});let n={AMP_TRACKING_DOMAIN:"amp.pinterest.com",BoardPrivacy:{SECRET:"secret",PUBLIC:"public",PROTECTED:"protected"},BoardType:{PROTECTED:"protected"},BulkAction:{MOVE:"bulkMove",COPY:"bulkCopy",CREATE_SECTION:"bulkCreateSection",DELETE:"bulkDelete"},MAX_CHARS_FOR_BOARD_PIN_DESCRIPTION:500,MAX_CHARS_FOR_BOARD_TITLE:50,MAX_CHARS_FOR_FIRST_NAME:30,MAX_FETCH_NUM_FOLLOWERS_PER_PAGE:50,MAX_STORED_VISITED_PIN_PAGES:10,VIDEO_IFRAME_ID:"video-iframe"}},413614:(e,i,t)=>{t.d(i,{Z:()=>y});var n,a=t(667294);t(167912);var l=t(616550),r=t(768559),o=t(558068),s=t(407043),d=t(186656),u=t(916117),c=t(623568),p=t(692627),h=t(999018),m=t(785893);let g=void 0!==n?n:n=t(348853);function y({children:e,hovered:i,pinKey:t,slotIndex:n,trafficSource:y,trackingParamsMap:_,viewType:v}){var f,b,P,S,x;let{logContextEvent:k}=(0,s.v)(),[w,T]=(0,a.useState)(),[E,I]=(0,a.useState)(),A=(0,u.Z)(g,t),{entityId:R,trackedLink:C,link:F}=A,D=C||F||"",L=()=>{T(!0)},j=function(e){let i=(0,l.TH)(),{previous:t}=(0,o.Hv)();return(0,r.Z)({...e,location:i,previousHistory:t})}({boardUrl:null===(f=A.board)||void 0===f?void 0:f.url,pinId:R,pinnerUserName:null===(b=A.pinner)||void 0===b?void 0:b.username,storyPinDataId:A.storyPinDataId,trackingParams:A.trackingParams,trackingParamsMap:_}),O=(0,p.Z)({hasPin:!!A,hasPinRichMetadata:!!A.richMetadata,hasPinRichMetadataProducts:!!(null!==(P=A.richMetadata)&&void 0!==P&&P.products),hasPinRichMetadataArticle:!!(null!==(S=A.richMetadata)&&void 0!==S&&S.article),hasPinRichMetadataRecipe:!!(null!==(x=A.richMetadata)&&void 0!==x&&x.recipe),hasPinStoryPinData:!!A.storyPinData}),K=(0,h.Z)(A),N=(0,a.useCallback)(()=>{let e=K();(0,d.Z)({url:"/v3/offsite/",data:{check_only:!1,pin_id:R,url:D,client_tracking_params:j,aux_data:JSON.stringify({clickthrough_type:"rightClick",objectId:R,...n||{},...e})}}).then(i=>{i&&(k({event_type:12,object_id_str:R,view_type:v,view_parameter:O,aux_data:{clickthrough_type:"rightClick",...n||{},...e}}),k({event_type:8948,view_type:v,object_id_str:R,view_parameter:O,aux_data:{click_type:"clickthrough",closeup_navigation_type:y&&(0,c.sV)(y)?"deeplink":"click",clickthrough_type:"rightClick",...n||{},...e}}))})}),M=e=>{if(w){var i;/^\/pin/.test(null===(i=e.target.activeElement.attributes.href)||void 0===i?void 0:i.value)||(N(),T(!1)),window.removeEventListener(E,M,!1)}};return(0,a.useEffect)(()=>{var e,i,t,n,a,l;void 0!==(null===(e=window)||void 0===e?void 0:null===(i=e.document)||void 0===i?void 0:i.hidden)?I("visibilitychange"):void 0!==(null===(t=window)||void 0===t?void 0:null===(n=t.document)||void 0===n?void 0:n.msHidden)?I("msvisibilitychange"):void 0!==(null===(a=window)||void 0===a?void 0:null===(l=a.document)||void 0===l?void 0:l.webkitHidden)&&I("webkitvisibilitychange")},[]),(0,a.useEffect)(()=>(w&&window&&window.addEventListener(E,M,!1),()=>window.removeEventListener(E,M)),[w,E]),(0,a.useEffect)(()=>(i&&window.addEventListener("contextmenu",L),()=>{window.removeEventListener("contextmenu",L)}),[i]),(0,m.jsx)(a.Fragment,{children:e})}},558068:(e,i,t)=>{t.d(i,{Hv:()=>s,aX:()=>c,nK:()=>p});var n=t(667294),a=t(616550),l=t(425288),r=t(785893);let{Provider:o,useHook:s}=(0,l.Z)("HistoryStackContext",{previous:[],current:null,forward:[]}),d=e=>e&&e.pathname?e.pathname+(e.search||""):"";function u(e,i){var t;let n={action:i.type,location:i.location,match:i.match};if(i.location===(null===(t=e.current)||void 0===t?void 0:t.location))return e;switch(i.type){case"POP":if(e.forward.length>0&&d(e.forward[0].location)===d(n.location))return{...e,forward:e.forward.slice(1),current:{...e.forward[0],action:i.type},previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous};return{...e,forward:e.current?[{action:e.current.action,location:e.current.location,match:e.current.match},...e.forward]:e.forward,current:{...e.previous.slice(-1)[0],action:i.type},previous:e.previous.slice(0,-1)};case"PUSH":return{...e,forward:e.forward.length>0?[]:e.forward,current:n,previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous};case"REPLACE":return{...e,current:n};default:return e}}function c(){let{current:e,previous:i}=s(),t=(0,n.useMemo)(()=>e?i.concat(e):i,[e,i]);return t}function p({children:e}){let i=(0,a.k6)(),t=(0,a.TH)(),l=(0,a.$B)(),s={forward:[],current:{action:i.action,location:t,match:l},previous:[]},[d,c]=(0,n.useReducer)(u,s);return(0,n.useEffect)(()=>{let{action:e}=i;c({type:e,location:t,match:l})},[t]),(0,r.jsx)(o,{value:d,children:e})}},391254:(e,i,t)=>{t.d(i,{Z:()=>l}),t(441143);var n=t(785893);class a{static factory(e){return e instanceof a?e:new a(String(e))}constructor(e){this._private_safe_value=e.trim().replace(">",">").replace("<","<").replace("&","&").replace('"','"').replace("'","'")}toString(){return this._private_safe_value}}function l(e){let{css:i,unsafeCSS:t,...l}=e,r=String(i||"")||t||"",o=!!r;return o?(0,n.jsx)("style",{...l,dangerouslySetInnerHTML:{__html:String(a.factory(r))}}):null}},711344:(e,i,t)=>{t.d(i,{xR:()=>g,ZP:()=>_,vR:()=>m});var n=t(231486),a=t(226198),l=t(932046),r=t(867820),o=t(644035),s=t(67347);let d={".pinterdev.com":"pinterdev","playhouse-worker-www":"playhouse-worker-www","playhouse-worker-sterling":"playhouse-worker-sterling","playhouse-worker-analytics":"playhouse-worker-analytics"},u=["accounts-oauth.pinterest.com","analytics-latest.pinterest.com","analytics.pinterest.com","canary.pinterest.com","latest.pinterest.com","sss.www.pinterest.com","testing.pinterest.com","testing-k8s.pinterest.com","unknown","www.pinterest.com","www.pinterest.co.kr","www.pinterest.co.uk","www.pinterest.com.au","www.pinterest.com.mx"],c=/www\.pinterest\.[A-Za-z]{2}/,p=/[A-Za-z]{2}\.pinterest\.com/,h=()=>{let e=navigator&&navigator.userAgent.toLowerCase();if(e){if(e.indexOf("googlebot")>-1||e.indexOf("google web preview")>-1||e.indexOf("google page speed insights")>-1)return"google_bot";if(e.indexOf("msnbot")>-1||e.indexOf("bingbot")>-1)return"ms_bot";if(e.indexOf("applebot")>-1)return"apple_bot";if(e.indexOf("yahoo")>-1||e.indexOf("slurp")>-1)return"yahoo_bot";else if(e.indexOf("yandex")>-1)return"yandex"}},m=e=>{let{userAgent:i}=e;if(!i.isMobile&&!i.isTablet)return"desktop";switch(i.platform){case o.RL:return"iphone";case o.GW:return i.isTablet?"android_tablet":"android";case o.s4:return"ipad";default:return"mobile_other"}};function g(e){let i=u.indexOf(e)>-1||c.test(e)||p.test(e);if(i)return e;for(let i in d)if(Object.prototype.hasOwnProperty.call(d,i)&&e.indexOf(i)>-1)return d[i];return"other"}let y=({moduleName:e,pageType:i,requestContext:t})=>{var o;let d;let u=m(t),c=t.isAuthenticated?"auth":"unauth",p=h(),y=(0,l.Z)(),_=(d=!1,n.U2(a.VL)||(n.t8(a.VL,"1",(0,n.kZ)(a.VL)),d=!0),d),v=document.domain||"unknown";_&&((0,r.My)(`traffic.${u}.${y}.${e}.${c}`),(0,r.My)(`traffic_subdomain.${v}.${y}.${e}.${c}`),(0,r.My)(`traffic_subdomain.${v}.${u}.${y}.${e}.${c}`),(0,r.My)(`traffic_subdomain.${v}.${u}.${c}`),(0,r.My)(`traffic_duplo.${u}.${y}.${e}.${c}`),p&&(0,r.My)(`traffic_bot.${p}.${e}`));let f={domain:g(v),referrer:null!=y?y:"unknown",platform:null!=u?u:"unknown",browser:null!==(o=t.userAgent.browserName)&&void 0!==o?o:"unknown",bot_type:null!=p?p:"none",page_type:null!=i?i:"unknown",is_auth:null!=c?c:"unknown",module:null!=e?e:"unknown",moduleType:function(e){if(/.*Board(React)?Page(Wrapper)?$/.test(e))return"Board";if(/Closeup|.*Pin(Landing|React)?Page$/.test(e))return"Pin";if("HomePage"===e||"UnauthHomeReactPage"===e||"LoginPage"===e||"Signup"===e)return"Home";if(/.*ProfilePage(Container)?$/.test(e))return"Profile";if("TopicPage"===e||"UnauthTopicPage"===e)return"Topic";if(/.*TodayTab(Feed)?Page$/.test(e))return"TodayTab";if("UnauthTodayArticleFeedPage"===e||"TodayArticleFeedPage"===e)return"TodayArticle";else if(/.*Idea(s)?RootPage$/.test(e))return"IdeasRoot";else if(/.*Idea(s)?(Topic)?Page$/.test(e))return"Ideas";else if(/.*Video(s)?RootPage$/.test(e))return"VideosRoot";else if(/.*Video(s)?(Category)?Page$/.test(e))return"VideosCategory";else if(/.*ShoppingRootPage$/.test(e))return"ShoppingRoot";else if(/.*Shopping(Category)?Page$/.test(e))return"ShoppingCategory";else return"other"}(null!=e?e:"unknown"),first_visit:null!=_?_:"unknown"};(0,s.nP)("webapp.traffic",{sampleRate:.1,tags:f}),("google"===y||"other"===y)&&(0,s.nP)(`webapp.traffic.${u}.${y}`,{sampleRate:.1,tags:f})};function _({pageType:e,requestContext:i,route:t}){y({moduleName:{"/":"HomePage","/login":"LoginPage","/pin/:id":"Closeup","/:username":"ProfilePage","/:username/:slug":"BoardPage","/topics/:interest":"TopicPage","/today":"TodayTabPage","/today/:term/:title/:articleId":"TodayArticleFeedPage","/ideas":"IdeasRootPage","/ideas/:interest/:id":"IdeasPage","/videos":"VideosRootPage","/videos/:category/:id":"VideosCategoryPage","/shopping":"ShoppingRootPage","/shopping/:category/:id":"ShoppingCategoryPage"}[t]||"other",pageType:e,requestContext:i})}},241244:(e,i,t)=>{t.d(i,{N:()=>r,Z:()=>l});var n=t(883119),a=t(785893);function l({children:e,fullWidth:i}){return(0,a.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"auto",width:i?"100%":void 0}},"data-test-id":"pointer-events-wrapper",children:e})}function r({children:e,enabled:i}){return i?(0,a.jsx)(l,{children:e}):e}},310227:(e,i,t)=>{t.d(i,{Dv:()=>l,Ml:()=>r,Oc:()=>n,mv:()=>a});let n=16,a=4,l={SAVED:"rgba(0, 0, 0, 0.33)",VISUAL:"rgba(0, 0, 0, 0.1)",LEGO_WASH:"rgba(0, 0, 0, 0.4)"},r=120},619937:(e,i,t)=>{t.d(i,{$N:()=>m,Cu:()=>y,GY:()=>d,MZ:()=>r,NR:()=>c,Vn:()=>u,bC:()=>g,fm:()=>n,kM:()=>l,q6:()=>a,qp:()=>s,uV:()=>p,ug:()=>h,xL:()=>o});let n={DOWNLOAD_TEMPLATE:"DOWNLOAD_TEMPLATE",UPLOAD_TEMPLATE:"UPLOAD_TEMPLATE",HISTORY:"HISTORY",RESOURCES:"RESOURCES"},a={GENERAL:"GENERAL",CAMPAIGNS:"CAMPAIGNS",AD_GROUPS:"AD_GROUPS",ADS:"ADS",KEYWORDS:"KEYWORDS",PRODUCT_GROUPS:"PRODUCT_GROUPS",ERROR_CODES:"ERROR_CODES"},l={BILLING_HISTORY:"BILLING_HISTORY",BILLING_FORMS:"BILLING_FORMS",ORDER_LINES:"ORDER_LINES",PROMOTIONS:"PROMOTIONS",TAX_DOCUMENTS:"TAX_DOCUMENTS",DOCUMENTS:"DOCUMENTS",PREPAID_CAMPAIGN_SPEND:"PREPAID_CAMPAIGN_SPEND_SUMMARY"},r={GOOGLE_TAG_MANAGER:"Google Tag Manager",SHOPIFY:"Shopify",WOO_COMMERCE:"WooCommerce",WORDPRESS:"WordPress",SQUARESPACE:"Squarespace",WEEBLY:"Weebly",TEALIUM:"Tealium",MAGENTO:"Magento",ECWID:"Ecwid",BIG_COMMERCE:"BigCommerce",PREMMERCE:"Premmerce",SEGMENT:"Segment",BRANCH:"Branch",HIGHTOUCH:"Hightouch",EULERIAN:"Eulerian",ADOBE_CDP:"Adobe Real-Time CDP",ADOBE_COMMERCE:"Adobe Commerce",SALESFORCE_COMMERCE_CLOUD:"Salesforce Commerce Cloud"},o={GTM:"GTM",SHOPIFY:"SHOPIFY",WORDPRESS:"WORDPRESS",WOOCOMMERCE:"WOOCOMMERCE",TEALIUM:"TEALIUM"},s={PINTEREST_TAG:"PINTEREST_TAG",PINTEREST_TAG_MANUAL_SETUP_FLOW:"PINTEREST_TAG_MANUAL_SETUP_FLOW",PINTEREST_TEST_EVENTS:"PINTEREST_TEST_EVENTS",PINTEREST_TAG_EVENTS:"PINTEREST_TAG_EVENTS",PINTEREST_TAG_HEALTH:"PINTEREST_TAG_HEALTH",CONVERSION_HEALTH:"CONVERSION_HEALTH",CONVERSION_UPLOAD:"CONVERSION_UPLOAD",UPLOAD_HISTORY:"UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD:"PCA_UPLOAD",CONVERSIONS_API:"CONVERSIONS_API",CONVERSIONS_API_ACCESS_TOKEN:"CONVERSIONS_API_ACCESS_TOKEN",CONVERSIONS_API_DEDUPLICATION:"CONVERSIONS_API_DEDUPLICATION",CONVERSIONS_API_PARTNER_SETUP_FLOW:"CONVERSIONS_API_PARTNER_SETUP_FLOW",CONVERSIONS_API_MANUAL_SETUP_FLOW:"CONVERSIONS_API_MANUAL_SETUP_FLOW",PINTEREST_EVENTS_OVERVIEW:"PINTEREST_EVENTS_OVERVIEW",PINTEREST_EVENT_HISTORY:"PINTEREST_EVENT_HISTORY",CONVERSIONS:"CONVERSIONS",PINTEREST_EVENTS_OVERVIEW_BEFORE_SETUP:"PINTEREST_EVENTS_OVERVIEW_BEFORE_SETUP",PINTEREST_SETUP_API:"PINTEREST_SETUP_API"},d={PINTEREST_TAG_DASHBOARD:"PINTEREST_TAG_DASHBOARD",PINTEREST_TAG_LANDING:"PINTEREST_TAG_LANDING",PINTEREST_TAG_INSTRUCTIONS:"PINTEREST_TAG_INSTRUCTIONS",CONVERSION_UPLOAD_LANDING:"CONVERSION_UPLOAD_LANDING",CONVERSION_UPLOAD_VALIDATION:"CONVERSION_UPLOAD_VALIDATION",CONVERSION_UPLOAD_HISTORY:"CONVERSION_UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD_LANDING:"PCA_UPLOAD_LANDING",PCA_UPLOAD_VALIDATION:"PCA_UPLOAD_VALIDATION"},u={UNREAD:"UNREAD",READ:"READ",ACCEPTED:"ACCEPTED",REJECTED:"REJECTED",DISMISSED:"DISMISSED",INVALID:"INVALID",MUTED:"MUTED",SNOOZED:"SNOOZED",PMP_REPORTED:"PMP_REPORTED",EMAILED:"EMAILED",BULK_DOWNLOADED:"BULK_DOWNLOADED",FILTERED:"FILTERED",PUSHED:"PUSHED"},c={DESTINATION:"destination",EXPIRY:"expiry",SOURCE:"attributionsrc",SOURCE_EVENT_ID:"source_event_id",SOURCE_EVENT_TYPE:"source_event_type",PRIORITY:"priority",CLICK_PRIORITY:"2",VIEW_PRIORITY:"1",CAMPAIGN_ID:"campaign_id",ADVERTISER_ID:"advertiser_id"},p="604800",h="86400",m={ATTRIBUTION_SOURCE_ID:"attributionsourceid",ATTRIBUTE_DESTINATION:"attributiondestination",ATTRIBUTE_ON:"attributeon"},g="click",y="view"},337815:(e,i,t)=>{t.d(i,{YS:()=>r,eF:()=>o,m_:()=>l});var n=t(619937),a=t(67347);function l(e,i,t,a,l){let r=new URLSearchParams,o=null!=e?e:"0";return r.append(n.NR.SOURCE_EVENT_ID,o),r.append(n.NR.DESTINATION,function(e){let i;try{i=decodeURIComponent(e)}catch(t){i=e}i.startsWith("http")?i.startsWith("http://")&&(i=i.replace("http://","https://")):i="https://"+i;try{return new URL(i).origin}catch(n){let t=i.match(/^(https?:\/\/[^\/]+)(\/|$)/);if(t&&t.length>1)return t[1];return e}}(i)||""),r.append(n.NR.EXPIRY,t?n.uV:n.ug),r.append(n.NR.PRIORITY,t?n.NR.CLICK_PRIORITY:n.NR.VIEW_PRIORITY),l&&r.append(n.NR.ADVERTISER_ID,l),a&&r.append(n.NR.CAMPAIGN_ID,a),r.append(n.NR.SOURCE_EVENT_TYPE,t?n.bC:n.Cu),"/attribution_source/?"+r.toString()}async function r(e,i,t,n,r,o,s){let{appType:d,osType:u}=o||{};if(["Pin","pinImpressions"].includes(e)&&i&&n){(0,a.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"start",appType:d,osType:u}});try{var c;if(!(null!==(c=window.document.featurePolicy)&&void 0!==c&&c.allowsFeature("attribution-reporting"))){(0,a.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"skipped",message:"attribution-reporting is not enabled",appType:d,osType:u}});return}let e=l(t,n||"",!1,r,s),i=await window.fetch(e,{keepalive:!0,attributionReporting:{eventSourceEligible:!0,triggerEligible:!1}});if(!i.ok)throw Error("server request failed.");(0,a.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"success",appType:d,osType:u}})}catch(e){(0,a.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"failed",error:e.name,appType:d,osType:u}})}}else(0,a.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"missing_param",appType:d,osType:u}})}function o(e){if(e){let i=e.toLowerCase();if(i.includes("windows"))return"windows xp"===i?1:"windows vista"===i?2:"windows 7"===i?3:"windows 8"===i?4:12;if(i.includes("mac os"))return 5;if(i.includes("android"))return 7;if(i.includes("ios"))return 6;if(i.includes("ubuntu"))return 8;if(i.includes("chromium os"))return 13}return 0}},987765:(e,i,t)=>{t.d(i,{t:()=>_,Z:()=>f});var n=t(883119),a=t(667294),l=t(391254),r=t(785893);let o="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",s=()=>[,,,,,].fill().map(()=>o[Math.floor(Math.random()*o.length)]).join(""),d=e=>{let i=[],t=Math.floor(3*Math.random()+1);for(let n=0;n<t-1;n+=1){let t=Math.floor(Math.random()*(e.length-1)+1);i.push(t)}i.sort((e,i)=>e-i);let n=[],a=0;for(let t=0;t<i.length;t+=1)n.push(e.slice(a,i[t])),a=i[t];return n.push(e.slice(a)),[...n]};function u({children:e}){let i=(0,a.useMemo)(()=>d(e.replace("  "," ")).map(e=>({className:s(),content:e})),[e]);return(0,r.jsxs)(a.Fragment,{children:[(0,r.jsx)(l.Z,{unsafeCSS:i.map(({className:e,content:i})=>`.${e} { display: inline; overflow-wrap: unset; } .${e}:before { content: "${i}"; font-weight: 600;  }`).join(" ")}),i.map(({className:e})=>(0,r.jsx)("div",{className:e},e))]})}var c=t(773285),p=t(780280),h=t(19121);let m=e=>"Promoted by"===e,g=()=>{var e;let i=(0,h.Z)(),{checkExperiment:t}=(0,c.F)(),n=null!==(e=t("web_obfuscate_ads_with_global_css").group.split("_")[3])&&void 0!==e?e:"op";return`${n}${i.isAuth?i.id:"unauth"}`},y=()=>(0,r.jsx)("div",{className:g()}),_=()=>{let{checkExperiment:e}=(0,c.F)(),i=g();return e("web_obfuscate_ads_with_global_css").anyEnabled?(0,r.jsx)(l.Z,{unsafeCSS:`.${i}:before { content: "Promoted by"; font-weight: 600;  }`}):null};function v({children:e}){let{checkExperiment:i}=(0,c.F)();return i("web_obfuscate_ads_with_global_css").anyEnabled?(0,r.jsx)(y,{}):(0,r.jsx)(u,{children:e})}function f({children:e,lineClamp:i,size:t,underline:a,weight:l}){let{isAuthenticated:o}=(0,p.B)(),s=o&&m(e);return(0,r.jsx)(n.xv,{lineClamp:i,size:t,title:s?void 0:e,underline:a,weight:l,children:s?(0,r.jsx)(v,{children:e}):e})}},41282:(e,i,t)=>{t.d(i,{Z:()=>n});function n(e){return e.replace("ad.doubleclick.net","ad.doubleClick.net").replaceAll(/&epik=[^&]+/g,"")}},221263:(e,i,t)=>{t.d(i,{Z:()=>n});function n(e,i){return e.isAuth&&i===e.id}},937330:(e,i,t)=>{t.d(i,{Z:()=>n});function n(e,i){return!!(i.isAuth&&e)}},4294:(e,i,t)=>{t.d(i,{Z:()=>l});var n=t(221263),a=t(937330);function l(e,i,t){return(0,n.Z)(t,i)||(0,a.Z)(e,t)}},400669:(e,i,t)=>{t.d(i,{P:()=>s,Z:()=>u});var n,a=t(667294);t(167912);var l=t(221263),r=t(937330),o=t(916117);let s=e=>{var i,t;let{action:n,viewer:a,board:o}=e;return!!o&&((0,l.Z)(a,null===(i=o.owner)||void 0===i?void 0:i.entityId)||(0,r.Z)(o.collaboratedByMe,a)&&!!(null!==(t=o.collaboratorPermissions)&&void 0!==t&&t.includes(n)))},d=void 0!==n?n:n=t(887837);function u({boardKey:e}){var i,t;let n=(0,o.Z)(d,e),l=null!==(i=null==n?void 0:null===(t=n.owner)||void 0===t?void 0:t.entityId)&&void 0!==i?i:"",r=(0,a.useMemo)(()=>null==n?void 0:n.collaboratorPermissions,[null==n?void 0:n.entityId]),u=(0,a.useCallback)(({action:e,viewer:i})=>s({action:e,viewer:i,board:{collaboratedByMe:null==n?void 0:n.collaboratedByMe,collaboratorPermissions:r,owner:l?{entityId:l}:null}}),[null==n?void 0:n.collaboratedByMe,r,l]);return{canPerformAction:u}}},366284:(e,i,t)=>{t.d(i,{G6:()=>l,i7:()=>r,oi:()=>n,u$:()=>a,un:()=>s,vU:()=>o});let n=Object.freeze({OTHER:0,CHROME:1,SAFARI:2,IE:3,FIREFOX:4,OPERA:5,EDGE:6}),a=e=>e?e.includes("Chrome")?n.CHROME:e.includes("Safari")?n.SAFARI:e.includes("Firefox")?n.FIREFOX:e.includes("Opera")?n.OPERA:e.includes("IE")?n.IE:e.includes("Edge")?n.EDGE:n.OTHER:n.OTHER;function l(e){return a(e)===n.SAFARI}function r(e){return a(e)===n.CHROME}function o(e){return a(e)===n.FIREFOX}function s(e){return a(e)===n.EDGE}},729884:(e,i,t)=>{t.d(i,{P:()=>p,Z:()=>c});var n,a,l,r,o=t(167912),s=t(357998),d=t(897243),u=t(681669);function c(e){let{childDataKey__DEPRECATED:i}=(0,s.Q)(void 0!==r?r:r=t(669926),e,{useLegacyAdapter:()=>({})}),c=function(e){var i,a;let{data:l}=(0,s.Q)(void 0!==n?n:n=t(680880),e,{useLegacyAdapter:e=>{var i,t,n;return{carouselData:e.carousel_data&&{entityId:null!==(i=e.carousel_data.id)&&void 0!==i?i:"",index:e.carousel_data.index,carouselSlots:null!==(t=null===(n=e.carousel_data.carousel_slots)||void 0===n?void 0:n.map(e=>{var i,t,n,a;return{details:e.details,imageSignature:e.image_signature,image236x:(null===(i=e.images)||void 0===i?void 0:i["236x"])&&{height:e.images["236x"].height,url:e.images["236x"].url,width:e.images["236x"].width},image474x:(null===(t=e.images)||void 0===t?void 0:t["474x"])&&{height:e.images["474x"].height,url:e.images["474x"].url,width:e.images["474x"].width},image564x:(null===(n=e.images)||void 0===n?void 0:n["564x"])&&{height:e.images["564x"].height,url:e.images["564x"].url,width:e.images["564x"].width},image736x:(null===(a=e.images)||void 0===a?void 0:a["736x"])&&{height:e.images["736x"].height,url:e.images["736x"].url,width:e.images["736x"].width},slotId:e.id,title:e.title}}))&&void 0!==t?t:[]}}}});return null!=l&&l.carouselData?{index:l.carouselData.index,carouselId:l.carouselData.entityId,carouselSlots:null!==(i=null===(a=l.carouselData.carouselSlots)||void 0===a?void 0:a.map(({details:e,imageSignature:i,image236x:t,image474x:n,image564x:a,image736x:l,slotId:r,title:o})=>({details:e,imageSignature:i,imageSizeMap:[["236x",t],["474x",n],["564x",a],["736x",l]].reduce((e,[i,t])=>({...e,[i]:t}),{}),slotId:r,title:o})))&&void 0!==i?i:[]}:null}(i),p=function({pinKey:e,index:i}){let n;return n=null==e?{type:"deprecated",data:null}:"graphqlRef"===e.type?e:{type:"deprecated",data:e.data},(0,u.Zm)(void 0!==l?l:l=t(283996),n,{useGraphQLAdapter:e=>{var n,l;let r=null===(n=e.richMetadata||e.richSummary)||void 0===n?void 0:null===(l=n.products)||void 0===l?void 0:l[0],s=function(e){let i=(0,o.useFragment)(void 0!==a?a:a=t(240956),e);if(!i)return[];let n={},{image236x:l,image474x:r,image564x:s,image736x:d}=i;return[[l,"236x"],[r,"474x"],[s,"564x"],[d,"736x"]].forEach(([e,i])=>{(null!=e?e:[]).forEach(({canonicalImage:e,imageSignature:t})=>{t&&e&&(n={...n,[t]:{...n[t],[i]:{height:e.height,url:e.url,width:e.width}}})})}),Object.entries(n).map(([e,i])=>({imageSignature:e,imageSizeMap:i}))}(r);return r&&s.length?{carouselId:r.productId,carouselSlots:[{imageSignature:null,imageSizeMap:[["236x",e.image236x],["474x",e.image474x],["564x",e.image564x],["736x",e.image736x]].reduce((e,[i,t])=>({...e,[i]:t&&{height:t.height,url:t.url,width:t.width}}),{})},...s],index:i}:null},useLegacyAdapter:e=>{var t,n,a;let l=null===(t=(null==e?void 0:e.rich_metadata)||(null==e?void 0:e.rich_summary))||void 0===t?void 0:null===(n=t.products)||void 0===n?void 0:n[0],r=(null!==(a=null==l?void 0:l.additional_images)&&void 0!==a?a:[]).reduce((e,{canonical_images:i,image_signature:t})=>e.concat(i&&t?[{imageSignature:t,imageSizeMap:Object.keys(i).reduce((e,t)=>i[t]?{...e,[t]:{height:i[t].height,url:i[t].url,width:i[t].width}}:e,{})}]:[]),[]);return e&&l&&r.length?{carouselId:l.id,carouselSlots:[...e.images?[{imageSignature:null,imageSizeMap:(0,d.b)(e.images)}]:[],...r],index:i}:null}}).data}({pinKey:i,index:null==c?void 0:c.index});return p?{...p,carouselSlots:p.carouselSlots.map(e=>({...e,details:null,slotId:null,title:null}))}:c}function p({children:e,pinKey:i}){return e(c(i))}},768559:(e,i,t)=>{t.d(i,{Z:()=>s});var n=t(826067);let a=/\/today\/(article|best|trending)\/[\w-]+\/(\d+)/,l=(e,i)=>i?e.substring(i.length).split("/")[0]:e,r=({boardUrl:e,path:i,pinId:t,pinnerUserName:r,search:o,storyPinDataId:s})=>{var d;if(!i)return"";let u="";switch(i){case"/":case"/homefeed/":return"UserHomefeedResource";case r&&`/${r}/pins/`:return"UserPinsResource";case r&&`/${r}/`:case/\/_activity\//.test(i)&&i:return"UserActivityPinsResource";case/\/_created\//.test(i)&&i:return s?"UserStoryPinsFeedResource":"UserActivityPinsResource";case/\/_community\//.test(i)&&i:return"UserDiscoveredPinsResource";case/\/_saved\//.test(i)&&i:return"BoardlessPinsResource";case r&&`/${r}/_shopping_list/`:return"ShoppingListFeedResource";case/\/visual-search\//.test(i)&&i:return"VisualLiveSearchResource";case/\/pin\//.test(i)&&i:u="/pin/";let c=l(i,u);if(t!==c)return`RelatedPinFeedResource_${c}`;break;case/\/search\//.test(i)&&i:if(o){let e=(0,n.mB)(o,{shouldDecode:!1}).q||"";return`SearchResource_${e.toLowerCase()}`}break;case/\/categories\//.test(i)&&i:u="/categories/";let p=l(i,u);return`CategoryFeedResource_${p}`;case/\/discover\/topics\//.test(i)&&i:return"CategoryFeedResource";case/\/news_hub\//.test(i)&&i:u="/news_hub/";let h=l(i,u);return`NewsHubDetailsResource_${h}`;case/\/_tools\/more-ideas\//.test(i)&&i:return"BoardContentRecommendationResource";case/\/topics\//.test(i)&&i:u="/topics/";let m=l(i,u);return`TopicFeedResource_${m}`;case/\/source\//.test(i)&&i:u="/source/";let g=l(i,u);return`DomainFeedResource_${g}`;case/\/explore\//.test(i)&&i:u="/explore/";let y=l(i,u);return`SearchResource_${y}`;case e:case!!e&&/\/more_ideas\//.test(i)&&i:return"BoardFeedResource";case e&&i.indexOf(e)>-1&&i:return"BoardSectionPinsResource";case/\/brand_catalog\//.test(i)&&i:return"BrandCatalogFeedResource";case a.test(i)&&i:let _=(null===(d=i.match(a))||void 0===d?void 0:d[2])||"unknown";return`TodayArticleFeedResource_${_}`;case/\/today\//.test(i):return"TodayTabResource";case/\story_feed\//.test(i)&&i:if(o){let{feed_type:e,request_params:i}=(0,n.mB)(o);return`StoryFeedResource_${e}_${i}`}}return""},o=e=>{let i=null==e?void 0:e.pathname;return i?(i.match(/\/search\//)&&null!=e&&e.search&&(i+=e.search),i.toLowerCase()):""},s=({boardUrl:e,location:i,pinId:t,pinnerUserName:n,previousHistory:a,storyPinDataId:l,trackingParams:s,trackingParamsMap:d={}})=>{let u,c;if(!t||!s||!i)return;if(!d)return`${null!=s?s:""}~0`;let{pathname:p,search:h}=i,m=r({boardUrl:e,path:p,pinId:t,pinnerUserName:n,search:h,storyPinDataId:l,trackingParams:s,trackingParamsMap:d}),g=Object.keys(d),y=(p||"").startsWith("/pin/");if(y){let e=g.find(e=>"PinResource"!==e);u=e?d[e]:d.PinResource}else u=d[m];if(!u&&a&&a.length){let i=o(a[a.length-1].location);c=r({boardUrl:e,path:i,pinId:t,pinnerUserName:n,search:h,storyPinDataId:l,trackingParams:s,trackingParamsMap:d}),u=d[c]}return u||(u=`${s||""}~0`),u}},827896:(e,i,t)=>{t.d(i,{Z:()=>r});var n=t(616550),a=t(768559),l=t(350118);function r(){let e=(0,l.S6)(),i=(0,n.TH)();return(t,n)=>{let l;let r=e(t);if(null!=n&&n.shouldTrackForPrevLocation){let e=(null==r?void 0:r.tracking_params_map)||{},i=Object.keys(e),t=i.find(e=>"PinResource"!==e);r&&(l=t?e[t]:e.PinResource)}else if(r){var o,s;l=(0,a.Z)({boardUrl:null===(o=r.board)||void 0===o?void 0:o.url,location:i,pinId:r.id,pinnerUserName:null===(s=r.pinner)||void 0===s?void 0:s.username,storyPinDataId:r.story_pin_data_id,trackingParams:r.tracking_params,trackingParamsMap:r.tracking_params_map})}return l}}},41861:(e,i,t)=>{t.d(i,{Z:()=>n});function n(e){return function e(i,t){let n;if(null==i||"object"!=typeof i&&"function"!=typeof i)return i;let a=t.find(e=>e.value===i);if(a)return a.result;let l=Object.prototype.toString.call(i);switch(l){case"[object Array]":n=Array(i.length);break;case"[object Set]":n=new Set;break;case"[object Object]":case"[object Arguments]":n={};break;case"[object Map]":n=new Map;break;default:return i}let r=[...t,{value:i,result:n}];switch(l){case"[object Array]":i.forEach((i,t)=>{n[t]=e(i,r)});break;case"[object Set]":i.forEach(i=>{n.add(e(i,r))});break;case"[object Object]":case"[object Arguments]":Object.entries(i).forEach(([i,t])=>{n[i]=e(t,r)});break;case"[object Map]":i.forEach((i,t)=>{n.set(t,e(i,r))})}return n}(e,[])}},407043:(e,i,t)=>{t.d(i,{B:()=>s,v:()=>o});var n=t(385740),a=t(425288),l=t(785893);let{Provider:r,useHook:o}=(0,a.Z)("ContextLogger");function s({children:e,value:i}){let{setViewContextData:t}=(0,n.sV)();return i.injectSetViewContextDataFromHook=t,(0,l.jsx)(r,{value:i,children:e})}},112690:(e,i,t)=>{t.d(i,{Z:()=>a});var n=t(407043);let a=()=>(0,n.v)().logContextEvent},643010:(e,i,t)=>{t.d(i,{F6:()=>c,Hs:()=>u,Yc:()=>s,vs:()=>d});var n=t(667294),a=t(844974),l=t(867820);let r="theme",o="dark"===(0,a.qn)(r),s=()=>o;function d(){let[e,i]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{i(s())},[i]),e}let u=()=>{(0,a.Nh)(r,"dark"),(0,l.My)("mweb.dark_mode.enable"),window.location.reload()},c=()=>{(0,a.L_)(r),(0,l.My)("mweb.dark_mode.disable"),window.location.reload()}},451820:(e,i,t)=>{t.d(i,{Z:()=>l,k:()=>n});let n={LONG:"long",YEAR:"year",WEEKDAY_DATE:"weekday_date",WEEKDAY_DATE_TIME_TIMEZONE:"weekday_date_time_timezone",SHORT_WEEKDAY_DATE:"short_weekday_date",LONG_MONTH_YEAR:"long_month_year",NUMERIC:"numeric",MONTH_DAY:"month_day",SHORT_MONTH:"short_month",SHORT_MONTH_DAY:"short_month_day",DAY:"day",YEAR_SHORT_MONTH_DAY:"year_short_month_day",YEAR_SHORT_MONTH_DAY_HOUR:"year_short_month_day_hour",TIME:"time",TIME_TIMEZONE:"time_timezone",HOUR:"hour",TWO_DIGIT:"two_digit",TWO_DIGIT_YEAR:"two_digit_year"},a=function(e){switch(e){case n.YEAR:return{year:"numeric"};case n.LONG:return{year:"numeric",month:"long",day:"numeric"};case n.NUMERIC:return{year:"numeric",month:"numeric",day:"numeric"};case n.TWO_DIGIT:return{year:"numeric",month:"2-digit",day:"2-digit"};case n.TWO_DIGIT_YEAR:return{year:"2-digit",month:"2-digit",day:"2-digit"};case n.WEEKDAY_DATE:return{weekday:"long",month:"long",day:"numeric",year:"numeric"};case n.SHORT_WEEKDAY_DATE:return{weekday:"short",month:"numeric",day:"numeric"};case n.WEEKDAY_DATE_TIME_TIMEZONE:return{weekday:"short",month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"};case n.MONTH_DAY:return{month:"long",day:"numeric"};case n.SHORT_MONTH:return{month:"short"};case n.SHORT_MONTH_DAY:return{month:"short",day:"numeric"};case n.DAY:return{day:"numeric"};case n.LONG_MONTH_YEAR:return{month:"long",year:"numeric"};case n.YEAR_SHORT_MONTH_DAY:return{year:"numeric",month:"short",day:"numeric"};case n.YEAR_SHORT_MONTH_DAY_HOUR:return{month:"short",year:"numeric",day:"numeric",hour:"numeric"};case n.TIME:return{hour:"numeric",minute:"2-digit"};case n.TIME_TIMEZONE:return{hour:"numeric",minute:"2-digit",timeZoneName:"short"};case n.HOUR:return{hour:"numeric"};default:throw Error('invalid dateFormatType "'+e+'"')}};function l(e,i,t,n=!0){let l=a(t);n&&(l.timeZone="UTC");let r=new Intl.DateTimeFormat(e,l);return r.format(i)}},81226:(e,i,t)=>{t.d(i,{Z:()=>n});function n(e){let i=Math.round(e/1e3),t=i%60;return Math.floor(i/60)+":"+(t<10?"0":"")+t}},722767:(e,i,t)=>{t.d(i,{Z:()=>o});var n=t(667294),a=t(973935);function l(e,i,t){var n;return(i="symbol"==typeof(n=function(e,i){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,i||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(i,"string"))?n:String(n))in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}class r extends n.Component{constructor(...e){super(...e),l(this,"observer",null),l(this,"handleVisibilityChanged",(e,i)=>{this.props.onVisibilityChange(e,i)})}componentDidMount(){let e=a.findDOMNode(this);e instanceof HTMLElement&&(this.node=e),this.node&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.node))}componentWillUnmount(){this.observer&&(this.observer.unobserve(this.node),delete this.observer)}render(){return n.Children.only(this.props.children)}}let o=r},375571:(e,i,t)=>{t.d(i,{Z:()=>o});var n=t(667294),a=t(395164),l=t(67347);function r(e,i,t){var n;return(i="symbol"==typeof(n=function(e,i){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,i||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(i,"string"))?n:String(n))in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}class o extends n.Component{constructor(...e){super(...e),r(this,"state",{error:null,info:null}),r(this,"resetError",()=>{this.setState({error:null,info:null})})}componentDidCatch(e,i){try{var t;let{name:i}=this.props,n=this.props.type||"secondary";(0,a.T)({extraData:null!==(t=e.extraData)&&void 0!==t?t:{},errorBoundary:i,errorBoundaryType:n,message:e.message,name:e.name,stack:e.stack}),(0,l.nP)("react.error_boundary",{sampleRate:.1,tags:{component:void 0,name:this.props.name}})}catch(e){(0,l.nP)("react.error_boundary.error",{sampleRate:1,tags:{name:this.props.name}})}this.setState({error:e,info:i})}render(){let{renderErrorState:e}=this.props,{error:i,info:t}=this.state;return i&&t?e?e({error:i,info:t,resetError:this.resetError}):null:this.props.children}}},319915:(e,i,t)=>{t.d(i,{Z:()=>a});var n=t(375571);let a=n.Z},320415:(e,i,t)=>{t.d(i,{Z:()=>g});var n=t(667294),a=t(702664),l=t(112690),r=t(332611),o=t(214494);let s=(e,i,t,n)=>(a,l)=>s=>{if(a&&a.id){let d=o.Z.create(e,{placed_experience_id:a.id,extra_context:{}});switch(i){case"dismissed":d.callDelete().then(()=>{s((0,r.fO)()),t&&n&&t({event_type:n,object_id_str:a.id.toString()})});break;case"completed":d.callUpdate().then(()=>{l||s((0,r.fO)()),t&&n&&t({event_type:n,object_id_str:a.id.toString()})});break;case"viewed":d.callUpdate().then(()=>{t&&n&&t({event_type:n,object_id_str:a.id.toString()})})}}},d=e=>s("UserExperienceCompletedResource","completed",e,6567),u=s("UserExperienceResource","dismissed"),c=e=>s("UserExperienceViewedResource","viewed",e,4503);var p=t(785893);function h(e,i,t){var n;return(i="symbol"==typeof(n=function(e,i){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,i||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(i,"string"))?n:String(n))in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}class m extends n.Component{constructor(...e){super(...e),h(this,"state",{hasCompleted:[],hasDismissed:[]}),h(this,"view",()=>{let{experience:e,isBackendExperience:i,targeting:t,viewExperience:n,viewExperienceObject:a}=this.props;e&&"viewed"!==e.status&&(i?(e.status="viewed",a(e)):t?n(e.placement_id,e.experience_id,t):n(e.placement_id,e.experience_id))}),h(this,"complete",e=>{let{completeExperience:i,completeExperienceObject:t,experience:n,isBackendExperience:a,preventRemoval:l,targeting:r}=this.props,o=e||1;if(n&&!this.state.hasCompleted.includes(n.experience_id)){let{placement_id:e,experience_id:s}=n||{},d=l||2===o;(1===o||d)&&e&&s&&(a?t(n,d):r?i(e,s,d,r):i(e,s,d),this.setState(e=>({hasCompleted:[...e.hasCompleted,s]})))}}),h(this,"dismiss",()=>{let{dismissExperience:e,dismissExperienceObject:i,experience:t,isBackendExperience:n,preventRemoval:a,targeting:l}=this.props,{placement_id:r,experience_id:o}=t||{};t&&!this.state.hasDismissed.includes(o)&&(n?i(t):l?e(r,o,!!a,l):e(r,o,!!a),this.setState(e=>({hasDismissed:[...e.hasDismissed,o]})))}),h(this,"isEligibleExperience",()=>{let{experience:e}=this.props;if(!e)return!1;let{eligibleIds:i,eligibleTypes:t,predicate:n,transitionType:a}=this.props,{experience_id:l,type:r}=e;return i&&i.length?i.includes(l):t&&t.length?t.includes(r):n?n(e):!a||a===r})}componentDidMount(){if(this.props.disableAutoView)return;let{experience:e}=this.props;e&&this.isEligibleExperience()&&this.view()}componentDidUpdate(e){if(this.props.disableAutoView)return;let i=e.experience,t=this.props.experience;t&&this.isEligibleExperience()&&(i&&i.experience_id===t.experience_id||this.view())}render(){let{children:e,experience:i,disableAutoView:t}=this.props;return i&&this.isEligibleExperience()?"function"==typeof e?e({experience:i,complete:this.complete,dismiss:this.dismiss,...t?{view:this.view}:Object.freeze({})}):n.Children.only(e):null}}function g(e){let i=(0,a.useSelector)(({experiences:i})=>e.experience||(e.placementId?i[e.placementId]:void 0)),t=(0,a.useDispatch)(),n=(0,r.be)(),o=(0,r.Am)(),s=(0,r.Ig)(),h=(0,l.Z)();return(0,p.jsx)(m,{...e,completeExperience:(e,i,a,l)=>t(n(e,i,a,!1,{},l)),completeExperienceObject:(e,i)=>t(d(h)(e,i)),dismissExperience:(e,i,n,a)=>t(o(e,i,n,void 0,a)),dismissExperienceObject:e=>t(u(e)),experience:i,viewExperience:(e,i,n)=>t(s(e,i,!1,!1,void 0,n)),viewExperienceObject:e=>t(c(h)(e))})}h(m,"defaultProps",{eligibleIds:[],eligibleTypes:[]})},333312:(e,i,t)=>{t.r(i),t.d(i,{default:()=>c});var n=t(667294),a=t(883119),l=t(320415),r=t(785893);function o(e,i,t){var n;return(i="symbol"==typeof(n=function(e,i){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,i||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(i,"string"))?n:String(n))in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}class s extends n.PureComponent{constructor(...e){super(...e),o(this,"onScroll",()=>{let{dismiss:e}=this.props;this.dismissed||this.timer||(this.timer=setTimeout(()=>{e(),this.dismissed=!0,this.timer=void 0},3e3))}),o(this,"dismissed",!1)}componentDidMount(){window.addEventListener("scroll",this.onScroll)}componentWillUnmount(){this.timer&&clearTimeout(this.timer)}render(){let{anchor:e,text:i,thumbnails:t,idealDirection:n}=this.props,l=t.slice(-3);return(0,r.jsx)(a.J2,{anchor:e,color:"white",idealDirection:n,onDismiss:this.onScroll,shouldFocus:!1,size:"md",children:(0,r.jsxs)(a.xu,{alignContent:"center",display:"flex",justifyContent:"between",padding:3,width:"100%",children:[(0,r.jsx)(a.xu,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",marginStart:-3,paddingX:3,children:(0,r.jsx)(a.xv,{color:"default",weight:"bold",children:i})}),(0,r.jsx)(a.xu,{display:"flex",marginEnd:-2,paddingX:2,children:l.map(e=>(0,r.jsx)(a.xu,{height:60,paddingX:1,width:50,children:(0,r.jsx)(a.zd,{height:60,rounding:2,children:(0,r.jsx)(a.Ee,{alt:"More Ideas Thumbnail",color:"rgb(86, 152, 239)",fit:"cover",naturalHeight:60,naturalWidth:60,src:e})})},e))})]})})}}var d=t(570470);function u(e,i,t){var n;return(i="symbol"==typeof(n=function(e,i){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,i||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(i,"string"))?n:String(n))in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}class c extends n.Component{constructor(...e){super(...e),u(this,"dismissRef",(0,n.createRef)()),u(this,"state",{paused:!1}),u(this,"dismissCb",()=>{var e,i;null===(e=(i=this.dismissRef).current)||void 0===e||e.call(i)}),u(this,"handlePulsarClick",(e,i)=>{e?this.setState({paused:!0}):i()})}componentWillUnmount(){let{anchor:e}=this.props;clearTimeout(this.timer),null==e||e.removeEventListener("click",this.dismissCb)}setDefaultPulsarTooltip(e){e.has_pulsar=null==e.has_pulsar||e.has_pulsar,e.has_tooltip=null==e.has_tooltip||e.has_tooltip}getText(e,i,t){return(i&&e.text.replace("{boardName}",i),t)?t(e):e.text}render(){let{anchor:e,customWrapper:i,experienceIds:t,boardTextOverride:o,flyoutSize:u,fontSize:c,hasFullWidthButton:p=!0,idealDirection:h,useMasonryFlyout:m,noClickToDismiss:g,onClickComplete:y,onClickDismiss:_,placementId:v,positionRelativeToAnchor:f,shouldTimeoutDismiss:b,showCaret:P,textAlign:S,textOverflow:x,textOverrideFn:k,textWeight:w,customizedComplete:T,pulsarZIndex:E,advertiserId:I,dismissButtonLocation:A,dismissButtonColor:R,dismissButtonMarginTop:C}=this.props,F=i||(({children:e})=>m?(0,r.jsx)(a.mh,{children:e}):e);return(0,r.jsx)(l.Z,{eligibleIds:t,eligibleTypes:[8],placementId:v,targeting:I?{advertiserId:parseInt(I,10)}:null,children:({complete:i,dismiss:t,experience:l})=>{let{display_data:{scroll_to_dismiss:v,scroll_to_dismiss_delay_in_seconds:I=0,...D}}=l,L=v&&e,j=()=>{O(),setTimeout(t,1e3*I)},O=()=>{L&&(window.removeEventListener("scroll",j),window.removeEventListener("touchmove",j))},K=()=>{O(),i()};if(L&&(window.addEventListener("scroll",j),window.addEventListener("touchmove",j)),this.setDefaultPulsarTooltip(D),!D.has_pulsar&&!D.has_tooltip)return K(),null;b&&D.disappearTime&&D.disappearTime>0&&(this.timer=setTimeout(()=>(j(),null),D.disappearTime));let N=501041===l.experience_id||505086===l.experience_id;return D.has_tooltip&&!D.has_pulsar&&(this.dismissRef.current=j,null==e||e.addEventListener("click",this.dismissCb)),(0,r.jsxs)(n.Fragment,{children:[D.has_pulsar&&(0,r.jsx)(d.Z,{anchor:e,leftOverride:N?342:void 0,onTouch:()=>this.handlePulsarClick(D.has_tooltip,K),paused:this.state.paused,topOverride:N?-5:void 0,zIndex:E&&E.index()}),D.has_tooltip&&(!D.has_pulsar||this.state.paused)&&(D.thumbnail_urls?(0,r.jsx)(s,{anchor:e,dismiss:j,idealDirection:h||"down",text:D.text,thumbnails:D.thumbnail_urls}):(0,r.jsx)(F,{children:(0,r.jsx)(a.J2,{_deprecatedShowCaret:P,anchor:e,color:"deprecatedBlue",idealDirection:h||"down",onDismiss:g?()=>{}:j,positionRelativeToAnchor:!m&&f,shouldFocus:!1,size:u,children:(0,r.jsxs)(a.xu,{column:12,padding:3,children:[(0,r.jsxs)(a.xv,{align:"right"===S?"end":S,color:"inverse",overflow:x,size:c,weight:w||"bold",children:[this.getText(D,o,k),D.secondary_cta_link&&(0,r.jsx)(a.xu,{display:"inlineBlock",marginStart:1,children:(0,r.jsx)(a.xv,{color:"inverse",size:c,weight:"bold",children:(0,r.jsx)(a.rU,{display:"inlineBlock",href:D.secondary_cta_link.url,target:"blank",underline:"hover",children:D.secondary_cta_link.text})})})]}),D.sub_text&&(0,r.jsx)(a.xu,{paddingY:2,children:(0,r.jsx)(a.xv,{color:"inverse",size:c,children:D.sub_text})}),(D.dismiss_button_text||D.complete_button_text)&&(0,r.jsxs)(a.xu,{alignItems:"center",display:"flex",justifyContent:A||"start",marginTop:C||2,children:[D.dismiss_button_text&&(0,r.jsx)(a.xu,{column:6,marginEnd:1,children:(0,r.jsx)(a.zx,{color:R||"blue",fullWidth:p,onClick:()=>{_&&_(),j()},size:"md",text:D.dismiss_button_text})}),D.complete_button_text&&(0,r.jsx)(a.xu,{column:D.dismiss_button_text?6:12,children:T?(0,r.jsx)(a.iP,{fullHeight:!0,onTap:()=>{K(),y&&y()},rounding:2,children:(0,r.jsx)(a.xu,{color:"default",dangerouslySetInlineStyle:{__style:{padding:"10px"}},display:"flex",justifyContent:"center",padding:2,rounding:2,children:(0,r.jsx)(a.xv,{color:"shopping",weight:"bold",children:D.complete_button_text})})}):(0,r.jsxs)(a.kC,{justifyContent:"center",children:[D.complete_button_cta_url&&(0,r.jsx)(a.ZP,{color:"white",fullWidth:p,href:D.complete_button_cta_url,onClick:({event:e})=>{e.preventDefault(),e.stopPropagation(),K(),y&&y()},size:"md",target:D.complete_button_cta_url?"blank":null,text:D.complete_button_text}),!D.complete_button_cta_url&&(0,r.jsx)(a.zx,{color:"white",fullWidth:p,onClick:()=>{K(),y&&y()},size:"md",text:D.complete_button_text})]})})]})]})})}))]})}})}}u(c,"defaultProps",{fontSize:"300",positionRelativeToAnchor:!0})},332611:(e,i,t)=>{let n;t.d(i,{Am:()=>_,Ig:()=>g,N:()=>P,Sd:()=>v,YX:()=>b,be:()=>y,fO:()=>p,kd:()=>f,pz:()=>h});var a=t(667294),l=t(214494),r=t(112690),o=t(764990),s=t(957191),d=t(186656),u=t(67347);let c=(e,i,t={})=>(0,u.nP)(`${e}.${i}`,{sampleRate:1,tags:t}),p=(e,i)=>t=>{let n=i?{extra_context:e,targeting:i}:{extra_context:e};return l.Z.create("UserExperiencePlatformResource",n).callGet().then(e=>e.resource_response?t((0,s.OD)(e.resource_response.data)):void 0)},h=(e,i,t,a)=>(r,d)=>{if(i)return Promise.resolve();if(a&&(n=a),1===e.length){let i=e[0],n=d().experiences,a=n[i],l=(null==a?void 0:a.extraContext)||null;if(JSON.stringify(l)===JSON.stringify(t)||(0,o.E3)(a)&&!(t&&Object.keys(t).length>0))return Promise.resolve()}return l.Z.create("UserExperienceResource",{placement_ids:e,extra_context:t||null,targeting:a}).callGet().then(e=>e.resource_response?r((0,s.cL)(e.resource_response.data)):void 0)},m=(e,i,t,a)=>(r,o,d,u=!1,c,h)=>(m,g)=>{let{experiences:y,experiencesMulti:_}=g(),v=null,f=!0;if(!u){var b;v=(f=y[r]&&y[r].experience_id===o)?y[r]:Array.isArray(_[r])&&(null===(b=_[r])||void 0===b?void 0:b.find(e=>e.experience_id===o))}if(v&&v.experience_id===o||u&&r&&o){let u=l.Z.create(e,{placed_experience_id:`${r}%3A${o}`,extra_context:null!=c?c:{},targeting:h}),g=f?s.Yb:s.xW;switch(i){case"dismissed":return u.callDelete().then(()=>{m(g(r,o,i)),m(p(void 0,n)),t&&a&&t({event_type:a,object_id_str:o.toString()})});case"completed":return u.callUpdate().then(()=>{!d&&(m(g(r,o,i)),m(p(void 0,n)),t&&a&&t({event_type:a,object_id_str:o.toString()}))});case"viewed":return m(g(r,o,i)),u.callUpdate().then(()=>{1000162===r&&m(p()),t&&a&&t({event_type:a,object_id_str:o.toString()})});case"completedWithoutHomefeed":return u.callUpdate().then(()=>{d||m(g(r,o,i)),t&&a&&t({event_type:a,object_id_str:o.toString()})})}}return Promise.resolve()},g=()=>{let e=(0,r.Z)(),i=(0,a.useCallback)(m("UserExperienceViewedResource","viewed",e,4503),[e]);return i},y=()=>{let e=(0,r.Z)(),i=(0,a.useCallback)(m("UserExperienceCompletedResource","completed",e,6567),[e]);return i},_=()=>{let e=(0,r.Z)(),i=(0,a.useCallback)(m("UserExperienceResource","dismissed",e,6568),[e]);return i},v=()=>{let e=(0,r.Z)(),i=(0,a.useCallback)(m("UserExperienceCompletedResource","completedWithoutHomefeed",e,6567),[e]);return i},f=(e,i)=>(t,n)=>{let{experiences:a}=n(),l=a[e];l&&l.triggerable_placed_exps&&l.triggerable_placed_exps.length&&l.triggerable_placed_exps.forEach(t=>{let[,n]=t.split(":"),a=i;l.metadata&&l.metadata[n]&&(a={...i,...l.metadata[n]}),(0,d.Z)({url:`/v3/experiences/${t.replace(":","%3A")}/trigger/`,method:"PUT",data:a?{extra_context:JSON.stringify(a,null,1)}:{}}).then(()=>{c("experienceservice","experimentTriggerCall.1",{placement_id:e,experience_id:n})})})},b=e=>(i,t)=>{i(f(e));let{experiences:n}=t();return n[e]},P=(e,i,t)=>a=>{t&&(n=t),a(f(e,i)),i&&Object.keys(i).length>0&&a(h([e],!1,i,t))}},764990:(e,i,t)=>{t.d(i,{A0:()=>s,E3:()=>r,MQ:()=>o,fL:()=>d});var n=t(883119),a=t(149230),l=t(785893);function r(e){return!!e&&0!==e.type}let o=(e,i,t)=>{let n=e[t];return i[t]&&r(n)?n:null};function s(e){var i;return null===(i=e.display_data)||void 0===i?void 0:i.anchor}let d=e=>{var i;let t=new DOMParser,r=t.parseFromString(e,"text/html"),o=[...(null===(i=r.body)||void 0===i?void 0:i.childNodes)||[]].map(e=>{if("A"!==e.nodeName)return(0,l.jsx)(n.xv,{inline:!0,children:e.textContent});{let i=e.href||"",t=(0,a.Z)({url:i});return(0,l.jsx)(n.rU,{display:"inline",externalLinkIcon:t?"default":"none",href:i,rel:t?"nofollow":"none",target:"blank",children:e.textContent})}});return(0,l.jsx)(n.xv,{inline:!0,children:o})}},207737:(e,i,t)=>{t.d(i,{$S:()=>n,V$:()=>a,_4:()=>r,iY:()=>o,mR:()=>l});let n="REFRESH_ALL_EXPERIENCES_MULTI",a="UPDATE_EXPERIENCE_MULTI",l="FETCH_EXPERIENCES",r="REFRESH_ALL_EXPERIENCES",o="UPDATE_EXPERIENCE"},957191:(e,i,t)=>{t.d(i,{NW:()=>o,OD:()=>d,Yb:()=>s,cL:()=>u,xW:()=>r});var n=t(214494),a=t(207737);let l=e=>({type:a.$S,payload:{experiencesMulti:e}}),r=(e,i,t)=>({type:a.V$,payload:{placementId:e,experienceId:i,status:t}}),o=e=>i=>n.Z.create("UserExperiencePlatformResource",{extra_context:e,multiExperiencePlatform:!0}).callGet().then(e=>e.resource_response?i(l(e.resource_response.data)):void 0),s=(e,i,t)=>({type:a.iY,payload:{placementId:e,experienceId:i,status:t}}),d=e=>({type:a._4,payload:{experiences:e}}),u=e=>({type:a.mR,payload:{experiences:e}})},570470:(e,i,t)=>{t.d(i,{Z:()=>s});var n=t(883119),a=t(667294),l=t(785893);let r=(e,i,t,n)=>({horizontalOffset:-(n/2-i/2),verticalOffset:-(t/2-e/2)});function o({anchor:e,children:i,zIndex:t,leftOverride:o,topOverride:s}){let d=(0,a.useRef)(null),[u,c]=(0,a.useState)(0),[p,h]=(0,a.useState)(0),{height:m,width:g}=e.getBoundingClientRect();return(0,a.useEffect)(()=>{let{current:i}=d;if(e&&i){let{height:e,width:t}=i.getBoundingClientRect(),{horizontalOffset:n,verticalOffset:a}=r(m,g,e,t);c(n),h(a)}}),(0,l.jsx)(n.xu,{ref:d,dangerouslySetInlineStyle:{__style:{left:o||u,top:s||p}},"data-test-id":"center-box",position:"absolute",zIndex:t?new n.Ry(t):void 0,children:i})}let s=function(e){let{anchor:i,leftOverride:t,onTouch:a,onMouseEnter:r,paused:s,size:d,topOverride:u,zIndex:c}=e;return i?(0,l.jsx)(o,{anchor:i,leftOverride:t,topOverride:u,zIndex:c,children:(0,l.jsx)(n.iP,{fullWidth:!1,onMouseEnter:r,onTap:({event:e})=>a(e),rounding:"circle",children:(0,l.jsx)(n.o3,{paused:s,size:d})})}):null}},321976:(e,i,t)=>{t.d(i,{Z:()=>a});var n=t(785893);let a=({color:e})=>(0,n.jsx)("svg",{"data-test-id":"shoppable-pin",height:"24",viewBox:"0 0 24 24",width:"24",children:(0,n.jsxs)("g",{children:[(0,n.jsx)("rect",{fill:e,height:"24",rx:"12",width:"24"}),(0,n.jsx)("rect",{fill:"white",fillOpacity:"0.4",height:"24",rx:"12",width:"24"}),(0,n.jsx)("path",{clipRule:"evenodd",d:"M9 10C9.55247 10 10 9.55202 10 9C10 8.44753 9.55247 8 9 8C8.44798 8 8 8.44753 8 9C8 9.55202 8.44798 10 9 10ZM12.6816 6.89921L17.1009 11.3185C17.633 11.8506 17.633 12.7141 17.1009 13.2463L13.2463 17.1009C12.7141 17.633 11.8511 17.633 11.319 17.1009L6.89921 12.6811C6.64392 12.4259 6.5 12.0793 6.5 11.7177V7.8631C6.5 7.11005 7.11051 6.5 7.8631 6.5H11.7182C12.0793 6.5 12.4263 6.64346 12.6816 6.89921Z",fill:e,fillRule:"evenodd"}),(0,n.jsx)("path",{clipRule:"evenodd",d:"M9 10C9.55247 10 10 9.55202 10 9C10 8.44753 9.55247 8 9 8C8.44798 8 8 8.44753 8 9C8 9.55202 8.44798 10 9 10ZM12.6816 6.89921L17.1009 11.3185C17.633 11.8506 17.633 12.7141 17.1009 13.2463L13.2463 17.1009C12.7141 17.633 11.8511 17.633 11.319 17.1009L6.89921 12.6811C6.64392 12.4259 6.5 12.0793 6.5 11.7177V7.8631C6.5 7.11005 7.11051 6.5 7.8631 6.5H11.7182C12.0793 6.5 12.4263 6.64346 12.6816 6.89921Z",fill:"#111111",fillOpacity:"0.6",fillRule:"evenodd"})]})})},99064:(e,i,t)=>{t.d(i,{Z:()=>n});let n="M8.92946 1.04438L14.9558 7.07069C15.6814 7.79633 15.6814 8.97384 14.9558 9.69947L9.69947 14.9558C8.97384 15.6814 7.79695 15.6814 7.07132 14.9558L1.04438 8.92884C0.696252 8.58071 0.5 8.1082 0.5 7.61507V2.35877C0.5 1.33188 1.33251 0.5 2.35877 0.5H7.6157C8.1082 0.5 8.58133 0.695627 8.92946 1.04438ZM7.96436 2.00775C7.87276 1.91598 7.74714 1.86364 7.6157 1.86364H2.35877C2.08533 1.86364 1.86364 2.0853 1.86364 2.35877V7.61507C1.86364 7.74585 1.91573 7.87171 2.00862 7.9646L8.03555 13.9915C8.22865 14.1846 8.54214 14.1846 8.73524 13.9915L13.9915 8.73524C14.1846 8.54214 14.1846 8.22803 13.9915 8.03493L7.96436 2.00775ZM5.27281 6.63636C6.02618 6.63636 6.63645 6.02548 6.63645 5.27273C6.63645 4.51936 6.02618 3.90909 5.27281 3.90909C4.52006 3.90909 3.90918 4.51936 3.90918 5.27273C3.90918 6.02548 4.52006 6.63636 5.27281 6.63636Z"},799034:(e,i,t)=>{t.d(i,{Z:()=>n});let n="M17.496 14.572a1 1 0 0 1-1 1h-.001a1.001 1.001 0 0 1-.999-1.001l.002-4.652-7.29 7.288a.995.995 0 0 1-.707.293.999.999 0 0 1-.707-1.707l7.293-7.29L9.428 8.5a1 1 0 0 1 .001-2h.001l8.071.005-.005 8.067zM12 0C5.373 0 0 5.373 0 12c0 6.628 5.373 12 12 12 6.628 0 12-5.372 12-12 0-6.627-5.372-12-12-12z"},82726:(e,i,t)=>{t.d(i,{Z:()=>n});let n="M12 18.5A6.508 6.508 0 0 1 5.5 12c0-1.706.689-3.307 1.835-4.5H6.5a1 1 0 1 1 0-2h4.185v4.474a1 1 0 0 1-2 0V8.972A4.505 4.505 0 0 0 7.5 12c0 2.481 2.019 4.5 4.5 4.5s4.5-2.019 4.5-4.5a4.49 4.49 0 0 0-3.112-4.283 1 1 0 1 1 .615-1.902A6.482 6.482 0 0 1 18.5 12c0 3.584-2.916 6.5-6.5 6.5M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0"},301723:(e,i,t)=>{t.d(i,{Z:()=>o});var n=t(667294),a=t(883119);let l=(0,n.createContext)();var r=t(785893);function o(e){(0,n.useContext)(l);let{alt:i,color:t,children:o,crossOrigin:s,decoding:d,elementTiming:u,fetchPriority:c,fit:p,loading:h,naturalHeight:m,naturalWidth:g,onError:y,onLoad:_,role:v,sizes:f,src:b,srcSet:P}=e;return(0,r.jsx)(a.Ee,{alt:i,color:t,crossOrigin:s,decoding:d,elementTiming:u,fetchPriority:c,fit:p,loading:h,naturalHeight:m,naturalWidth:g,onError:y,onLoad:_,role:v,sizes:f,src:b,srcSet:P,children:o})}},121151:(e,i,t)=>{t.d(i,{ZP:()=>d,b7:()=>r.b7,bN:()=>o,p4:()=>s});var n=t(240684),a=t(50286),l=t(785893),r=t(968121);let o=(0,n.ZP)({resolved:{},chunkName:()=>"DesktopModal",isReady(e){let i=this.resolve(e);return!0===this.resolved[i]&&!!t.m[i]},importAsync:()=>t.e(51879).then(t.bind(t,373420)),requireAsync(e){let i=this.resolve(e);return this.resolved[i]=!1,this.importAsync(e).then(e=>(this.resolved[i]=!0,e))},requireSync(e){let i=this.resolve(e);return t(i)},resolve:()=>373420}),s=(0,n.ZP)({resolved:{},chunkName:()=>"MobileModal",isReady(e){let i=this.resolve(e);return!0===this.resolved[i]&&!!t.m[i]},importAsync:()=>t.e(72430).then(t.bind(t,430322)),requireAsync(e){let i=this.resolve(e);return this.resolved[i]=!1,this.importAsync(e).then(e=>(this.resolved[i]=!0,e))},requireSync(e){let i=this.resolve(e);return t(i)},resolve:()=>430322});function d(e){let i=(0,a.ZP)(),t=void 0===e.isOpen||e.isOpen;if("desktop"===i&&t){let{isOpen:i,mobileAccessibilityCloseIconLabel:t,mobileAllowScroll:n,mobileHideCloseIcon:a,mobileIsFullscreen:r,mobileIsSlideUp:s,type:d,mobileIsFooter:u,zIndex:c,...p}=e;return(0,l.jsx)(o,{...p})}let{allowMediaPlay:n,allowScroll:r,role:d,size:u,_dangerouslyDisableScrollBoundaryContainer:c,...p}=e;return(0,l.jsx)(s,{...p,isOpen:t})}},968121:(e,i,t)=>{t.d(i,{JN:()=>d,Vf:()=>u,ZM:()=>o,b7:()=>r,i_:()=>s});var n=t(883119),a=t(643010),l=t(379764);let r=new n.Ry(1e3),o=new n.H3([l.Z]),s=12,d=({variant:e})=>({__style:"fullscreen"===e?{touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"90vw",height:"70vh",borderRadius:"8px",zIndex:1,left:"5vw",bottom:"13vh",overflowY:"hidden"}:"tablet"===e?{border:void 0,borderRadius:"32px",top:"50%",left:"50%",minWidth:"350px",touchAction:"none",transform:"translate(-50%, -50%)",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",zIndex:1}:"footer"===e?{border:(0,a.Yc)()?void 0:"1px solid #efefef",bottom:0,boxShadow:"0 0 16px rgba(0,0,0, 0.16)",left:0,touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"100vw",zIndex:1}:"signup"===e?{border:void 0,borderRadius:"32px",top:"50%",touchAction:"none",transform:"translate(0%, -50%)",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",zIndex:1,left:"8px",right:"8px",background:"#FFFFFF"}:{border:(0,a.Yc)()?void 0:"1px solid #efefef",touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"100vw",zIndex:1,left:"0px",bottom:0,boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)",overflow:"hidden",borderRadius:"32px 32px 0 0"}}),u=({isFullscreen:e,isTablet:i,isShowing:t,isRelatedInterestsModal:n})=>{let l={border:(0,a.Yc)()?void 0:"1px solid #efefef",touchAction:"none",width:"100vw",height:"",zIndex:1,left:0,bottom:0,borderRadius:"32px 32px 0px 0px",boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)"},r=t?"translateY(0)":"translateY(100vh)";return l.height=e?"100vh":"",i&&n&&(l={...l,width:425,left:"50%",transform:"translateX(-50%)"},r=t?"translate(-50%, 0)":"translate(-50%, 100vh)"),{__style:{...l,transition:"all 225ms cubic-bezier(0.0,0.0,0.2,1) 500ms",transform:r}}}},499128:(e,i,t)=>{t.d(i,{UZ:()=>d,Vg:()=>s,ZP:()=>u});var n=t(667294),a=t(883119),l=t(50286),r=t(829407),o=t(785893);let s=200,d=({deviceType:e,hiding:i,visible:t})=>{let n="desktop"===e,a=0,l=n?"translateY(200px)":"translateY(-200px)",r="opacity 0.1s ease-in-out",o="hidden";return t&&!i&&(a=1,l="translateY(0)",r="all 0.7s cubic-bezier(.19, 1.15, .48, 1)",o="visible"),t&&i&&(l="scale(1.1)",r="opacity transform 0.2s"),{opacity:a,pointerEvents:"auto",position:"relative",marginTop:n?10:0,transform:l,transition:r,visibility:o}};function u({_dangerouslySetThumbnail:e,_dangerouslySetPrimaryAction:i,text:t,primaryAction:u,dismissButton:c,helperLink:p,thumbnail:h,type:m,dataTestId:g,duration:y=2e3,onHide:_,href:v,onClick:f,openNewPage:b,imageUrl:P}){var S;let x;let k=(0,l.ZP)(),[w,T]=(0,n.useState)(!1),[E,I]=(0,n.useState)(!1),A=(0,n.useRef)(),R=()=>{T(!0),A.current=setTimeout(_,s)},C=()=>{A.current=setTimeout(R,y)},F=()=>{A.current&&clearTimeout(A.current)};(0,r.Z)(()=>(setTimeout(()=>I(!0),100),C(),F)),P&&(x={image:(0,o.jsx)(a.Ee,{alt:"string"==typeof t?t:`${t[0]} ${t[1]}`,fit:"cover",naturalHeight:1,naturalWidth:1,src:P})});let D=(0,o.jsx)(a.FN,{_dangerouslySetPrimaryAction:i,_dangerouslySetThumbnail:e,dismissButton:c,helperLink:p,primaryAction:u,text:t,thumbnail:null!==(S=x)&&void 0!==S?S:h,type:m}),{marginTop:L,opacity:j,pointerEvents:O,position:K,transform:N,transition:M,visibility:Z}=d({deviceType:k,hiding:w,visible:E});return(0,o.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{transform:N,transition:M,visibility:Z,pointerEvents:O}},"data-test-id":null!=g?g:"toast",display:"flex",marginTop:L,onMouseEnter:F,onMouseLeave:C,opacity:j,position:K,children:v?(0,o.jsx)(a.Tg,{href:v,onTap:({event:e,dangerouslyDisableOnNavigation:i})=>{v.startsWith("#")&&(e.preventDefault(),i()),null==f||f(e)},rounding:"pill",target:b?"blank":null,children:D}):D})}},356997:(e,i,t)=>{t.d(i,{qE:()=>o,u_:()=>s.ZP});var n=t(883119),a=t(785893);let l=(e,i)=>{let t=null==e?void 0:e.includes("images/user/default");return!!(t&&i)};function r({accessibilityLabel:e,name:i,outline:t,size:r,src:o,verified:s}){return(0,a.jsx)(n.qE,{accessibilityLabel:e,name:i,outline:t,size:r,src:l(o,i)?void 0:o,verified:s})}r.displayName="Avatar";let o=r;var s=t(121151);t(499128)},897243:(e,i,t)=>{t.d(i,{b:()=>a});let n=({height:e,url:i,width:t})=>({height:e,url:i,width:t}),a=e=>Object.entries(e).reduce((e,[i,t])=>({...e,[i]:t&&n(t)}),{})},357998:(e,i,t)=>{t.d(i,{Q:()=>r});var n=t(422578),a=t(273213),l=t(681669);function r(e,i,{useLegacyAdapter:t}){if(null==i)return{data:null,childDataKey__DEPRECATED:null};let r=(0,a.j)(i);if("deprecated"===r.type){let{data:i}=r;return null==i?{data:null,childDataKey__DEPRECATED:r}:{data:(0,l.V4)(e,t)(i),childDataKey__DEPRECATED:r}}let o=(0,n.useFragment)(e,r.data);return{data:o,childDataKey__DEPRECATED:{type:"graphqlRef",data:o}}}},444445:(e,i,t)=>{t.d(i,{$H:()=>r,$q:()=>f,D6:()=>d,KN:()=>P,Lo:()=>a,OS:()=>h,P2:()=>y,Wv:()=>b,ZZ:()=>c,g5:()=>p,jC:()=>o,lX:()=>g,nW:()=>m,oX:()=>_,qG:()=>v,tG:()=>l,yF:()=>n,yc:()=>u,yt:()=>s});let n=236,a=2*n/3,l=175,r=24,o=4,s=8,d=2,u=2,c=14,p=16,h=5,m=12,g=16,y=24,_=16,v=-1,f=(e=!1,i=!1)=>e?i?g:m:y,b=({contentVisibleItemCount:e,gap:i,width:t})=>e||t?(t-(e-1)*i)/e:n,P=(e,i,t,n,a=c)=>{let l=e+a,r=`
@media (min-width: ${i*l}px) and (max-width: ${(t+1)*l-1}px) {
  ${n}
}
`;return r}},694379:(e,i,t)=>{t.d(i,{Z:()=>r});var n=t(892819),a=t(780280),l=t(785893);let r=({currency:e,maximumFractionDigits:i,minimumFractionDigits:t,shortform:r,shortformMaximumFractionDigits:o,formatStyle:s,uplimit:d,value:u})=>{let c=(0,n.Z)();return(0,l.jsx)(a.LC,{children:n=>c(n.locale||"en-US",u,{currency:e,maximum_fraction_digits:i,minimum_fraction_digits:t,shortform:r,shortform_maximum_fraction_digits:o,style:s,uplimit:d})})}},898781:(e,i,t)=>{t.d(i,{ZP:()=>o,oz:()=>l,q6:()=>a});var n=t(425288);let{Provider:a,Consumer:l,useHook:r}=(0,n.Z)("i18n"),o=r},892819:(e,i,t)=>{t.d(i,{Z:()=>d});var n=t(898781),a=t(66699);let l=(e,i)=>{let t=i||0,n=10**t,a=+(t?e*n:e).toFixed(8),l=Math.floor(a),r=a-l,o=r>.49999999&&r<.50000001?l%2==0?l:l+1:Math.round(a);return t?o/n:o},r=({maximumFractionDigits:e,minimumFractionDigits:i,style:t,currency:n})=>{let a={maximumFractionDigits:e,minimumFractionDigits:i};return t?{...a,style:t,..."currency"===t?{currency:n,currencyDisplay:"symbol"}:{}}:a},o=e=>{try{0..toLocaleString([e])}catch(e){return!1}return!0},s=(e,i)=>{if(i){let{minimumFractionDigits:t,maximumFractionDigits:n}=new Intl.NumberFormat(e,{style:"currency",currency:i}).resolvedOptions();if(void 0!==t&&void 0!==n)return{minimumFractionDigits:t,maximumFractionDigits:n}}return{minimumFractionDigits:2,maximumFractionDigits:2}};function d(){let e=(0,n.ZP)();return(i,t,n)=>{let d=0,u=0,c=n&&n.style||void 0,p=n&&n.shortform||!1,h=n&&n.uplimit||void 0,m=n&&n.currency||void 0,g=!!h&&t>=h,y=h&&g?h:t;if("currency"===c){let{minimumFractionDigits:e,maximumFractionDigits:t}=s(i,m);d=void 0===n||void 0===n.maximum_fraction_digits?t:n.maximum_fraction_digits,u=void 0===n||void 0===n.minimum_fraction_digits?e:n.minimum_fraction_digits}else d=void 0===n||void 0===n.maximum_fraction_digits?0:n.maximum_fraction_digits,u=void 0===n||void 0===n.minimum_fraction_digits?0:n.minimum_fraction_digits;if(p&&y>999&&(d=void 0===n||void 0===n.shortform_maximum_fraction_digits?2:n.shortform_maximum_fraction_digits,u=0),d<u)return String(y);let _=y,v="",f=[{"100M":{value:1e8,localeKey:e._('', 'Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.', 'Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.')}},{"10k":{value:1e4,localeKey:e._('', 'Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.', 'Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.')}}],b=[{b:{value:1e9,localeKey:e._('B', 'Abbreviation for one billion.', 'Abbreviation for one billion.')}},{m:{value:1e6,localeKey:e._('M', 'Abbreviation for one million.', 'Abbreviation for one million.')}},{k:{value:1e3,localeKey:e._('k', 'Abbreviation for one thousand.', 'Abbreviation for one thousand.')}}],P=/^zh|ja|ko/.test(i);if(p&&y>999){let e=P?f:b;for(let i=0;i<e.length;i+=1){let t=Object.keys(e[i])[0],n=e[i][t].value;if(y>=n){_=l(y/n*Math.pow(10,d))/Math.pow(10,d),v=e[i][t].localeKey;break}}}if(null==_)return"";let S=_.toLocaleString([o(i)&&"ar-SA"!==i?i:"en-US"],r({maximumFractionDigits:d,minimumFractionDigits:u,currency:m,style:c}));return v&&v.length>0?(0,a.Z)(e._('{{formattedNumber}}{{numberSuffix}}', 'i18n.usePrettyNumberFormat.prettyNumberFormat', 'String used to concatenate formatted number and localized number suffix'),{formattedNumber:S,numberSuffix:v})+(g?"+":""):S+(g?"+":"")}}},12610:(e,i,t)=>{function n(e,i,t){var n;return(i="symbol"==typeof(n=function(e,i){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,i||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(i,"string"))?n:String(n))in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}t.d(i,{Z3:()=>c,LU:()=>p,ZP:()=>h});let a=window.location.search.includes("debug_impressions=1")||document.cookie&&document.cookie.indexOf("debug_impressions=1")>-1,l={paused:"Pause",resumed:"Resume",stopped:"Flush",enter:"Enter viewport",exit:"Exit viewport"},r={},o={background:"#FF8A8A",transform:"scale(.98)"},s={init:e=>({transform:`scale(${r[e]?.8:.99})`,transition:"transform .2s ease-in-out",background:"#8E8E8E"}),[l.enter]:{background:"#A0DCC8",transform:"scale(.99)"},[l.exit]:o,[l.stopped]:o,[l.paused]:o,[l.resumed]:{background:"#0FA573",transform:"scale(.99)"}};class d{constructor(e){n(this,"setMutationObserver",e=>(this.mutationObserver=e,this)),n(this,"startMutationObserver",e=>{this.mutationObserver&&this.mutationObserver.observe(this.node,e)}),n(this,"stopMutationObserver",()=>{this.mutationObserver&&this.mutationObserver.disconnect()}),n(this,"handleIntersectionChange",e=>{let i=e.intersectionRatio>0||e.isIntersecting;if(i&&!this.inViewport){let e=Date.now();this.startTime=e,this._debug(l.enter,{startTime:e,node:this.node}),this.enterCallbacks.forEach(e=>e())}else!i&&this.inViewport&&(this._debug(l.exit,!0),this.exitCallbacks.forEach(e=>e(this.toJSON())));this.inViewport=i}),this.enterCallbacks=[],this.exitCallbacks=[],this.inViewport=!1,this.node=e,this.startTime=0,this.debugId=""}onEnterViewport(e){return this.enterCallbacks.push(e),this}onExitViewport(e){return this.exitCallbacks.push(e),this}setDebugId(e){return this.debugId=e,a&&Object.assign(this.node.style,s.init(e)),this}pause(){return this.inViewport&&(this._debug(l.paused,!0),this.exitCallbacks.forEach(e=>e(this.toJSON()))),this}resume(){if(this.inViewport){let e=Date.now();this._debug(l.resumed,{startTime:e}),this.startTime=e}return this}stop(e){return this.inViewport&&(this._debug(l.stopped,!0),this.exitCallbacks.forEach(i=>i(this.toJSON(e)))),this}toJSON(e=""){return{startTime:1e6*this.startTime,endTime:1e6*Date.now(),forcedExit:e}}toDebugJSON(){return{pinID:this.debugId,startTime:this.startTime,endTime:Date.now(),duration:`${(Date.now()-this.startTime)/1e3} seconds`}}_debug(e,i){if(a)switch(window.console.log(` ${e} -- ${this.debugId}`),!0===i&&window.console.log(this.toDebugJSON()),"object"==typeof i&&window.console.log(i),s[e]&&Object.assign(this.node.style,s[e]),e){case l.flushed:case l.paused:case l.exit:r[this.debugId]=!0}}}function u(e,i,t){var n;return(i="symbol"==typeof(n=function(e,i){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,i||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(i,"string"))?n:String(n))in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}let c=!0,p=!1;class h{constructor(){u(this,"_delegateChange",e=>{e.forEach(e=>{let i=this.activeImpressions.get(e.target);i&&i.handleIntersectionChange(e)})}),u(this,"_handleMutations",(e,i)=>{let t=this.mutationObservers.get(i),n=t&&t.offsetHeight<1;n&&t&&this.stop(t,"removed")}),this.activeImpressions=new Map,this.mutationObservers=new Map,this.bottomHeight=0,this.bottomObstructions=new Set,this.pausePriority=p,this.observer=new window.IntersectionObserver(this._delegateChange),window.Cypress&&!window.activeImpressions&&(window.activeImpressions=new Map),this.paused=!1,this.topHeight=0,this.topObstructions=new Set,this.inExperiment=!1}setExperimentStatus(e){this.inExperiment!==e&&(this.inExperiment=e)}stop(e,i=""){let t=this.activeImpressions.get(e);if(t){var n;t.stop(i),this.mutationObservers.delete(t.mutationObserver),t.stopMutationObserver(),this.activeImpressions.delete(e),null===(n=window.activeImpressions)||void 0===n||n.delete(e),this.observer.unobserve(e)}}start(e){let i=this.activeImpressions.get(e);if(!i){var t;i=new d(e),this.activeImpressions.set(e,i),null===(t=window.activeImpressions)||void 0===t||t.set(e,i),this.observer.observe(e),i.setMutationObserver(new window.MutationObserver((e,i)=>this._handleMutations(e,i))),this.mutationObservers.set(i.mutationObserver,e),i.startMutationObserver({subtree:!0,attributes:!0,attributeFilter:["style"]})}return i}pause(e=c){this.paused||(Array.from(this.activeImpressions.values()).forEach(e=>e.pause()),this.paused=!0,this.pausePriority!==p||(this.pausePriority=e))}resume(e=c){(e!==p||this.pausePriority!==c)&&this.paused&&(Array.from(this.activeImpressions.values()).forEach(e=>e.resume()),this.paused=!1,this.pausePriority=p)}addObstruction(e,i){"top"===e?this.topObstructions.add(i):"bottom"===e&&this.bottomObstructions.add(i),this._calculateRootMargins()}removeObstruction(e,i){"top"===e?this.topObstructions.delete(i):"bottom"===e&&this.bottomObstructions.delete(i),this._calculateRootMargins()}updateObstructions(){this._calculateRootMargins()}_calculateRootMargins(){let e=Array.from(this.topObstructions).reduce((e,i)=>{let{bottom:t}=i.getBoundingClientRect();return t>e?t:e},0),i=window.innerHeight-Array.from(this.bottomObstructions).reduce((e,i)=>{let{top:t}=i.getBoundingClientRect();return t<e?t:e},window.innerHeight);if(e!==this.topHeight||i!==this.bottomHeight){let t={rootMargin:`${-e}px 0px ${-i}px`};this.observer.disconnect(),this.observer=new window.IntersectionObserver(this._delegateChange,t),Array.from(this.activeImpressions.values()).forEach(e=>this.observer.observe(e.node)),this.topHeight=e,this.bottomHeight=i}}}},564194:(e,i,t)=>{t.d(i,{Z:()=>p});var n=t(667294),a=t(973935),l=t(337815),r=t(407043),o=t(124580),s=t(785893);function d(e,i,t){var n;return(i="symbol"==typeof(n=function(e,i){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,i||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(i,"string"))?n:String(n))in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}let u={Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},BoardMoreIdeasRep:{impressionType:"boardMoreIdeasFeedUpsellImpressions",idType:"boardIdStr",eventType:10054},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpression",idType:"idStr",eventType:170},ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127}};class c extends n.Component{constructor(e){super(e),d(this,"trackImpression",()=>{try{let{isPromoted:e}=this.props;this.node=(0,a.findDOMNode)(this),this.node instanceof HTMLElement&&(!e||this.node.getElementsByTagName("img").length>0)&&this.impressionsFramework.start(this.node).onExitViewport(this.logImpression).setDebugId(this.props.loggingId||"unknown")}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}}),d(this,"logImpression",e=>{var i,t,n,a,r,o,s,d,c,p,h,m,g,y,_,v,f;let{carouselData:b,closeupImpressionType:P,closeupNavigationType:S,componentType:x,contextLogData:k,elementType:w,impressionAuxFields:T,impressionType:E,loggingId:I,objectIdStr:A,slotIndex:R,trackCarousel:C,viewData:F,viewParameter:D,viewType:L,logContextEvent:j}=this.props,O=u[E],K=O.idType,N=e.forcedExit&&"removed"===e.forcedExit?0:void 0,M={endTime:e.endTime,[K]:I,slotIndex:R,time:e.startTime,renderDuration:e.endTime-e.startTime,type:P,...T,forcedExit:N},Z={};if("Pin"===E&&(M={...M,pinCellWidth:this.node.offsetWidth,pinCellHeight:this.node.offsetHeight,windowWidth:null===(i=window)||void 0===i?void 0:i.innerWidth,windowHeight:null===(t=window)||void 0===t?void 0:t.innerHeight},null!=T&&T.chromeAraViewExp&&null!==(n=this.props.children)&&void 0!==n&&null!==(a=n.props)&&void 0!==a&&null!==(r=a.pin)&&void 0!==r&&r.is_promoted)){let e=this.props.children.props.pin.attribution_source_id;(0,l.YS)(E,null!==(o=this.props.children.props.pin.is_promoted)&&void 0!==o?o:null,null!=e?e:null,null!==(s=this.props.children.props.pin.link)&&void 0!==s?s:null,null!==(d=this.props.children.props.pin.campaign_id)&&void 0!==d?d:null,null!==(c=T.araAuxData)&&void 0!==c?c:null,null!==(p=this.props.children.props.pin.advertiser_id)&&void 0!==p?p:null),Z={is_arapi:!0,attribution_source_id:e||""}}C||j({event_type:O.eventType,component:x,element:w,event_data:{[O.impressionType]:"Story"===E?M:[M]},object_id_str:A,view_type:L,view_data:F||{},view_parameter:D,aux_data:{...k,...Z,closeup_navigation_type:S}}),b&&C&&j({event_type:7352,component:x,event_data:{pinCarouselSlotImpressions:[{...M,..."canonical"===b.type?{carouselDataId:Number(null!==(h=b.carouselId)&&void 0!==h?h:0),slotIndex:b.index,carouselSlotId:b.carouselSlots[null!==(m=b.index)&&void 0!==m?m:0]&&Number(b.carouselSlots[null!==(g=b.index)&&void 0!==g?g:0].slotId)}:{carouselDataId:Number(null!==(y=b.id)&&void 0!==y?y:0),carouselSlotId:(null===(_=b.carousel_slots)||void 0===_?void 0:_[null!==(v=b.index)&&void 0!==v?v:0])&&Number(b.carousel_slots[null!==(f=b.index)&&void 0!==f?f:0].id),slotIndex:b.index}}]},object_id_str:A,view_type:L,view_data:F||{},view_parameter:D,aux_data:{...k,...Z}})}),this.impressionsFramework=e.impressionsFramework||o.Z}componentDidMount(){this.props.inImpressionExp&&!this.impressionsFramework.inExperiment&&this.impressionsFramework.setExperimentStatus(!0),this.props.isPaused||this.trackImpression()}componentDidUpdate(e){e.isPaused&&!this.props.isPaused&&this.trackImpression()}componentWillUnmount(){let{isPromoted:e}=this.props;this.node instanceof HTMLElement&&(!e||this.node.getElementsByTagName("img").length>0)&&this.impressionsFramework.stop(this.node)}render(){return n.Children.only(this.props.children)}}function p(e){let{logContextEvent:i}=(0,r.v)();return(0,s.jsx)(c,{...e,logContextEvent:i})}},124580:(e,i,t)=>{t.d(i,{Z:()=>a});var n=t(12610);let a=new n.ZP},349700:(e,i,t)=>{t.d(i,{Wc:()=>s,bF:()=>u,nk:()=>o,r7:()=>c});var n=t(667294),a=t(785893);function l(e,i,t){return e.split(t).map(e=>{if(e.match(t)){let t=e.replace(/[\{\}]/g,"").trim();if(Object.prototype.hasOwnProperty.call(i,t))return i[t]}return e})}let r=/(\{\{\s*\w+\s*\}\})/g;function o(e,i){return l(e,i,r)}function s(e,i){return l(e,i,r).join("")}let d=/(\{\s*\w+\s*\})/g;function u(e,i){return l(e,i,d)}let c=({text:e})=>Array.isArray(e)?e.map((e,i)=>(0,a.jsx)(n.Fragment,{children:e},i)):e},329734:(e,i,t)=>{t.d(i,{P:()=>l,Z:()=>a});var n=t(702664);function a(e){return e&&e[1000069]&&500417===e[1000069].experience_id&&e[1000069].display_data.hide_footer}function l(){let e=(0,n.useSelector)(({experiences:e})=>e);return!!e&&a(e)}},926275:(e,i,t)=>{t.d(i,{Z:()=>n});function n(e){if(!e)return!1;let i=new Date(e);return i.setDate(i.getDate()+28),new Date().getTime()<i.getTime()}},411938:(e,i,t)=>{t.d(i,{Z:()=>n});function n(e,i,t=28){let n;if(!(e||{}).resurrection_info&&!(i||{}).resurrectionInfo)return!1;n=i?((i||{}).resurrectionInfo||{}).resurrectionDate:((e||{}).resurrection_info||{}).resurrection_dt;let a=new Date,l=n?new Date(n):a;return l.setDate(l.getDate()+t),new Date().getTime()<l.getTime()}},48714:(e,i,t)=>{t.d(i,{Se:()=>_,iw:()=>f,gV:()=>g,G3:()=>b,Gj:()=>v,Jd:()=>m,$3:()=>y});var n=t(56641),a=t(231486),l=t(226198),r=t(186656),o=t(250059);let s=e=>"string"!=typeof e&&e?e.state:null;var d=t(643913),u=t(547239),c=t(508847),p=t(579164),h=t(333155);let m=()=>{window&&window.focus(),document.activeElement&&document.activeElement.blur()},g=({isOffsiteUrl:e,event:i})=>!e&&(i.metaKey||i.ctrlKey),y=({location:e,pinId:i,surface:t})=>!!t&&!h.ZF.includes(t)||e.pathname.includes(i),_=(e,i)=>{var t,n;let r=Math.round(1e3*Math.random())+"",o=Math.round(1e3*Math.random())+"";a.t8((0,l.GS)(r),o);let s={token:`${r}-${o}`,url:e,...i&&!i.params?i.queryParams:(null==i?void 0:i.params)&&{pin:null!==(t=i.params.pinId)&&void 0!==t?t:void 0,isThirdPartyAd:null!==(n=i.params.isThirdPartyAd)&&void 0!==n?n:void 0,csr:i.params.csrId&&!i.params.pinId?i.params.csrId:void 0,client_tracking_params:i.params.clientTrackingParams,aux_data:i.params.auxData?JSON.stringify(i.params.auxData):void 0}};return`/offsite/?${(0,d.Z)(s)}`},v=(e,i)=>{(0,n.Z)(_(e,i),!0,null==i?void 0:i.features)},f=async({clientTrackingParams:e,href:i,isMounted:t,pinId:n,spamCheckCallback:a})=>{let l=await (0,r.Z)({url:"/v3/offsite/",data:{check_only:!0,client_tracking_params:e,pin_id:n,url:i}});if(!l.resource_response.error&&t){let e=l.resource_response.data||{},{message:i,redirect_status:t,url:n}=e,r=["blocked","suspicious","porn"].includes(t);a({blocked:r,message:i,redirectStatus:t,sanitized_url:n})}},b=({event:e,onHistoryChange:i,href:t,history:a,target:l})=>{let r=(0,o.Z)(t),d=s(t),h=(0,u.Z)(r);h===p.Z.TRUSTED_DIFFERENT_ORIGIN||"blank"===l?(0,n.Z)(r,"blank"===l):a&&h===p.Z.SAME_ORIGIN&&(a.push((0,c.Z)({url:r}),null!=d?d:{}),i&&i({event:e}))}},287072:(e,i,t)=>{t.d(i,{Z:()=>p});var n=t(667294),a=t(616550),l=t(768559),r=t(48714),o=t(188335),s=t(250059),d=t(149230),u=t(108234),c=t(67347);function p(e){var i,t,p;let{externalData:h,href:m,onHistoryChange:g,target:y}=e,[_,v]=(0,n.useState)(null),[f,b]=(0,n.useState)(!1),P=(0,a.k6)(),S=(0,a.TH)(),x=(0,s.Z)(m),k=(0,d.Z)({url:x}),{showWarning:w}=null!==(i=(0,u.s)())&&void 0!==i?i:{},{pin:T,surface:E}=h||{},I=T?(0,l.Z)({boardUrl:null===(t=T.board)||void 0===t?void 0:t.url,location:S,pinId:T.entityId,pinnerUserName:null===(p=T.pinner)||void 0===p?void 0:p.username,storyPinDataId:T.storyPinDataId,trackingParams:T.trackingParams,trackingParamsMap:T.trackingParamsMap}):null,A=(0,o.Z)();return(0,n.useEffect)(()=>(b(!0),()=>{b(!1)}),[]),(0,n.useEffect)(()=>{k&&T&&null===_&&f&&(!T.promoter||T.isDownstreamPromotion)&&(0,r.$3)({location:S,pinId:T.entityId,surface:E})&&(0,r.iw)({clientTrackingParams:I,isMounted:f,pinId:T.entityId,spamCheckCallback:e=>v(e),href:x})},[I,T,E,x,k,f,S,_]),({event:e})=>{if(!(0,r.gV)({isOffsiteUrl:k,event:e})){if(e.preventDefault(),!m||"string"==typeof m&&m.startsWith("#")){(0,c.nP)("link_navigation_empty_href",{sampleRate:1,tags:{route:S.pathname,href:m}});return}if(k||null!=h&&h.dangerouslyForceOffsiteUrl){var i;A({auxData:null==h?void 0:h.auxData,clientTrackingParams:I,pin:(null==h?void 0:h.pin)&&{attributionSourceId:h.pin.attributionSourceId,campaignId:h.pin.campaignId,isPromoted:h.pin.isPromoted,pinPromotionId:h.pin.pinPromotionId,isThirdPartyAd:h.pin.isThirdPartyAd,advertiserId:h.pin.advertiserId},pinId:null==h?void 0:null===(i=h.pin)||void 0===i?void 0:i.entityId,queryParams:null==h?void 0:h.queryParams,showWarning:w,spamCheck:_,url:x})}else(0,r.G3)({event:e,href:m,history:P,onHistoryChange:g,target:"blank"===y?"blank":null})}}}},188335:(e,i,t)=>{t.d(i,{Z:()=>h});var n=t(983722),a=t(619937),l=t(337815),r=t(366284),o=t(407043),s=t(48714),d=t(43760);let u=(e,i,t)=>{let n=document.createElement("a");n.setAttribute("href",i),n.setAttribute("target","_blank"),n.setAttribute("rel","noopener nofollow noreferrer"),n.style.cursor="pointer",n.style.display="block",n.setAttribute(a.$N.ATTRIBUTION_SOURCE_ID,e),n.setAttribute(a.$N.ATTRIBUTE_DESTINATION,t),n.setAttribute(a.$N.ATTRIBUTE_ON,t),n.click()},c=(e,i,t,n,r)=>{let o=(0,l.m_)(e,t,!0,n,r),s=document.createElement("a");s.setAttribute("href",i),s.setAttribute("target","_blank"),s.setAttribute("rel","noopener nofollow noreferrer"),s.style.cursor="pointer",s.style.display="block",s.setAttribute(a.NR.SOURCE,o),s.click()},p=()=>{let{logContextEvent:e}=(0,o.v)();return({attributionSourceId:i,auxData:t,campaignId:a,clientTrackingParams:l,href:o,isPromoted:d,pinId:p,pinPromotionId:h,isThirdPartyAd:m,advertiserId:g})=>{var y,_,v;if(!d)return!1;let f=(0,n.Z)(),b=(0,s.Se)(o,{params:{pinId:p,csrId:null,clientTrackingParams:l,auxData:t,isThirdPartyAd:m}}),P=null!==(y=null==f?void 0:f.userAgent.browserName)&&void 0!==y?y:"";if((0,r.G6)(P)){let{group:t}=null!==(_=null==f?void 0:f.experimentsClient.checkExperiment("m10n_event_conversion_measurement"))&&void 0!==_?_:{},n=null!=f&&f.userAgent.browserVersion?f.userAgent.browserVersion:"0.0",r=parseFloat(n.split(".")[0]+"."+n.split(".")[1]);if(i&&r>=14.1&&["enabled_safari"].includes(t))return u(i,b,o),e({event_type:101,clientTrackingParams:l,object_id_str:p||"",aux_data:{pin_id:p||"",click_measurement_ppid:h||"",click_measurement_campaign_id:a||"",is_pcm:!0,attribution_source_id:i,page_url:o}}),!0}else if((0,r.i7)(P)&&null!==(v=window.document.featurePolicy)&&void 0!==v&&v.allowsFeature("attribution-reporting"))return c(i,b,o,a,g),e({event_type:101,clientTrackingParams:l,object_id_str:p||"",aux_data:{pin_id:p||"",click_measurement_ppid:h||"",click_measurement_campaign_id:a||"",is_arapi:!0,attribution_source_id:i,page_url:o}}),!0;return!1}},h=e=>{let i=p();return({auxData:t,clientTrackingParams:n,pin:a,pinId:l,queryParams:r,showWarning:o,spamCheck:u,url:c})=>{if("undefined"!=typeof window&&window.Windows){(0,d.Z)(c,{clientTrackingParams:n,pinId:l,hasPin:!!a,auxData:t,isThirdPartyAd:null==a?void 0:a.isThirdPartyAd});return}if(!a&&!(null!=e&&e.isFromClickthroughLink)){(0,s.Gj)(c,r?{queryParams:r}:{params:{pinId:l}});return}if(null!=u&&u.blocked){null==o||o(u);return}a&&i({attributionSourceId:a.attributionSourceId,auxData:t,campaignId:a.campaignId?String(a.campaignId):null,clientTrackingParams:n,href:c,isPromoted:a.isPromoted,pinId:l,pinPromotionId:a.pinPromotionId?String(a.pinPromotionId):null,isThirdPartyAd:a.isThirdPartyAd,advertiserId:a.advertiserId?a.advertiserId:null})||(0,s.Gj)(c,{params:{clientTrackingParams:n,auxData:t,pinId:l,isThirdPartyAd:null==a?void 0:a.isThirdPartyAd}})}}},499659:(e,i,t)=>{t.d(i,{Q6:()=>c,ZP:()=>s,qe:()=>d,yU:()=>u});var n=t(239745);let a=(e,i)=>e.length===i.length&&e.every((e,t)=>e===i[t]),l=e=>e;function r(e,i=a,t=l){return function(n){let a=[];return function(...l){let r=a.find(e=>i(e.args,t(l)));if(r)return r.result;let o=n(...l);return a.push({args:t(l),result:o}),e&&a.length>e&&a.shift(),o}}}let o=r(),s=o,d=r(1),u=r(void 0,a,e=>[JSON.stringify(e)]),c=r(0,(e,i)=>e.length===i.length&&e.every((e,t)=>(0,n.Z)(e,i[t])))},567450:(e,i,t)=>{function n(e,i,t){var n;return(i="symbol"==typeof(n=function(e,i){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,i||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(i,"string"))?n:String(n))in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}t.d(i,{Z:()=>r});let a=new class{constructor(){n(this,"onResumeListeners",[]),n(this,"onPauseListeners",[]),n(this,"inExp",!1),n(this,"windowInFocus",!0)}setExperiment(e=!1){this.inExp=e}onSessionResume(e){return this.onResumeListeners.push(e),this}onSessionPause(e){return this.onPauseListeners.push(e),this}removeResumeListener(e){this.onResumeListeners.filter(i=>i!==e)}removePauseListener(e){this.onPauseListeners=this.onPauseListeners.filter(i=>i!==e)}getAppState(){return this.windowInFocus?0:void 0}},l=e=>{if(e.isHidden){let{reason:i}=e;a.windowInFocus=!1,a.onPauseListeners.forEach(e=>e(i))}else a.windowInFocus=!0,a.onResumeListeners.forEach(e=>e())};setTimeout(()=>{window.addEventListener("beforeunload",()=>l({isHidden:!0,reason:"beforeunload"})),window.addEventListener("focus",()=>l({isHidden:!1})),window.addEventListener("blur",()=>l({isHidden:!0,reason:"blur"})),window.addEventListener("pageshow",()=>l({isHidden:!1})),window.addEventListener("pagehide",()=>l({isHidden:!0,reason:"pagehide"})),void 0!==document.hidden?document.addEventListener("visibilitychange",()=>l(document.hidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1}),!1):void 0!==document.webkitHidden&&document.addEventListener("webkitvisibilitychange",()=>l(document.webkitHidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1}),!1)},0);let r=a},750391:(e,i,t)=>{t.d(i,{G7:()=>d,Nl:()=>c,WE:()=>s,l6:()=>u,rh:()=>o});var n=t(27255),a=t(451820),l=t(66699);let r=e=>e.checkExperiment("web_ps4p").anyEnabled;function o(e,i,t,a,l){var o,s,d,u,c,p;if(!i.isAuth)return!1;let{creatorAnalytics:h}=e,m=!!e.storyPinDataId,g=!!(null!==(o=e.videos)&&void 0!==o&&o.videoList),y=(l||!(m||g))&&0!==Object.keys((null===(s=e.aggregatedPinData)||void 0===s?void 0:null===(d=s.creatorAnalytics)||void 0===d?void 0:d._30dRealtime)||{}).length,_=(null===(u=e.board)||void 0===u?void 0:u.privacy)===n.Z.BoardPrivacy.PUBLIC,v=(null===(c=e.board)||void 0===c?void 0:c.privacy)===n.Z.BoardPrivacy.PROTECTED,f=(v||_)&&!e.isRepin&&[i.id,a].includes(null===(p=e.pinner)||void 0===p?void 0:p.entityId);return y||0!==Object.keys((null==h?void 0:h._30dRealtime)||{}).length||i.isPartner&&f||r(t)&&m&&f}function s(e,i,t,n,a,l){return e.isAuth&&!!i&&(t||n)&&!!(null!=a&&a.isLoaded)&&!l}function d(e,i){return(0,l.Z)(i.ngettext('Last {{ count }} Day', 'Last {{ count }} Days', e, 'Previous {{ count }} days from current date', 'Previous {{ count }} days from current date'),{count:e})}function u(e,i){return(0,l.Z)(i.ngettext('Last {{ count }} Hour', 'Last {{ count }} Hours', e, 'analytics.utils', 'Previous {{ count }} hours from current time'),{count:e})}function c({i18n:e,isRealtime:i,humanizedTimeSinceLastUpdate:t,displayLifetime:n,numDays:r,selectedDateRange:o,locale:s}){let d=[];if(r){let i=n?(0,l.Z)(e.ngettext('Percent changes are compared to {{n}} day before {{startDate}} \u2013 {{endDate}}.', 'Percent changes are compared to {{n}} days before {{startDate}} \u2013 {{endDate}}.', r, 'pinstats.toplineMetrics.description', 'Label describing how deltas are calculated and when performance over time metrics are updated'),{n:r,startDate:(0,a.Z)(s,o.startDate,a.k.NUMERIC),endDate:(0,a.Z)(s,o.endDate,a.k.NUMERIC)}):(0,l.Z)(e.ngettext('Percent changes are compared to {{n}} day before the selected date range.', 'Percent changes are compared to {{n}} days before the selected date range.', r, 'pinstats.toplineMetrics.description', 'Label describing how deltas are calculated and when performance over time metrics are updated'),{n:r});d.push(i)}return i?d.push(e._('Metrics are updated in real-time.', 'pinstats.PinnerToplineMetrics.description', 'Label describing when lifetime of pin metrics are updated')):t&&d.push((0,l.Z)(e._('Metrics updated {{ timeSince }}.', 'analytics.header.disclaimer.metricsUpdated', 'Disclaimer describing when data was last updated. timeSince: time period since last update (ex: 1 day)'),{timeSince:t})),d.join(" ")}},646323:(e,i,t)=>{t.d(i,{Z:()=>h});var n=t(883119),a=t(81226),l=t(356997),r=t(898781),o=t(623568),s=t(773285),d=t(785893);let u={borderRadius:"18px",fontSize:"10px",fontWeight:"600",height:"24px",lineHeight:"24px"},c={sm:{...u,padding:"0 6px"},lg:{...u,padding:"4px 8px"},xl:{...u,height:"32px",padding:"4px"}};function p({backgroundColor:e,identifier:i,size:t="sm"}){let a=c[t];return(0,d.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{...a,backgroundColor:e?"pine"===e?"#0FA573":"#fff":"rgba(255, 255, 255, 0.8)",color:"pine"===e?"#fff":"#111"}},"data-test-id":"PinTypeIdentifier",display:"inlineBlock",children:i})}function h({allowProductCarousel:e,allowShoppingPriceIndicator:i,pin:t,pinOwner:u,shoppingLabelColor:c,showUserIndicator:h,size:m="sm",surface:g}){var y,_,v,f,b,P,S,x,k,w,T,E;let I=(0,r.ZP)(),A=!!(null!==(y=t.carousel_data)&&void 0!==y&&y.id),R=(null===(_=t.embed||(null===(v=t.attribution)||void 0===v?void 0:v.embed))||void 0===_?void 0:_.type)==="gif",C=(null===(f=t.rich_summary)||void 0===f?void 0:f.type_name)==="product",F=!!t.story_pin_data_id,D=!!(null!==(b=t.videos)&&void 0!==b&&b.video_list),L=!!t.promoter&&!t.is_downstream_promotion,{checkExperiment:j}=(0,s.F)();if(h&&u){let{image_small_url:e,full_name:i=""}=u,t=(0,d.jsxs)(n.kC,{alignItems:"center",justifyContent:"between",children:[e&&(0,d.jsx)(l.qE,{name:i,size:"xs",src:e}),(0,d.jsx)(n.xu,{alignItems:"center",display:"flex",marginStart:1,children:(0,d.jsx)(n.JO,{accessibilityLabel:I._('Pin', 'pin.pinTypeIdentifier.taggedProduct', 'identifier that shows the pin type'),color:"default",icon:"tag",inline:!0,size:14})})]});return p({identifier:t,size:"xl",backgroundColor:"white"})}if(R)return p({identifier:"GIF",size:m});if(F&&!1!==t.should_open_in_stream){let{static_page_count:e=0,total_video_duration:i=0}=t.story_pin_data||{};if(L&&j("ads_iad_dweb").anyEnabled||"ShoppingGridSmallCarousel"===g||0===i&&e<=1)return null;{let t=i+e*o.oN,n=(0,a.Z)(t);return p({identifier:n,size:m})}}if(D){let{videos:e}=t,{duration:i=0}=e&&e.video_list&&e.video_list[Object.keys(e.video_list)[0]]||{};return p({identifier:(0,a.Z)(i),size:m})}if(C){let e=t.rich_summary&&t.rich_summary.products&&t.rich_summary.products[0]&&t.rich_summary.products[0].offer_summary;if(i){let i=e&&(e.price||e.max_price);return i?p({identifier:i,size:m}):null}if(!c)return null;{let e=null===(P=((null===(x=t.rich_summary)||void 0===x?void 0:null===(k=x.products)||void 0===k?void 0:k[0])||{}).label_info)||void 0===P?void 0:null===(S=P.labels)||void 0===S?void 0:S[0];return e?p({identifier:e,backgroundColor:c,size:m}):null}}if(e){let e=t.product_pin_data&&t.product_pin_data.items&&t.product_pin_data.items[0],i=[...t.images?[{images:t.images}]:[],...null!==(w=null==e?void 0:e.additional_images)&&void 0!==w?w:[]].length,n=null!==(T=null===(E=t.carousel_data)||void 0===E?void 0:E.index)&&void 0!==T?T:0;return p({identifier:`${n+1}/${i}`,size:m})}if(A){let e=t.carousel_data||{},{carousel_slots:i=[],index:n=0}=e;return p({identifier:`${n+1}/${i.length}`,size:m})}return null}},55275:(e,i,t)=>{t.d(i,{P:()=>g,t:()=>y});var n=t(214494),a=t(186656);let l=()=>{};async function r({board_id:e},i,t){await (0,a.Z)({url:`/v3/boards/${e}/follow/`,method:"DELETE"}),t({event_type:27,object_id_str:e}),i()}async function o({board_id:e},i,t){await (0,a.Z)({url:`/v3/boards/${e}/follow/`,method:"PUT"}),t({event_type:26,object_id_str:e}),i()}async function s(e,i){let t=n.Z.create("UserFollowResource",e);await t.callDelete(),i()}async function d(e,i){let t=n.Z.create("UserFollowResource",e);await t.callCreate(),i()}async function u(e,i,t){let a=n.Z.create("InterestFollowResource",e);await a.callDelete(),i(),t({event_type:602,object_id_str:e.interest_id})}async function c(e,i,t){let a=n.Z.create("InterestFollowResource",e);await a.callCreate(),i(),t({event_type:601,object_id_str:e.interest_id})}async function p(e,i){let t=n.Z.create("PinFeedbackResource",e);await t.callUpdate(),i()}async function h(e,i){let t=n.Z.create("PinFeedbackResource",e);await t.callUpdate(),i()}let m={complaint:p,followBoard:o,followPinner:d,followTopic:c,newsHubPinHide:function(e,i){let t=(0,a.Z)({url:e.undo?`/v3/news_hub/${e.newsId}/pin/${e.pinId}/undo/`:`/v3/news_hub/${e.newsId}/pin/${e.pinId}/hide/`,method:"PUT"});t.then(()=>i()),p({feedback_type:1,pin_id:e.pinId,...e},i)},promotedComplaint:h,relatedPinHide:function(e,i){let t=(0,a.Z)({url:e.undo?`/v3/p2p/${e.pin}/unhide/`:`/v3/p2p/${e.pin}/hide/`,method:"PUT"});t.then(()=>i()),p({feedback_type:1,pin_id:e.pin,...e},i)},reportPin:function(e,i){i()},showAdReasons:function(e,i){i()},unfollowBoard:r,unfollowPinner:s,unfollowTopic:u,unrelatedSearchPin:function(e,i){let t=(0,a.Z)({url:e.undo?`/v3/search/${e.pin_id}/unhide/`:`/v3/search/${e.pin_id}/hide/`,method:"PUT",data:{query:e.query,pin_type:e.pin_type}});t.then(()=>i()),p({feedback_type:1,...e},i)}},g=["complaint","relatedPinHide","unrelatedSearchPin","promotedComplaint","newsHubPinHide","unfollowBoard","unfollowPinner","unfollowTopic"];function y(e,i,t=l,n){let a=e?m[e]:null;return a?a(i,t,n):t()}},680046:(e,i,t)=>{t.d(i,{EF:()=>p,Iv:()=>d,Ud:()=>s,hP:()=>o,nb:()=>c,oK:()=>u});var n=t(349700),a=t(55275),l=t(760372);let r=e=>e.length>32?`${e.substring(0,32).trim()}...`:e;function o({boardFollowedByMe:e,feedbackType:i,viewParameter:t,promotion:n,recommendationReason:a,pinnerFollowedByMe:l}){if(n&&!n.isDownstreamPromotion)return"promoted";if(i)return i;if(a){if("FOLLOWED_INTEREST"===a.reason)return"topic";if("FOLLOWING_FEED"!==a.reason&&"RECENT_FOLLOWED_BOARD"!==a.reason)return a.hasBoard?"pfyBoard":"pfy"}if(e||l)return"followed";switch(t){case 140:case 144:case 141:case 145:case 139:case 3173:return"related";case 3082:return"newsHub";default:return"default"}}function s({feedback:e,i18n:i,makeNavigateLink:t}){var a,l,o,s,d,u,c,p;switch(e.type){case"pfy":return i._('This Pin was inspired by your recent activity', 'Pin feedback reason', 'Pin feedback reason');case"pfyBoard":let{recommendationReasonBoard:h}=e;return h?(0,n.nk)(i._('This Pin was inspired by your board {{ boardLink }}', 'Pin feedback - inspired by your board', 'Pin feedback - inspired by your board'),{boardLink:t("navigation",h.url,h.name)}):null;case"topic":let{sourceInterest:m}=e;return m?(0,n.nk)(i._('This Pin was inspired by {{ formattedTopic }}', 'Pin feedback', 'Pin feedback'),{formattedTopic:t("topicUrl",`/topics/${m.url_name}`,m.name)}):null;case"followed":let{followed:g}=e,y="pinner"===g.type?(0,n.nk)(i._('This Pin is from {{ formattedPinner }}, a profile you follow', 'Pin feedback', 'Pin feedback'),{formattedPinner:t("pinnerUrl",`/${null!==(a=null===(l=g.pinner)||void 0===l?void 0:l.username)&&void 0!==a?a:""}`,r(null!==(o=null===(s=g.pinner)||void 0===s?void 0:s.full_name)&&void 0!==o?o:""))}):(0,n.nk)(i._('This Pin is from {{ formattedBoard }}, a board you follow', 'Pin feedback', 'Pin feedback'),{formattedBoard:t("boardUrl",null!==(d=null===(u=g.board)||void 0===u?void 0:u.url)&&void 0!==d?d:"",r(null!==(c=null===(p=g.board)||void 0===p?void 0:p.name)&&void 0!==c?c:""))});return y;case"promoted":let{promotedIsPersonalized:_,isEligibleForPromotedPartnership:v,promotedPartnershipAttributionName:f,promotedPartnershipAdvertiserName:b}=e.thirdPartyAdAttributes||{};if(!_&&v)return(0,n.nk)(i._('{{ promotedPartnershipAdvertiserName }} paid, through a partnership with {{ promotedPartnershipAttributionName }}, to have this Pin show up where you\'d be more likely to notice it', 'feedbackHelpers.getRecommendationDescription.promoted.thirdParty', 'Recommendation description for ads with promoted partnership. promotedPartnershipAdvertiserName:Name of advertiser, promotedPartnershipAttributionName:Name of promoted partner'),{promotedPartnershipAdvertiserName:b,promotedPartnershipAttributionName:f});if(!e.promoter||_)return i._('This ad was personalized for you using info from one of our partners', 'Pin feedback', 'Pin feedback');{let{full_name:a,username:l}=e.promoter,r=t("promotedLink",l?"/"+l+"/":"/",a);return(0,n.nk)(i._('{{ promoterLink }} paid to have this Pin show up where you\u2019d be more likely to notice it', 'Pin feedback', 'Pin feedback'),{promoterLink:r})}default:return null}}function d({sourceInterest:e,i18n:i,makeNavigateLink:t}){var a,r;return{action:"unfollowTopic",actionOptions:{interest_id:e.id,interest_list:l.X},title:"",subTitle:(0,n.nk)(i._('We\u2019ll show you less Pins from {{ formattedTopic }} in the future.', 'pin.contextualMenu.feedback.unfollowTopic.subtitle', 'Confirmation text after unfollowing a topic'),{formattedTopic:t("topicUrl",`/topics/${null!==(a=e.url_name)&&void 0!==a?a:""}`,null!==(r=e.name)&&void 0!==r?r:"",!0)})}}function u({boardId:e,display:i,i18n:t,makeNavigateLink:a}){var l,r,o,s;return{action:"unfollowBoard",actionOptions:{board_id:e},title:"",subTitle:"pinner"===i.type?(0,n.nk)(t._('You unfollowed {{ formattedPinner }} and won\u2019t see Pins they save anymore.', 'Confirmation text after unfollowing a user', 'Confirmation text after unfollowing a user'),{formattedPinner:a("pinnerUrl",`/${null!==(l=i.data.username)&&void 0!==l?l:""}`,null!==(r=i.data.full_name)&&void 0!==r?r:"",!0)}):(0,n.nk)(t._('You unfollowed the board {{ formattedBoard }} and won\u2019t see Pins saved to it anymore.', 'Confirmation text after unfollowing a board', 'Confirmation text after unfollowing a board'),{formattedBoard:a("boardUrl",null!==(o=i.data.url)&&void 0!==o?o:"",null!==(s=i.data.name)&&void 0!==s?s:"",!0)})}}function c(e){switch(e){case"promoted":return 60;case"followed":case"topic":return 100;case"pfyBoard":case"pfy":return 58}}function p(e,i,t,n,l,r,o){return()=>{let s={...e,undo:!0},d=i;"unfollowPinner"===i?d="followPinner":"unfollowBoard"===i?d="followBoard":"unfollowTopic"===i&&(d="followTopic"),(0,a.t)(d,s,void 0,o),r(t),o({event_type:101,component:0,element:11181,view_type:n,view_parameter:l})}}},248975:(e,i,t)=>{t.d(i,{Z:()=>n});function n({embedSrc:e,embedType:i,imagesUrls:t,preferredResolution:n,excludeOriginals:a}){if(!e&&!i&&!t)return"";if("gif"===i)return e||"";if(!t)return"";if(n){let e="474x"===n&&t["474x"]||"236x"===n&&t["236x"]||t["736x"];if(e)return e}let l=Object.keys(t).reduce((e,i)=>{try{let n=i.split("x")[0];if(Number.isNaN(Number(n)))return{...e,[i]:t[i]};return{...e,[n]:t[i]}}catch(i){return e}},{}),r=Object.keys(l);a&&"orig"===r[r.length-1]&&r.pop();let o=r.pop();return l[o]||""}},623568:(e,i,t)=>{t.d(i,{NK:()=>y,P6:()=>l,ZE:()=>m,Zt:()=>g,_J:()=>s,_S:()=>_,cL:()=>p,jL:()=>o,oN:()=>a,rM:()=>h,sV:()=>d,sY:()=>u});var n=t(179888);let a=5e3,l=a/n.gJ,r=["Uploaded by user"],o=(e,i)=>!!i&&!e,s=e=>!!e&&5!==e,d=e=>["email","messages","deep_linking"].includes(e),u=e=>!!e&&"gif"===e,c=e=>"pinstory"===e,p=({embedSrc:e,embedSubtype:i,embedType:t})=>!!e&&!u(t)&&!c(i),h=({link:e,mobileLink:i,trackedLink:t})=>!i&&!t&&!e,m=e=>/pin.it/gim.test(e||""),g=({link:e,mobileLink:i,origImageUrl:t,trackedLink:n})=>i||n||e||t||"",y=(e,i)=>({deeplinkUri:{android:`pin/${e}/repin`,iOS:`repin/${e}`},mwebUri:{pathname:`/pin/${e}/repin/`,state:{trackingParams:i.state?i.state.trackingParams:""}}});function _(e){for(let i of r)if(e===i)return!1;return!0}},53199:(e,i,t)=>{t.d(i,{Z:()=>r}),t(167912);var n,a=t(916117);let l=void 0!==n?n:n=t(460863),r=e=>{let i=(0,a.Z)(l,e),t=[["60x60",null==i?void 0:i.imageSpec_60x60],["136x136",null==i?void 0:i.imageSpec_136x136],["170x",null==i?void 0:i.imageSpec_170x],["236x",null==i?void 0:i.imageSpec_236x],["474x",null==i?void 0:i.imageSpec_474x],["564x",null==i?void 0:i.imageSpec_564x],["736x",null==i?void 0:i.imageSpec_736x],["600x315",null==i?void 0:i.imageSpec_600x315],["orig",null==i?void 0:i.imageSpec_orig]];return t.reduce((e,[i,t])=>t?{...e,[i]:t.url}:e,{})}},692627:(e,i,t)=>{t.d(i,{Z:()=>n});function n({hasPin:e,hasPinRichMetadata:i,hasPinRichMetadataProducts:t,hasPinRichMetadataArticle:n,hasPinRichMetadataRecipe:a,hasPinStoryPinData:l}){if(e){if(i)return t?144:n?141:a?145:139;if(l)return 157}return 140}},760372:(e,i,t)=>{t.d(i,{X:()=>n});let n="favorited"},813401:(e,i,t)=>{t.d(i,{kf:()=>y,l5:()=>m,of:()=>p,xC:()=>g,yz:()=>h});var n=t(667294),a=t(425288),l=t(30287),r=t(829407),o=t(807609),s=t(67347),d=t(785893);let{Provider:u,useMaybeHook:c}=(0,a.Z)("PwaContext"),p=({children:e,initialContext:i})=>{let[t,a]=(0,n.useState)(null),o=i||{pwaType:"unknown",twaType:null},c=o.pwaType;(0,r.Z)(()=>{let e=(0,l.FB)(window)||"unknown";a(e),c!==e&&(0,s.nP)("pwa.type_mismatch",{sampleRate:1,tags:{serverPwaType:c,clientPwaType:e,conflict:"unknown"!==c&&"unknown"!==e}})});let p="unknown"===c&&t?t:c,{twaType:h}=o,m=(0,n.useMemo)(()=>({pwaType:p,twaType:h}),[p,h]);return(0,d.jsx)(u,{value:m,children:e})},h=()=>{var e;let i=c();return null!==(e=null==i?void 0:i.pwaType)&&void 0!==e?e:"unknown"},m=()=>{var e;let i=c();return null!==(e=null==i?void 0:i.twaType)&&void 0!==e?e:null},g=()=>{let e=h();return"android-twa"===e},y=()=>{let e=h(),i=(0,o.Z)();return"unknown"===e&&i?null:"windows"===e}},311560:(e,i,t)=>{t.d(i,{Z:()=>n});let n=e=>{switch(e){case"BR":case"MX":case"AR":case"CL":case"CO":return"LatAm";case"US":return"US";case"CA":return"CA";case"GB":return"GB";case"FR":return"FR";case"DE":return"DE";case"AU":return"AU";case"IN":return"IN";default:return"OTHER"}}},681227:(e,i,t)=>{function n(e){let i=Object.keys(e);if(i.length>0){let t=i.sort((i,t)=>e[t]-e[i]).slice(0,3);return t}return null}function a(e){let i=Object.values(e);if(i.length>0){let e=i.reduce((e,i)=>e+i,0);return e}return 0}function l(e,i,t){var n,a;return!e.isPromoted&&!e.isDownstreamPromotion&&!!(null!==(n=e.videos)&&void 0!==n&&n.entityId||e.storyPinDataId)&&!i&&(!(null!==(a=e.board)&&void 0!==a&&a.isCollaborative)||!e.board.collaboratedByMe)&&!t}t.d(i,{At:()=>n,J6:()=>l,Ud:()=>a})},561195:(e,i,t)=>{t.d(i,{A:()=>r,Z:()=>o});var n=t(667294),a=t(883119),l=t(785893);let r=({fill:e,width:i})=>{let t="half"===e?(0,l.jsxs)(n.Fragment,{children:[(0,l.jsx)(a.xu,{position:"absolute",children:(0,l.jsx)(a.JO,{accessibilityLabel:"",color:"default",icon:"star-half",size:12})}),(0,l.jsx)(a.JO,{accessibilityLabel:"",color:"subtle",icon:"star",size:12})]}):(0,l.jsx)(a.JO,{accessibilityLabel:"",color:"full"===e?"default":"subtle",icon:"star",size:12});return(0,l.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{marginRight:"3px"}},"data-test-id":`rating-star-${e}`,display:"inlineBlock",children:t})};function o({max_rating:e,rating:i,width:t}){var n;let o=[],s=parseFloat(e)||5,d=5*(n=(n=parseFloat(i)||0)<=s?n:s)/s;if(Number.isNaN(d))return null;let u=Math.floor(d),c=d-u;return[...Array(u).keys()].forEach(e=>o.push((0,l.jsx)(r,{fill:"full",width:t},e))),c>=.75?o.push((0,l.jsx)(r,{fill:"full",width:t},o.length)):c>=.25&&o.push((0,l.jsx)(r,{fill:"half",width:t},o.length)),[...Array(5-o.length).keys()].forEach(()=>o.push((0,l.jsx)(r,{fill:"empty",width:t},o.length))),(0,l.jsx)(a.xu,{display:"inlineBlock",position:"relative",width:15*s,children:o})}},886858:(e,i,t)=>{t.d(i,{Z:()=>r,k:()=>l});let n=new Set(["bookmarks","client_tracking_params","get_page_metadata","in_nux","invite_code","original_referrer","source","top_level_source","top_level_source_depth"]),a=e=>!n.has(e)&&!e.startsWith("__track__");function l(e){return e.split(/([^=]+=[^=]+),/).filter(Boolean).reduce((e,i)=>{let[t,n]=i.split("=");return e[t]=JSON.parse(n),e},{})}let r=e=>e?Object.keys("object"==typeof e&&e||{}).filter(e=>"string"==typeof e).filter(a).sort().map(i=>`${i}=${JSON.stringify(null==e[i]?null:e[i])}`).join(","):""},248327:(e,i,t)=>{t.d(i,{U:()=>c,b:()=>p});var n=t(214494),a=t(886858),l=t(718368),r=t(414327),o=t(782677),s=t(483025);let d=(e,{bookmark:i,options:t,schema:n})=>{let a=n||s.Z[e];return"function"==typeof a?a({resource:e,options:t,bookmark:i}):a};function u({fetchOptions:e,resource:i,retry:t}){return(s,c)=>{var p,h,m;let{bookmark:g,paginationGroup:y,headers:_,options:v,refresh:f,schema:b}=e,P=(0,a.Z)(v);if(null!==(p=c().resources)&&void 0!==p&&null!==(h=p[i])&&void 0!==h&&null!==(m=h[P])&&void 0!==m&&m.fetching&&!t)return Promise.resolve();let S=t?t.bookmark:g,x=S?{...v,bookmarks:[S],pagination_group:y}:v;return s((0,r.LQ)(i,v,!0)),n.Z.create(i,x).callGet(void 0,_).then(a=>{var c;let{data:p}=a.resource_response,[h]=a.bookmarks||[];if(Array.isArray(p)&&0===p.length&&h&&h!==l.q){let n=t?t.count:0,a=n>=l.s;if(!a)return s(u({resource:i,fetchOptions:e,retry:{count:n+1,bookmark:h}}))}c=p,"VisualSearchFlashlightUnifiedResource"===i&&(c=c.results);let{normalizedResponse:m,resourceSchema:y}=function({data:e,opts:{bookmark:i,options:t,schema:n},resource:a}){let l=d(a,{bookmark:i,options:t,schema:n}),r=l&&e?(0,o.Fv)(e,l):null;return{normalizedResponse:r,resourceSchema:l}}({data:p,opts:{bookmark:g,options:v,schema:b},resource:i})||{normalizedResponse:null,resourceSchema:void 0};return g?(s((0,r.Dm)(i,v,a,m,y)),n.Z.fetchMoreCompleteCallback&&n.Z.fetchMoreCompleteCallback({resource:i,options:v,response:a,normalizedResponse:m,refresh:f,resourceSchema:y})):(s((0,r.Sr)(i,v,a,m,f,y)),n.Z.fetchCompleteCallback&&n.Z.fetchCompleteCallback({resource:i,options:v,response:a,normalizedResponse:m,refresh:f,resourceSchema:y})),Promise.resolve()},e=>{s((0,r.Tl)(i,v,e))})}}let c=(e,{bookmark:i,headers:t,options:n,schema:a,paginationGroup:l})=>u({resource:e,fetchOptions:{bookmark:i,headers:t,options:n,refresh:!1,schema:a,paginationGroup:l}}),p=(e,{headers:i,options:t,schema:n})=>u({resource:e,fetchOptions:{headers:i,options:t,refresh:!0,schema:n}})},338739:(e,i,t)=>{t.d(i,{AF:()=>n,KK:()=>a,aW:()=>o,cR:()=>l,se:()=>s,zP:()=>r});let n="CREATE_COMPLETE",a="FETCHING",l="FETCH_ERROR",r="FETCH_COMPLETE",o="FETCH_MORE_COMPLETE",s="RESOURCE_INVALIDATE"},414327:(e,i,t)=>{t.d(i,{Dm:()=>s,LQ:()=>l,Sr:()=>o,Tl:()=>r,XM:()=>a,jB:()=>d});var n=t(338739);function a(e,i,t,a){return{type:n.AF,payload:{resource:e,options:i,response:t,normalizedResponse:a}}}function l(e,i,t){return{type:n.KK,payload:{resource:e,options:i,isFetching:t}}}let r=(e,i,t)=>({type:n.cR,payload:{resource:e,options:i,error:t}});function o(e,i,t,a,l,r){return{type:n.zP,payload:{isRefresh:l,normalizedResponse:a,options:i,resource:e,response:t,schema:r}}}function s(e,i,t,a,l){return{type:n.aW,payload:{resource:e,options:i,response:t,normalizedResponse:a,schema:l}}}function d(e,i){return{type:n.se,payload:{resource:e,optionsOrOptionsKey:i}}}},784590:(e,i,t)=>{t.d(i,{Z:()=>p});var n=t(667294),a=t(702664),l=t(616550),r=t(886858),o=t(780280),s=t(248327),d=t(718368);let u={},c=({httpStatus:e})=>!e||e>=500;function p(e){let{enabledRouteRefresh:i,__unstableEnableSuspenseSupport:t,headers:p,name:h,noCache:m,options:g,schema:y}=null!=e?e:{name:"DisabledResource",options:null},_=!e,v=(0,a.useDispatch)(),f=(0,r.Z)(g),b=(0,n.useRef)(null),P=(0,n.useRef)(),S=(0,l.k6)(),x=S&&"POP"!==S.action,k=e=>(e[h]||u)[f]||u,w=(0,a.useSelector)(({resources:e})=>k(e).nextBookmark),T=(0,a.useSelector)(({resources:e})=>k(e).data),E=(0,a.useSelector)(({resources:e})=>k(e).auxData),I=(0,a.useSelector)(({resources:e})=>k(e).error),A=(0,a.useSelector)(({resources:e})=>!!k(e).fetching),R="object"==typeof E&&"string"==typeof(null==E?void 0:E.pagination_group)?E.pagination_group:void 0,C=!!I||void 0!==T,F=C&&!A&&w===d.q,D=!!(C&&i&&x&&!_),[L,j]=(0,n.useState)(D),O=(0,n.useCallback)((e,i)=>{b.current=v((0,s.U)(h,{options:g,schema:y,bookmark:e,headers:p,paginationGroup:i}))},[v,h,f,y,p]),K=()=>{b.current=v((0,s.b)(h,{options:g,schema:y,headers:p}))},{isBot:N}=(0,o.B)(),M=()=>{if(!_&&P.current!==f){let e=void 0===P.current;P.current=f,!C&&!A||e&&I&&c(I)?O():(!N&&m||D)&&K()}};(0,n.useEffect)(()=>{t||M()}),t&&M();let Z=(0,n.useCallback)(()=>{_||(K(),j(!0))},[_,s.b,h,f,p,j]),z=(0,n.useCallback)(()=>{!w||F||A||_||O(w,R)},[_,O,w,F,A,R]);if(b.current){if(C&&!A)b.current=null;else if(t)throw b.current}let V=(0,n.useRef)({auxData:void 0,data:void 0,error:void 0,fetchMore:z,isAtEnd:!1,isFetching:!1,isLoaded:!1,isRefreshing:!1,nextBookmark:void 0,refresh:Z}),B={auxData:E,data:T,error:I,fetchMore:z,isAtEnd:F,isFetching:A,isLoaded:C,isRefreshing:L,nextBookmark:w,refresh:Z};return(0,a.shallowEqual)(B,V.current)||(L&&(V.current.data||!D)&&!(0,a.shallowEqual)(B.data,V.current.data)&&(B.isRefreshing=!1,j(!1)),V.current=B),V.current}},947599:(e,i,t)=>{t.d(i,{Z:()=>a});var n=t(995228);let a=n.Z},862628:(e,i,t)=>{t.d(i,{Z:()=>n});function n(e){return(e||"").trim().replace(/\s+/g," ")}},595371:(e,i,t)=>{t.d(i,{i:()=>n});let n={AC:"ac",AUTOCOMPLETE:"autocomplete",DIRECT_NAVIGATION:"direct_navigation",FILTER:"filter",GUIDED_SEARCH_ENTRY:"guided_search_entry",GUIDED_SEARCH_LANDING:"guided_search_landing",HASHTAG_CLOSEUP:"hashtag_closeup",HASHTAG_PINREP:"hashtag_pinrep",HOMEFEED_BUBBLE:"homefeed_bubble",HUB_PAGE:"hub_page",IMAGE_ONLY_ATTRIBUTION:"image_only_attribution",LANDING_PAGE_STORY:"landing_page_story",NO_RESULTS_SEARCH_STORY:"no_results_search_story",PRODUCT:"product",REMOVE:"remove",RS:"rs",SITELINKS_SEARCHBOX:"sitelinks_searchbox",SLP_REC_CURATED:"slp_rec_curated",SLP_REC_TRENDING:"slp_rec_trending",SRS:"srs",STRUCTURED_GUIDE:"structured_guide",TRENDING:"trending",TYPED:"typed",TYPO_AUTO_ORIGINAL:"typo_auto_original",TYPO_SUGGESTION:"typo_suggestion",UNKNOWN:"Unknown",VANILLA_GUIDE:"guide",VIDEO:"video"}},53325:(e,i,t)=>{t.d(i,{GZ:()=>n,OE:()=>a,zX:()=>l});let n=246,a=197,l=236},124364:(e,i,t)=>{t.d(i,{Z:()=>r});var n=t(883119),a=t(898781),l=t(785893);function r({height:e,isDenseView:i,rounding:t,width:r,color:o}){let s=(0,a.ZP)();return(0,l.jsx)(n.xu,{alignItems:"center",color:o||"default","data-test-id":"unavailable-pin",display:"flex",height:e,justifyContent:"center",overflow:"hidden",position:"relative",rounding:t,width:r,children:(0,l.jsxs)(n.kC,{alignItems:"center",direction:"column",children:[(0,l.jsx)(n.xu,{paddingY:i?2:4,children:(0,l.jsx)(n.JO,{accessibilityLabel:s._('Pin not available', 'story-pin.Closeup.UnavailableIdeaPin.icon.accessibilityLabel', 'Accessibility label on icon'),color:"default",icon:"alert",size:20})}),(0,l.jsx)(n.xv,{weight:"bold",children:s._('Unavailable', 'story-pin.Closeup.UnavailableIdeaPin.Unavailable', 'Text on an unavailable idea Pin that has been deleted')}),!i&&(0,l.jsx)(n.xu,{paddingY:1,children:(0,l.jsx)(n.xv,{children:s._('Removed by the creator', 'story-pin.Closeup.UnavailableIdeaPin.Removed', 'Text on an unavailable idea Pin explaining it has been removed by its creator')})})]})})}},858416:(e,i,t)=>{t.d(i,{Wr:()=>c,Hx:()=>h,RC:()=>p});var n=t(667294),a=t(425288),l=t(924687),r=t(311541),o=t(785893);let s=()=>Promise.resolve().then(t.bind(t,924687)),{Provider:d,useHook:u}=(0,a.Z)("IdeaPinVideoPlayer");function c({children:e}){let[i,t]=(0,r.Z)(s,l.initialState),a=(0,n.useMemo)(()=>({dispatch:t,ideaPinVideoPlayerControls:i}),[t,i]);return(0,o.jsx)(d,{value:a,children:e})}function p(){let{dispatch:e}=u();return(0,n.useMemo)(()=>({updateSeekTime:(i,t)=>{e({type:"UPDATE_SEEK_TIME",payload:{seekTime:i,pinId:t||""}})},clearSeekTime:i=>{e({type:"CLEAR_SEEK_TIME",payload:{seekTime:void 0,pinId:i||""}})},updateSeekingIdeaPin:i=>{i?e({type:"UPDATE_SEEKING_IDEA_PIN",payload:{isSeekingIdeaPin:i}}):e({type:"UPDATE_SEEKING_IDEA_PIN",payload:{isSeekingIdeaPin:i,seekTime:void 0}})},updateCurrentTime:i=>{e({type:"UPDATE_CURRENT_TIME",payload:{currentTime:i}})},updateDuration:i=>{e({type:"UPDATE_DURATION",payload:{duration:i}})}}),[e])}function h(){let{ideaPinVideoPlayerControls:e}=u();return e}},924687:(e,i,t)=>{t.r(i),t.d(i,{default:()=>a,initialState:()=>n});let n={seekTime:void 0,seekTimes:{},isSeekingIdeaPin:!1,currentProgressInfo:{currentTime:0,duration:0}};function a(e=n,i){switch(i.type){case"UPDATE_SEEK_TIME":return{...e,seekTimes:{...e.seekTimes,[i.payload.pinId]:i.payload.seekTime},seekTime:i.payload.seekTime};case"CLEAR_SEEK_TIME":return{...e,seekTimes:{},seekTime:void 0};case"UPDATE_SEEKING_IDEA_PIN":return{...e,isSeekingIdeaPin:i.payload.isSeekingIdeaPin};case"UPDATE_CURRENT_TIME":return{...e,currentProgressInfo:{...e.currentProgressInfo,currentTime:i.payload.currentTime}};case"UPDATE_DURATION":return{...e,currentProgressInfo:{...e.currentProgressInfo,duration:i.payload.duration}};default:return e}}},985913:(e,i,t)=>{t.d(i,{Z:()=>l});var n=t(858142);let a=/\{\{\s*(\w+)\s*\}\}/g,l=(e,i)=>(0,n.Z)(a,e,i)},858791:(e,i,t)=>{t.d(i,{Z:()=>n});let n=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;")},927104:(e,i,t)=>{t.d(i,{Z:()=>n});let n=(e,i)=>e.length>i?e.substr(0,i-3).trim()+"":e},858142:(e,i,t)=>{t.d(i,{Z:()=>n});let n=(e,i,t)=>i?i.replace(e,(e,i)=>t&&Object.prototype.hasOwnProperty.call(t,i)?t[i]:""):""},66699:(e,i,t)=>{t.d(i,{Z:()=>l});var n=t(985913),a=t(858791);let l=(e,i)=>{let t={};return Object.keys(i).forEach(e=>{t[e]=i[e]?(0,a.Z)(i[e].toString()):""}),(0,n.Z)(e,t)}},883561:(e,i,t)=>{t.d(i,{ZP:()=>n});function n(e,i=80,t="",n=!1){let a;if(!e)return"";if(e.length<=i)return e;if(" "!==e[i-1]&&" "===e[i]||n)a=e.substring(0,i);else{let t=e.lastIndexOf(" ",i);a=e.substring(0,t)}return(a=a.replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,""))+t}},70061:(e,i,t)=>{t.d(i,{Z:()=>n});function n(e){return e.replace(/[_.-](\w|$)/g,(e,i)=>i.toUpperCase())}},932046:(e,i,t)=>{t.d(i,{Z:()=>a});var n=t(826067);function a(){let e=(0,n.mB)(window.location.search);if("31"===e.utm_source)return"email";if(e.utm_pai)return"paid";let i=document.referrer;return i?i.includes("/t.co/")?"twitter":i.includes("cdn.ampproject.org")?"amp":i.includes("google.")?"google":i.includes("bing.")?"bing":i.includes("facebook.")?"facebook":"other":"direct"}},948618:(e,i,t)=>{t.d(i,{Z:()=>l});var n=t(883119),a=t(785893);function l({ariaHidden:e=!1,color:i="darkGray",size:t}){return(0,a.jsx)("span",{"aria-hidden":e,style:{padding:"0 4px"},children:(0,a.jsx)(n.xv,{color:i,inline:!0,size:null!=t?t:"200",children:"\xb7"})})}},939106:(e,i,t)=>{t.d(i,{Z:()=>s});var n=t(667294),a=t(883119),l=t(948618),r=t(785893);function o(e){return null!=e}function s({additionalPadding:e,color:i="darkGray",inline:t,items:s}){let d=e?(0,r.jsx)("span",{style:{padding:`0 ${4*e}px`},children:(0,r.jsx)(l.Z,{color:i})}):(0,r.jsx)(l.Z,{color:i}),u=s.filter(o).reduce((e,i,t)=>[...e,0!==t?d:null,i],[]).filter(o).map((e,i)=>(0,r.jsx)(n.Fragment,{children:e},i));return 0===u.length?null:t?(0,r.jsx)(a.xu,{children:u}):(0,r.jsx)(a.kC,{alignItems:"center",justifyContent:"start",children:u})}},343341:(e,i,t)=>{t.d(i,{F9:()=>l,Zo:()=>a});var n=t(425288);let{Provider:a,useHook:l}=(0,n.Z)("toastManagerContext")},250059:(e,i,t)=>{t.d(i,{Z:()=>n});let n=e=>e?"string"==typeof e?e:e.pathname?e.pathname:"":""},149230:(e,i,t)=>{t.d(i,{Z:()=>a});var n=t(954931);let a=({url:e})=>!!(e&&e.match(/^https{0,1}:\/\//)&&!(0,n.Z)(e))},508847:(e,i,t)=>{t.d(i,{Z:()=>l});let n=(e,i)=>0===e.lastIndexOf(i,0);var a=t(567831);let l=({url:e})=>{let i=(0,a.Z)("/");return n(e,i)?e.substr(i.length-1):e}},311541:(e,i,t)=>{t.d(i,{Z:()=>a});var n=t(667294);function a(e,i){let t=(0,n.useRef)([]),[a,l]=(0,n.useState)(),[r,o]=(0,n.useReducer)(null!=a?a:()=>i,i),s=(0,n.useCallback)(i=>{a?o(i):(t.current.length||e().then(e=>{l(()=>e.default)}),t.current=[...t.current,i])},[e,a]);return(0,n.useEffect)(()=>{a&&(t.current.forEach(o),t.current=[])},[a]),[r,s]}},829407:(e,i,t)=>{t.d(i,{Z:()=>a});var n=t(667294);let a=e=>{(0,n.useEffect)(e,[])}},215292:(e,i,t)=>{t.d(i,{Z:()=>r,q:()=>l});var n=t(667294);let a=()=>{let[e,i]=(0,n.useState)(!1),[t,a]=(0,n.useState)(!1),[l,r]=(0,n.useState)(!1);return{active:e,focused:t,hovered:l,onBlur:()=>{a(!1),i(!1)},onFocus:()=>a(!0),onMouseDown:()=>i(!0),onMouseEnter:()=>r(!0),onMouseLeave:()=>{r(!1),i(!1)},onMouseUp:()=>i(!1)}};function l({children:e}){let i=a();return e(i)}let r=a},807609:(e,i,t)=>{t.d(i,{Z:()=>o});var n=t(667294);let a=()=>()=>{},l=()=>!1,r=()=>!0,o=()=>{let e=(0,n.useSyncExternalStore)(a,l,r);return e}},357787:(e,i,t)=>{t.d(i,{Z:()=>h});var n=t(667294),a=t(973935),l=t(785893);function r(e,i,t){var n;return(i="symbol"==typeof(n=function(e,i){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,i||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(i,"string"))?n:String(n))in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}let o=new Map,s=null,d=e=>{e.forEach(e=>{let i=o.get(e.target);i&&i(e)})},u=e=>{s.unobserve(e),o.delete(e)},c=(e,i="-64px 0px 0px 0px",t)=>{let n={root:"undefined"==typeof document?null:document.querySelector("#mainContainer"),rootMargin:i,threshold:[0,.5,1]};s=s||new window.IntersectionObserver(d,n),o.set(e,t),s.observe(e)},p=e=>o.has(e),h=e=>{class i extends n.Component{constructor(...e){super(...e),r(this,"seen",!1),r(this,"enter",e=>{let i=e.intersectionRatio>0||e.isIntersecting;this.seen=i,this.seen&&this.props.onVisibilityChanged(!0)}),r(this,"leave",()=>{let e=this._node;e&&p(e)&&this.seen&&(this.props.onVisibilityChanged(!1),this.seen=!1)}),r(this,"observe",e=>{try{this._node=a.findDOMNode(this)}catch(e){return}if(!this._node)return;let{inAdsDesktopVideoExperiment:i}=this.props,t=this._node;c(t,e,e=>{if(!o.has(t))return;let n=i?e.intersectionRatio>=.5:e.intersectionRatio>0||e.isIntersecting,a=this.props.trackFullVisible?e.intersectionRatio>=1:n,l=this.props.trackFullVisible?0===e.intersectionRatio:!a;!this.seen&&a?this.enter(e):this.seen&&l&&this.leave()})})}componentDidMount(){let{rootMargin:e}=this.props;this.observe(e)}componentWillUnmount(){let e=this._node;e&&(this.leave(),u(e))}render(){return(0,l.jsx)(e,{...this.props})}}return r(i,"displayName",`DeprecatedWithVisibilityChanged(${e.displayName||e.name})`),i}},46584:(e,i,t)=>{t.d(i,{Z:()=>u});var n=t(667294);let a=new Map,l=null,r=e=>{e.forEach(e=>{let i=a.get(e.target);i&&i(e)})},o=e=>{l.unobserve(e),a.delete(e)},s=(e,i="-64px 0px 0px 0px",t)=>{let n={root:"undefined"==typeof document?null:document.querySelector("#mainContainer"),rootMargin:i,threshold:[0,.5,1]};l=l||new window.IntersectionObserver(r,n),a.set(e,t),l.observe(e)},d=e=>a.has(e);function u({onVisibilityChanged:e,inAdsDesktopVideoExperiment:i,trackFullVisible:t,rootMargin:l}){let r=(0,n.useRef)(null),u=!1,c=i=>{let t=i.intersectionRatio>0||i.isIntersecting;(u=t)&&e(!0)},p=()=>{r.current instanceof HTMLElement&&d(r.current)&&u&&(e(!1),u=!1)},h=(0,n.useCallback)(e=>{r.current instanceof HTMLElement&&s(r.current,e,e=>{if(!a.has(r.current))return;let n=i?e.intersectionRatio>=.5:e.intersectionRatio>0||e.isIntersecting,l=t?e.intersectionRatio>=1:n,o=t?0===e.intersectionRatio:!l;!u&&l?c(e):u&&o&&p()})},[r.current]);return(0,n.useEffect)(()=>(h(l),()=>{r.current instanceof HTMLElement&&(p(),o(r.current))}),[h]),r}},644035:(e,i,t)=>{t.d(i,{GW:()=>a,RL:()=>n,s4:()=>l});let n="ios",a="android",l="ipad"},562559:(e,i,t)=>{t.d(i,{Z:()=>S});var n=t(667294),a=t(293041),l=t(883119),r=t(112690),o=t(391254),s=t(773285),d=t(780280),u=t(19121),c=t(969315),p=t(179888),h=t(965900),m=t(539766),g=t(785893);function y(e,i,t){var n;return(i="symbol"==typeof(n=function(e,i){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,i||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(i,"string"))?n:String(n))in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}let _=(e,i)=>typeof e!=typeof i||(Array.isArray(i)?e.length!==i.length||i.some((i,t)=>!Array.isArray(e)||i.type!==e[t].type||i.src!==e[t].src):i!==e),v=(e,i)=>i?e.replace("v1.pinimg.com","control"===i?"v3.pinimg.com":"v2.pinimg.com"):e,f=(e,i)=>e[0].src&&i?[{...e[0],src:v(e[0].src,i)}]:e,b=(e,i)=>"string"==typeof e?v(e,i):Array.isArray(e)?f(e,i):e;class P extends n.PureComponent{constructor(...e){super(...e),y(this,"state",{canPlayVideo:!1,isManifestParsed:!1,playbackState:p.Cy.DEFAULT,videoStartTime:this.props.seekTime||0}),y(this,"errorRetryCount",1),y(this,"firstFragBuffered",!1),y(this,"hasPlaybackStarted",!1),y(this,"hasVideoSessionStarted",!1),y(this,"hasVideoSessionEnded",!1),y(this,"hls",null),y(this,"fragStartupTime",{}),y(this,"lastLevelSwitchKbps",null),y(this,"lastStallTime",null),y(this,"lastPauseTime",null),y(this,"logSessionStartOnNextPlay",!1),y(this,"playerId",""),y(this,"videoSessionId",""),y(this,"videoVisibleTime",null),y(this,"playbackPerformance",{canPlayTime:null,detailedErrors:"",downloadedKiloBytes:0,errorCode:0,errorName:"",errorReason:"",hasFatalError:!1,loadStartTime:null,numberOfStalls:0,numberOfSeeks:0,playbackStartTimestamp:null,segments:[],srcString:"string"==typeof this.props.src?v(this.props.src,this.props.quicExpGroup):v(this.props.src[0].src,this.props.quicExpGroup),totalStallDurationMs:0,totalPauseDurationMs:0,videoCreatedTime:null}),y(this,"initializeHls",()=>{this.destroyHls();let{src:e,hlsConfig:i,quicExpGroup:t}=this.props,n=new a.ZP(i),l=b(e,t);n.loadSource(l),this.videoPlayerRef&&n.attachMedia(this.videoPlayerRef.video),n.on(a.ZP.Events.FRAG_BUFFERED,this.handleHlsFragBuffered),n.on(a.ZP.Events.FRAG_CHANGED,this.handleHlsFragChanged),n.on(a.ZP.Events.FRAG_LOADING,this.handleHlsFragLoading),n.on(a.ZP.Events.FRAG_LOADED,this.handleHlsFragLoaded),n.on(a.ZP.Events.MANIFEST_PARSED,()=>{this.setState({isManifestParsed:!0})}),n.on(a.ZP.Events.LEVEL_SWITCHED,this.handleHlsLevelSwitched),n.on(a.ZP.Events.ERROR,this.handleHlsError),this.hls=n}),y(this,"destroyHls",()=>{let{hls:e}=this;e&&e.destroy()}),y(this,"addSegment",e=>{let{segments:i}=this.playbackPerformance,t=i&&i[i.length-1];if(this.hls&&i.length&&t&&t.uri!==e.url){this.updateWatchDurationForCurrentSegment();let t=this.videoPlayerRef&&this.videoPlayerRef.video,n=this.hls&&this.hls.levels||{},a="number"==typeof e.level?n[e.level]:{},l=this.fragStartupTime[e.url],r=-1;l&&l.startLoadTime&&l.endLoadTime&&(r=l.endLoadTime-l.startLoadTime);let o={indicatedKbps:a.bitrate/p.bR,duration:e.duration,level:e.level,lastStartPlayTime:this.getCurrentVideoTime(),numServerAddressChange:-1,observedKbps:this.hls&&this.hls.bandwidthEstimate/p.bR||-1,playbackStartDate:Date.now(),serverAddress:"",sn:e.sn,sourceWidth:a.width,sourceHeight:a.height,startupTimeMs:r,switchBitrateKbps:this.lastLevelSwitchKbps||-1,uri:e.url,viewportWidth:t&&t.clientWidth||-1,viewportHeight:t&&t.clientHeight||-1,watchedDurationMs:0};i.push(o)}}),y(this,"initializeSegments",e=>{let{contextLogData:i={}}=this.props,{is_closeup_video:t=!1}=i,{segments:n}=this.playbackPerformance;if(!n.length){if(!this.hls||!this.videoPlayerRef||!this.videoPlayerRef.video||!e){(0,c.tE)("initializeSegmentsFailed",!0,t);return}if(!n.length&&"number"==typeof e.level){let i=this.videoPlayerRef&&this.videoPlayerRef.video,{levels:t}=this.hls,a="number"==typeof e.level?t[e.level]:{},l=this.fragStartupTime[e.url],r=-1;l&&l.startLoadTime&&l.endLoadTime&&(r=l.endLoadTime-l.startLoadTime),this.lastLevelSwitchKbps=this.hls.bandwidthEstimate/p.bR;let o={indicatedKbps:a.bitrate/p.bR,duration:e.duration,level:e.level,lastStartPlayTime:null,numServerAddressChange:-1,observedKbps:this.hls.bandwidthEstimate/p.bR||-1,playbackStartDate:null,serverAddress:"",sn:e.sn,sourceWidth:a.width,sourceHeight:a.height,startupTimeMs:r,switchBitrateKbps:this.lastLevelSwitchKbps||-1,uri:e.url,viewportWidth:i.clientWidth,viewportHeight:i.clientHeight,watchedDurationMs:0};n.push(o)}}}),y(this,"getCurrentVideoTime",()=>this.videoPlayerRef&&this.videoPlayerRef.video?this.videoPlayerRef.video.currentTime*p.gJ:null),y(this,"handleCanPlayVideo",e=>{let{contextLogData:i={},onReady:t,playing:n}=this.props,{is_closeup_video:a=!1}=i,{canPlayVideo:l}=this.state;(0,c.tE)("handleCanPlayVideo",!0,a,{firstCanPlayEvent:!l,playing:n}),this.playbackPerformance.hasFatalError=!1,l||(this.playbackPerformance.canPlayTime=new Date),this.setState({canPlayVideo:!0}),t&&t(e)}),y(this,"handleEnded",e=>{let{loop:i,onEnded:t}=this.props,{segments:n}=this.playbackPerformance,a=n&&n[n.length-1];i&&this.videoPlayerRef&&this.videoPlayerRef.video?(this.updateWatchDurationForCurrentSegment(),a&&(a.lastStartPlayTime=0),this.fragStartupTime={}):i||this.logPlaybackPerformance(p.$f,{initiator:"videoEnded",loop:i}),this.setState({playbackState:p.Cy.ENDED}),t&&t(e)}),y(this,"handleHlsError",(e,i)=>{var t,n,l,r,o,s,d;let{contextLogData:u={}}=this.props,{is_closeup_video:h=!1}=u;if(this.playbackPerformance.detailedErrors+=`${this.playbackPerformance.detailedErrors.length>0?", ":""}${i.details}`,i.fatal){this.playbackPerformance.hasFatalError=!0,this.playbackPerformance.errorName=i.type,this.playbackPerformance.errorReason=i.details,this.playbackPerformance.errorCode=i.response&&i.response.code?i.response.code:0;let e={errorName:i.type,errorReason:i.details,errorRetryCount:this.errorRetryCount,errorMessage:(null===(n=i.err)||void 0===n?void 0:null===(l=n.message)||void 0===l?void 0:l.slice(0,50))||"unknown",errorResponse:(null===(r=i.response)||void 0===r?void 0:null===(o=r.text)||void 0===o?void 0:o.slice(0,50))||"unknown",playbackState:this.state.playbackState};if((0,c.tE)("fatalError",!0,h,e),this.errorRetryCount>0)switch(this.errorRetryCount-=1,i.type){case a.ZP.ErrorTypes.NETWORK_ERROR:if(i.details===a.ZP.ErrorDetails.MANIFEST_LOAD_ERROR||i.details===a.ZP.ErrorDetails.MANIFEST_LOAD_TIMEOUT||i.details===a.ZP.ErrorDetails.MANIFEST_LOAD_PARSING_ERROR){let{src:e,quicExpGroup:i}=this.props,t=b(e,i);null===(s=this.hls)||void 0===s||s.loadSource(t)}else null===(d=this.hls)||void 0===d||d.startLoad();break;case a.ZP.ErrorTypes.MEDIA_ERROR:null===(t=this.hls)||void 0===t||t.recoverMediaError()}}this.updateWatchDurationForCurrentSegment(),this.setState({playbackState:p.Cy.FAILED})}),y(this,"handleHlsFragBuffered",(e,i)=>{this.firstFragBuffered||(this.initializeSegments(i.frag),this.firstFragBuffered=!0)}),y(this,"handleHlsFragChanged",(e,i)=>{this.addSegment(i.frag)}),y(this,"handleHlsFragLoading",(e,i)=>{var t;let n=null===(t=i.frag)||void 0===t?void 0:t.url;n&&!this.fragStartupTime[n]&&(this.fragStartupTime[n]={startLoadTime:new Date})}),y(this,"handleHlsFragLoaded",(e,i)=>{var t;i.frag&&i.frag.loaded&&(this.playbackPerformance.downloadedKiloBytes+=i.frag.loaded/p.Fm);let n=null===(t=i.frag)||void 0===t?void 0:t.url;n&&this.fragStartupTime[n]&&this.fragStartupTime[n].startLoadTime&&(this.fragStartupTime[n].endLoadTime=new Date)}),y(this,"handleHlsLevelSwitched",()=>{this.hls&&this.hls.bandwidthEstimate&&(this.lastLevelSwitchKbps=this.hls.bandwidthEstimate/p.bR)}),y(this,"handleLoadedMetadata",()=>{this.setState({playbackState:p.Cy.LOADED_METADATA})}),y(this,"handleLoadStart",()=>{this.playbackPerformance.loadStartTime=new Date,this.setState({playbackState:p.Cy.LOAD_START})}),y(this,"handleLoadedData",()=>{this.setState({playbackState:p.Cy.LOADED_DATA})}),y(this,"handlePlaying",e=>{this.playbackPerformance.hasFatalError=!1,this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.updateStallDuration(),this.updatePauseDuration(),this.setState({playbackState:p.Cy.PLAYING}),this.props.clearSeekTime&&this.props.clearSeekTime(),this.props.onPlaying&&this.props.onPlaying(e)}),y(this,"handleUserPause",e=>{let{onControlsPause:i}=this.props;this.lastPauseTime=new Date,i&&i(e)}),y(this,"handleVideoPause",()=>{this.state.playbackState===p.Cy.STALLING||this.state.playbackState===p.Cy.SEEKING||(this.updateWatchDurationForCurrentSegment(),this.lastPauseTime||this.updateStallDuration()),this.setState({playbackState:p.Cy.PAUSED})}),y(this,"handleSeeking",()=>{this.playbackPerformance.numberOfSeeks+=1;let{segments:e}=this.playbackPerformance,i=e&&e[e.length-1];i&&(i.lastStartPlayTime=null),this.state.playbackState!==p.Cy.ENDED&&this.setState({playbackState:p.Cy.SEEKING})}),y(this,"handleStalled",()=>{null===this.lastStallTime&&this.state.playbackState!==p.Cy.ENDED&&(this.lastStallTime=new Date,this.playbackPerformance.numberOfStalls+=1),this.setState({playbackState:p.Cy.STALLING})}),y(this,"handleTimeUpdate",e=>{let{onTimeChange:i}=this.props;i&&i(e),this.state.playbackState===p.Cy.PLAYING&&(this.updateWatchDurationForCurrentSegment(),this.setLastSegmentStartPlayTime())}),y(this,"resetPlaybackMetrics",()=>{this.hasPlaybackStarted=!1,this.hasVideoSessionStarted=!1,this.hasVideoSessionEnded=!0,this.lastLevelSwitchKbps=null,this.lastStallTime=null,this.lastPauseTime=null,this.videoSessionId="",this.videoVisibleTime=null,this.logSessionStartOnNextPlay=!1;let e=this.playbackPerformance.segments[this.playbackPerformance.segments.length-1],i={...e,lastStartPlayTime:null,playbackStartDate:null,switchBitrateKbps:-1,watchedDurationMs:0};this.playbackPerformance.detailedErrors="",this.playbackPerformance.downloadedKiloBytes=0,this.playbackPerformance.errorCode=0,this.playbackPerformance.errorName="",this.playbackPerformance.errorReason="",this.playbackPerformance.hasFatalError=!1,this.playbackPerformance.numberOfStalls=0,this.playbackPerformance.numberOfSeeks=0,this.playbackPerformance.playbackStartTimestamp=null,this.playbackPerformance.totalStallDurationMs=0,this.playbackPerformance.segments=[i]}),y(this,"setLastSegmentStartPlayTime",()=>{let{segments:e}=this.playbackPerformance,i=e&&e[e.length-1];i&&null===i.lastStartPlayTime&&(i.lastStartPlayTime=this.getCurrentVideoTime())}),y(this,"setLastSegmentPlaybackStartDate",()=>{let{segments:e}=this.playbackPerformance,i=e&&e[e.length-1];i&&null===i.playbackStartDate&&(i.playbackStartDate=Date.now())}),y(this,"setPlaybackStartTime",()=>{this.hasPlaybackStarted||(this.playbackPerformance.playbackStartTimestamp=Date.now(),this.hasPlaybackStarted=!0)}),y(this,"setVideoPlayerRef",e=>{let{setVideoRef:i}=this.props;if(e&&(i&&i(e),this.videoPlayerRef=e,this.videoPlayerRef.video)){let e=this.videoPlayerRef.video;e.addEventListener("loadedmetadata",this.handleLoadedMetadata),e.addEventListener("loadeddata",this.handleLoadedData),e.addEventListener("pause",this.handleVideoPause),e.readyState>=3&&(this.setState({canPlayVideo:!0}),this.playbackPerformance.canPlayTime=new Date)}}),y(this,"updateStallDuration",()=>{null!==this.lastStallTime&&(this.playbackPerformance.totalStallDurationMs+=new Date-this.lastStallTime,this.lastStallTime=null)}),y(this,"updatePauseDuration",()=>{if(null!==this.lastPauseTime){let{lastPauseTime:e}=this;this.playbackPerformance.totalPauseDurationMs+=new Date-e,this.lastPauseTime=null}}),y(this,"updateWatchDurationForCurrentSegment",()=>{let{segments:e}=this.playbackPerformance,i=e&&e[e.length-1],t=i?i.lastStartPlayTime:null,n=this.getCurrentVideoTime();if(i&&null!==t&&"number"==typeof n&&"number"==typeof t){let e=n-t;e>0&&(i.watchedDurationMs+=e,i.lastStartPlayTime=null)}}),y(this,"logPlaybackPerformance",(e,i)=>{let{contextLogData:t={},userId:n,isAutoPlay:a,logContextEvent:l,preload:r}=this.props,{is_closeup_video:o=!1}=t,{canPlayTime:s,detailedErrors:d,downloadedKiloBytes:u,errorCode:h,errorName:m,errorReason:g,hasFatalError:y,playbackStartTimestamp:_,totalPauseDurationMs:v,totalStallDurationMs:f,segments:b,srcString:P,loadStartTime:S,numberOfStalls:x,numberOfSeeks:k}=this.playbackPerformance,w=this.videoPlayerRef&&this.videoPlayerRef.video,T=e===p.DR,E=T&&!this.hasVideoSessionStarted,I=!T&&!this.hasVideoSessionEnded&&this.hasVideoSessionStarted;if(this.hls&&w&&(E||I)){var A;let E=-1;s&&S&&(E=s>S?s-S:0);let I=-1;s&&this.videoVisibleTime&&(I=s>this.videoVisibleTime?s-this.videoVisibleTime:0),T&&(this.videoSessionId=(0,p.Y7)(n),this.playerId=this.playerId||(0,p.EB)());let R={autoplaying:a,averageVideoKbps:-1,detailedErrors:d,downloadedKiloBytes:u,isCellular:!1,errorCode:h,errorName:m,errorReason:g,fatalError:y,nativeVideoDurationMs:w.duration*p.gJ||-1,numberOfStalls:x,numberOfSeeks:k,overallPausedDurationMs:v,overallBufferDurationMs:f,overallWatchedDurationMs:-1,rebufferRate:-1,playbackSessionId:this.videoSessionId,playbackStartTimestamp:_||-1,segments:[],sessionMark:e,screenPixelScale:null!==(A=window)&&void 0!==A&&A.devicePixelRatio?window.devicePixelRatio:-1,startupPlayerWidth:w.clientWidth,startupPlayerHeight:w.clientHeight,startupTimeMs:E,startupLatencyMs:I,startupVariantKbps:-1,startupVariantWatchedDurationMs:-1,startupVariantWidth:w.videoWidth,startupVariantHeight:w.videoHeight,videoUrl:P,wasVideoPreloaded:"auto"===r};if(!T&&b.length){let{levels:e}=this.hls,i=b[0];this.updateWatchDurationForCurrentSegment(),this.updateStallDuration();let t=b.reduce((i,t)=>{if(!t||"number"!=typeof t.level||!e||!(e.length>0))return i;{let n=(e[t.level]||{}).bitrate,a=t.watchedDurationMs;return i+n*(a||0)/p.gJ}},0),n=b.reduce((e,i)=>e+(i.watchedDurationMs||0),0),a=null,l=0,r=0;do l+=b[r].watchedDurationMs,a=a||b[r].level,r+=1;while(r<b.length&&b[r].level===a)R.startupVariantKbps=i.indicatedKbps,R.startupVariantWatchedDurationMs=l,R.startupVariantWidth=i.sourceWidth,R.startupVariantHeight=i.sourceHeight,R.startupPlayerWidth=i.viewportWidth,R.startupPlayerHeight=i.viewportHeight,R.overallWatchedDurationMs=n,n>0?(R.averageVideoKbps=t/(n/p.gJ),R.rebufferRate=this.playbackPerformance.totalStallDurationMs/n):0===n&&(R.averageVideoKbps=-1,R.rebufferRate=-1,R.errorName="invalid_watch_duration"),R.segments=b}else R.errorName="invalid_watch_duration";(0,c.ZP)(R,!0,o,{playbackState:this.state.playbackState,...i});let{clientTrackingParams:C,component:F,durationNs:D,element:L,objectId:j,pairId:O,viewData:K,view:N,viewParameter:M,...Z}=t;l({aux_data:{...Z,is_closeup_video:o,playback_session_id:this.videoSessionId},clientTrackingParams:C,component:F,duration_ns:D,element:L,event_data:{videoPerformanceData:R},event_type:3606,object_id_str:j,pair_id:O,view_data:K,view_parameter:M,view_type:N}),T?(this.hasVideoSessionStarted=!0,this.hasVideoSessionEnded=!1):this.resetPlaybackMetrics(),(0,c.tE)(T?"sessionStart":"sessionEnd",!0,o,{playbackState:this.state.playbackState,...i})}})}componentDidMount(){let{contextLogData:e={},playing:i}=this.props,{is_closeup_video:t=!1}=e;this.playbackPerformance.videoCreatedTime=new Date,this.initializeHls(),(0,c.tE)("videoMounted",!0,t),i&&(this.videoVisibleTime=new Date,this.logPlaybackPerformance(p.DR,{initiator:"mount"}))}componentDidUpdate(e){var i,t;let{loop:n,playing:a,src:l,visible:r,appInFocus:o,seekTime:s,captionsEnabled:d}=this.props,u=null===(i=this.videoPlayerRef)||void 0===i?void 0:null===(t=i.video)||void 0===t?void 0:t.textTracks[0];u&&(d?u.mode="showing":u.mode="disabled",u.addEventListener("cuechange",()=>{let e=u.activeCues&&u.activeCues.length>0&&u.activeCues[0];e&&e.line&&(e.line=-6,e.size=88)})),s&&s!==e.seekTime&&this.setState({videoStartTime:s}),_(e.src,l)&&this.initializeHls(),e.appInFocus&&!o&&(this.logPlaybackPerformance(p.$f,{initiator:"update",loop:n}),this.logSessionStartOnNextPlay=!0),e.visible&&!1===r&&(this.logSessionStartOnNextPlay=!1,this.updatePauseDuration(),this.logPlaybackPerformance(p.$f,{initiator:"update",loop:n})),!1===e.visible&&!0===r&&(this.videoVisibleTime=this.videoVisibleTime||new Date,a?(this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.logPlaybackPerformance(p.DR,{initiator:"update"})):this.logSessionStartOnNextPlay=!0),a&&o&&this.logSessionStartOnNextPlay&&(this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.logPlaybackPerformance(p.DR,{initiator:"update"}),this.logSessionStartOnNextPlay=!1)}componentWillUnmount(){let{loop:e}=this.props;this.updatePauseDuration(),this.logPlaybackPerformance(p.$f,{initiator:"unmount",loop:e}),this.destroyHls()}render(){let{aspectRatio:e,backgroundColor:i,captions:t,controls:n,loop:a,loopOverride:r,objectFit:s,onDurationChange:d,onFullscreenChange:u,onLoadedChange:c,onControlsPlay:p,onPlayheadDown:h,onPlayheadUp:y,onSeek:_,onVolumeChange:v,playbackRate:f,playing:P,playsInline:S,poster:x,preload:k,quicExpGroup:w,src:T,volume:E}=this.props,{canPlayVideo:I,isManifestParsed:A,videoStartTime:R}=this.state,C=b(T,w);return(0,g.jsxs)(l.xu,{children:[(0,g.jsx)(o.Z,{unsafeCSS:m.P}),(0,g.jsx)(l.nk,{ref:this.setVideoPlayerRef,aspectRatio:e,backgroundColor:i,captions:t,controls:n,loop:void 0===r?a:r,objectFit:s,onControlsPause:this.handleUserPause,onControlsPlay:p,onDurationChange:d,onEnded:this.handleEnded,onFullscreenChange:u,onLoadedChange:c,onLoadStart:this.handleLoadStart,onPlay:()=>{},onPlayError:()=>{},onPlayheadDown:h,onPlayheadUp:y,onPlaying:this.handlePlaying,onReady:this.handleCanPlayVideo,onSeek:_,onSeeking:this.handleSeeking,onStalled:this.handleStalled,onTimeChange:this.handleTimeUpdate,onVolumeChange:v,onWaiting:this.handleStalled,playbackRate:f,playing:A&&I&&P,playsInline:S,poster:x,preload:k,src:C,startTime:R,volume:E})]})}}let S=(0,n.memo)(function(e){let{country:i,isAuthenticated:t,isBot:n,isSocialBot:a,unauthId:l,userAgent:o}=(0,d.B)(),p=(0,r.Z)(),m=(0,u.Z)(),{browserName:y,browserVersion:_,isMobile:v}=o,{contextLogData:f={}}=e,{is_closeup_video:b=!1,view:S,viewParameter:x}=f,{checkExperiment:k}=(0,s.F)(),w=null;t&&(w=k("web_video_quic").group.length?k("web_video_quic").group:null);let{appUI:T}=(0,h.I)(),E=k("web_video_fail_to_start_fix").anyEnabled?T.appInFocus:e.appInFocus;return(0,c.r$)({browserName:y,browserVersion:_,country:i,isAuthenticated:t,isBot:n,is_closeup_video:b,isMobile:v,isSocialBot:a,view:S,viewParameter:x}),(0,g.jsx)(P,{...e,appInFocus:E,logContextEvent:p,quicExpGroup:w,userId:m.id||l})})},994320:(e,i,t)=>{t.d(i,{W:()=>s,r:()=>o});var n=t(667294),a=t(425288),l=t(785893);let{Provider:r,useHook:o}=(0,a.Z)("VideoPlayer");function s({children:e}){let[i,t]=(0,n.useState)(!1),a=(0,n.useMemo)(()=>({captionsEnabled:i,setCaptionsEnabled:t}),[i]);return(0,l.jsx)(r,{value:a,children:e})}},36971:(e,i,t)=>{t.d(i,{Z:()=>n});function n(e,i){let{organicVideosAutoplaying:t,promotedVideosAutoplaying:n}=i,a={...t,...n};return a[e]&&a[e].currentTime}},428258:(e,i,t)=>{t.d(i,{Q6:()=>a,ZP:()=>r,t2:()=>l});let n=()=>{var e;return!(null!==(e=window)&&void 0!==e&&e.devicePixelRatio)||window.devicePixelRatio<=1?"1x":"2x"},a=()=>{var e,i;let t;let a="undefined"!=typeof window?null===(e=window.navigator)||void 0===e?void 0:null===(i=e.connection)||void 0===i?void 0:i.effectiveType:void 0,l=n();return a?"4g"===a?t="40-80":(l="1x",t="0-1"):t="unknown",{downloadSpeedGroup:t,screenDimension:l}};function l({vEXP3:e,vEXP4:i,vEXP5:t,vEXP6:n,vEXP7:l,v720P:r}){let{downloadSpeedGroup:o,screenDimension:s}=a(),d={"1x":e,"2x":t},u={"1x":l,"2x":l};return({unknown:d,"0-1":d,"1-5":{"1x":i,"2x":t},"5-10":{"1x":t,"2x":t},"10-20":{"1x":n,"2x":n},"20-40":u,"40-80":u,"80_or_above":u})[o][s]||r||void 0}function r(e){let{vHLSV3MOBILE:i,...t}=e,n=l(t),a=i||void 0;return n?{hlsv3:a,mp4:n}:{hlsv3:a}}},463045:(e,i,t)=>{t.d(i,{Z:()=>n});function n(e,i){let{organicVideosAutoplaying:t,promotedVideosAutoplaying:n}=i,a={...t,...n};return!!a[e]&&!a[e].paused}},969315:(e,i,t)=>{t.d(i,{ZP:()=>p,r$:()=>u,tE:()=>c});var n=t(311560),a=t(179888),l=t(67347);let r=["isCellular","videoUrl","sessionMark"],o={},s="",d=e=>e<0?"negative":0===e?"zero":e<200?"xs":e<400?"s":e<600?"m":e<800?"l":e<1e3?"xl":e<1200?"xxl":"over1200",u=e=>{let{browserName:i,browserVersion:t,country:a,isAuthenticated:l,isBot:r,isMobile:d,isSocialBot:u,view:c="unknown",viewParameter:p="unknown"}=e;s=u&&"socialBot"||r&&"bot"||"nonbot";let h=(0,n.Z)(a);o={browserName:i,browserVersion:(null==t?void 0:t.split(".")[0])||"0",isAuthenticated:l,isMobile:d,region:h,view:c,viewParameter:p}};function c(e,i,t,n={}){let a={...n,...o},r=`web.video.${i?"hls":"nonHls"}.${s}.${t?"closeup":"nonCloseup"}.${e}`;"nonbot"===s&&(0,l.nP)(r,{sampleRate:1,tags:a})}function p(e,i,t,n={}){let u=t?"closeup":"nonCloseup",c=i?"hls":"nonHls",p=e.sessionMark===a.DR?"sessionStart":"sessionEnd",h={...n,...o};if("nonbot"===s&&(Object.entries(e).forEach(([i,t])=>{let n=`web.video.${c}.${s}.${u}.${p}.${i}`,a=parseInt(t,10),o="number"==typeof a?a:-1;if(!r.includes(i)){if(i.includes("fatalError")&&!0===t){let{errorCode:i,errorName:t,errorReason:a}=e;(0,l.nP)(n,{sampleRate:1,tags:{errorCode:i,errorName:t,errorReason:a,...h}})}else if(i.includes("Width")||i.includes("Height")){let e=d(o);(0,l.nP)(n,{sampleRate:1,tags:{dimensionBucket:e,...h}})}else if("numberOfStalls"===i){let e=t;o>1e3?e="over1000":o>10?e="over10":o<0&&(e="negative"),(0,l.nP)(n,{sampleRate:1,tags:{numberOfStalls:e,...h}})}else"screenPixelScale"===i?(0,l.nP)(n,{sampleRate:1,tags:{screenPixelScale:t||-1,...h}}):o>=0?(0===o&&(0,l.nP)(`${n}.zero`,{sampleRate:1,tags:h}),(0,l.LY)(n,o,{sampleRate:1})):o<0&&(0,l.nP)(`${n}.negative`,{sampleRate:1,tags:h})}}),e.sessionMark!==a.DR)){let{rebufferRate:i,screenPixelScale:t,startupLatencyMs:n,startupVariantWidth:a,startupPlayerWidth:r}=e,o=`web.video.${c}.${s}.${u}.${p}`;"number"==typeof a&&"number"==typeof r&&"number"==typeof t&&(0,l.nP)(`${o}.upscaled.${1.5*a>t*r?"good":"bad"}`,{sampleRate:1,tags:h}),"number"==typeof n&&(0,l.nP)(`${o}.startupLatency.${n<500?"good":"bad"}`,{sampleRate:1,tags:h}),"number"==typeof i&&(0,l.nP)(`${o}.rebufferRate.${i<.01?"good":"bad"}`,{sampleRate:1,tags:h})}}},179888:(e,i,t)=>{t.d(i,{$f:()=>l,Cy:()=>d,DR:()=>a,EB:()=>p,Fm:()=>s,Y7:()=>c,bR:()=>o,gJ:()=>r,lG:()=>u});var n=t(172045);let a=1,l=2,r=1e3,o=1e3,s=1e3,d=Object.freeze({DEFAULT:0,LOAD_START:1,LOADED_METADATA:2,LOADED_DATA:3,PLAYING:4,PAUSED:5,SEEKING:6,STALLING:7,FAILED:8,ENDED:9}),u=Object.freeze({MEDIA_ERR_ABORTED:1,MEDIA_ERR_NETWORK:2,MEDIA_ERR_DECODE:3,MEDIA_ERR_SRC_NOT_SUPPORTED:4});function c(e){return e+"-"+(0,n.Z)()}function p(){return(0,n.Z)()}},121630:(e,i,t)=>{t.d(i,{Z:()=>l,e:()=>a});var n=t(81226);let a=e=>{if("undefined"==typeof window)return"";let i=0,t=document.querySelector('[data-test-id="header"]');if(null!==t){let{height:e}=t.getBoundingClientRect();i+=e}switch(e){case"AuthHomefeed":let n=document.querySelector('[data-root-margin="more-ideas-tabs"]');if(null!==n){let{height:e}=n.getBoundingClientRect();i+=e}break;case"SearchItem":let a=document.querySelector('[data-root-margin="search-improvements-bar"]');if(null!==a){let{height:e}=a.getBoundingClientRect();i+=e}let l=document.querySelector('[data-test-id="search-tab-bar"],[data-root-margin="search-one-bar"]');if(null!==l){let{height:e}=l.getBoundingClientRect();i+=e}}return`${-1*i}px 0px 0px 0px`},l=({videosDuration:e,vHLSV4VideoDuration:i,storyPinDataTotalVideoDuration:t})=>{let a=(0,n.Z)(e||i||t||0);return a}},905723:(e,i,t)=>{t.d(i,{Z:()=>n});let n={V_HLSV4:"V_HLSV4",V_720P:"V_720P"}},43760:(e,i,t)=>{t.d(i,{Z:()=>l});var n=t(186656),a=t(48714);function l(e,i){let{auxData:t,clientTrackingParams:l,hasPin:r,pinId:o,isThirdPartyAd:s}=i||{},d={pin_id:o,check_only:!0,client_tracking_params:r?l:void 0,url:e,aux_data:JSON.stringify(t)};s&&(d.third_party_ad=o,delete d.pin_id),(0,n.Z)({url:"/v3/offsite/",data:d}).then(i=>{if(i&&i.resource_response&&!i.resource_response.error){let{resource_response:e}=i,{redirect_status:t,url:n}=e.data,a=["blocked","suspicious","porn"].includes(t);if(!a){if(window.Windows.Foundation&&window.Windows.System&&window.Windows.System.Launcher&&window.Windows.System.Launcher.launchUriAsync){let e=new window.Windows.Foundation.Uri(n);window.Windows.System.Launcher.launchUriAsync(e)}return}}(0,a.Gj)(e,{params:r?{pinId:o,clientTrackingParams:l,auxData:t,isThirdPartyAd:s}:{pinId:o}})})}},869899:(e,i,t)=>{t.d(i,{r:()=>b,K:()=>f});var n=t(667294),a=t(425288),l=t(773285),r=t(784590),o=t(19121),s=t(389643),d=t(339363),u=t(70061);let c=e=>{let i={};for(let t in e)Object.prototype.hasOwnProperty.call(e,t)&&("object"!=typeof e[t]||null===e[t]||Array.isArray(e[t])?i[(0,u.Z)(t)]=e[t]:i[(0,u.Z)(t)]=c(e[t]));return i},p=(e,i)=>{let t=[];for(let n in e)n!==i&&t.push({id:n,...c(e[n])});let n=t.sort(({user:{businessName:e}},{user:{businessName:i}})=>e.localeCompare(i)),a=new Map;for(let e of n)a.set(e.id,e);return a},h={profiles:new Map,headerVisible:!1,orbacVisibility:!1,activeProfile:void 0,disableProfileChanger:!1},m=(e,i)=>{switch(i.type){case"LOAD_PROFILES":return{...e,profiles:i.payload};case"SET_ACTIVE_PROFILE":return{...e,activeProfile:i.payload};case"TOGGLE_HEADER_VISIBILITY":return{...e,headerVisible:i.payload};case"TOGGLE_ORBAC_VISIBILITY":return{...e,orbacVisibility:i.payload};case"TOGGLE_DISABLE_PROFILE_CHANGER":return{...e,disableProfileChanger:i.payload};default:return e}},g=({dispatch:e,isEnabled:i,state:t})=>{let{orbacVisibility:a,disableProfileChanger:l,headerVisible:r}=t,o=(0,n.useCallback)(t=>{i&&e({type:"SET_ACTIVE_PROFILE",payload:t})},[i,e]),s=(0,n.useCallback)(t=>{i&&e({type:"TOGGLE_ORBAC_VISIBILITY",payload:null!=t?t:!a})},[i,e,a]),d=(0,n.useCallback)(t=>{i&&e({type:"TOGGLE_DISABLE_PROFILE_CHANGER",payload:null!=t?t:!l})},[i,e,l]),u=(0,n.useCallback)(t=>{i&&e({type:"TOGGLE_HEADER_VISIBILITY",payload:null!=t?t:!r})},[i,e,r]);return{changeProfile:o,toggleORBACVisibility:s,toggleDisableProfileChanger:d,toggleHeaderVisibility:u}},y=e=>{let[i,t]=(0,n.useReducer)(m,h),a=g({dispatch:t,isEnabled:e,state:i}),{activeProfile:l,orbacVisibility:r}=i;(0,n.useEffect)(()=>{let e=(0,d.qn)("orbacActiveProfile",!1);e&&t({type:"SET_ACTIVE_PROFILE",payload:e})},[]),(0,n.useEffect)(()=>{let e=(0,d.qn)("orbacVisibilty",!1);e&&t({type:"TOGGLE_ORBAC_VISIBILITY",payload:e})},[]),(0,n.useEffect)(()=>{(0,d.Nh)("orbacVisibility",r)},[r]),(0,n.useEffect)(()=>{(0,d.Nh)("orbacActiveProfile",l)},[l]);let o=(0,n.useCallback)((e,i)=>{t({type:"LOAD_PROFILES",payload:p(e,i)})},[t]);return{state:i,actions:a,receiveProfiles:o}};var _=t(785893);let{Provider:v,useMaybeHook:f}=(0,a.Z)("RoleBasedAccessControlContext"),b=({children:e})=>{let i;let{checkExperiment:t}=(0,l.F)(),a=(0,o.Z)(),d=!!(a.isAuth&&a.isPartner&&t("web_m10n_business_access_orbac_www").anyEnabled),{state:u,actions:c,receiveProfiles:p}=y(d),{activeProfile:h,headerVisible:m,profiles:g=[]}=u,f=g?Array.from(g.values()):[],b=(0,s.Z)(f),P=!!a.isAuth&&f.length>0&&b,S=a.isAuth?a.id:"",x=a.isAuth?a.username:"",{changeProfile:k,toggleORBACVisibility:w,toggleDisableProfileChanger:T,toggleHeaderVisibility:E}=c;(0,n.useEffect)(()=>{if(d){if("string"==typeof b){k(b);return}h||k(S)}},[b,S,d,k,h]),(0,n.useEffect)(()=>{d&&(P&&!m&&E(!0),!P&&m&&E(!1))},[E,P,d,m,g]);let{data:I}=(0,r.Z)(d?{name:"ApiResource",options:{url:"/vx/business_access/profiles/",disable_auth_failure_redirect:!0}}:null),A=null==I?void 0:I.profiles;a&&a.isAuth&&u.activeProfile===a.id?i={id:a.id,permissions:["OWNER"],user:{username:x,businessName:a.fullName,imgUrl:a.imageSmallUrl}}:h&&u.profiles&&(i=u.profiles.get(h)),(0,n.useEffect)(()=>{A&&p(A,S)},[p,A,S]);let R=u.profiles?Array.from(u.profiles.values()):[];return(0,_.jsx)(v,{value:{profiles:R,headerVisible:u.headerVisible,activeProfile:i,changeProfile:k,toggleORBACVisibility:w,toggleDisableProfileChanger:T,toggleHeaderVisibility:E},children:e})}},717615:(e,i,t)=>{t.d(i,{Z:()=>r});var n=t(773285),a=t(869899),l=t(389643);let r=()=>{let{checkExperiment:e}=(0,n.F)(),i=(0,a.K)(),{activeProfile:t}=i||{},r=e("web_m10n_business_access_orbac_www").anyEnabled,o=(0,l.Z)((null==i?void 0:i.profiles)||[]),{anyEnabled:s}=e("useorbacroutematcher_in_useorbacactingas");return r&&(!s||o)&&t&&(t.viewerMeetsMfaRequirement||(t.permissions||[]).includes("OWNER"))?t:Object.freeze({})}},389643:(e,i,t)=>{t.d(i,{Z:()=>s});var n=t(616550),a=t(53987),l=t(773285),r=t(19121),o=t(350118);let s=e=>{var i,t,s,d;let u=(0,n.TH)(),c=(0,r.Z)(),p=(0,o.S6)(),{anyEnabled:h}=(0,l.F)().checkExperiment("web_m10n_business_access_orbac_www"),m=(0,n.$B)("/:username"),g=null==m?void 0:null===(i=m.params)||void 0===i?void 0:i.username,y=(0,n.$B)("/pin/:id"),_=null!=y&&null!==(t=y.params)&&void 0!==t&&!!t.id&&(null===(s=p(y.params.id))||void 0===s?void 0:null===(d=s.pinner)||void 0===d?void 0:d.id);if((0,a.ej)(u))return!1;if((0,a.RU)(u))return!0;if((0,a.mY)(u))return h;let v=e.concat(c.isAuth?{user:{username:c.username},id:c.id}:{}).find(e=>{let{user:i={},id:t}=e||{},{username:n}=i;return(!!n&&!!g||!!_&&!!t)&&(n===g||_===t)});return!!v&&v.id}},231947:(e,i,t)=>{t.d(i,{D3:()=>d,DX:()=>o,KY:()=>u,Ms:()=>n,N1:()=>c,_P:()=>r,lJ:()=>l,nl:()=>a,q6:()=>s});let n=(e,i)=>{let t=e&&e.isAuth?e.username:"";return e&&i&&i.user&&i.user.username&&(t=i.user.username),t},a=(e,i)=>!!(i&&i.user&&e&&e.isAuth&&i.id!==e.id?i.user.eligibleForStlTool:e&&e.isAuth&&e.eligibleForStlTool),l=(e,i)=>e&&e.isAuth&&i&&i.id&&i.id!==e.id?i.id:"",r=(e,i,t)=>{var n;return t&&t.user&&i&&i.isAuth&&t.id!==i.id?t.user.merchantId:null===(n=e.advertiser)||void 0===n?void 0:n.merchant_id},o=(e,i,t)=>t&&t.user&&e.isAuth&&t.id!==e.id?t.user.scheduledPinCount||0:e.isAuth&&i&&i.scheduled_pin_count||0,s=(e,i,t)=>{let n=e&&e.isAuth&&t&&t.id&&t.id!==e.id&&t.id===i;return!!n},d=(e,i,t)=>{let n=s(e,i,t)||e&&e.isAuth&&i===e.id;return!!n},u=(e,i,t)=>{let n=i&&i.owner&&i.owner.id||"";return d(e,n,t)};function c(e,i,t){let n=i?i.id:"";return d(e,n,t)}},965900:(e,i,t)=>{t.d(i,{g:()=>p,I:()=>c});var n=t(667294),a=t(425288),l=t(567450),r=t(41861);let o={appInFocus:!0,footerPlusButtonVisible:!0,isAutoplay:!1,showTypeaheadOverlay:!1,videosAutoplaying:{currentlyPlayingOrganicVideoId:null,organicVideosAutoplaying:{},promotedVideosAutoplaying:{}},viewportSize:"lg"},s=(e=o,i)=>{if("TOGGLE_TYPEAHEAD_OVERLAY"===i.type)return{...e,showTypeaheadOverlay:i.payload};if("SET_CURRENT_VIDEO"===i.type){let{payload:t}=i,{pinId:n,isPromoted:a,currentTime:l}=t,{videosAutoplaying:o}=e,{currentlyPlayingOrganicVideoId:s,promotedVideosAutoplaying:d,organicVideosAutoplaying:u}=o,c=(0,r.Z)(d),p=(0,r.Z)(u);return!a&&s?e:(a?c[n]={pinId:n,currentTime:l,paused:!1}:p[n]={pinId:n,currentTime:l,paused:!1},{...e,videosAutoplaying:{currentlyPlayingOrganicVideoId:a?s:n,promotedVideosAutoplaying:c,organicVideosAutoplaying:p}})}if("SET_IS_AUTOPLAY"===i.type)return{...e,isAutoplay:i.payload};if("PAUSE_CURRENT_VIDEO"===i.type){let{payload:t}=i,{pinId:n,isPromoted:a,currentTime:l}=t,{videosAutoplaying:o}=e,{promotedVideosAutoplaying:s,organicVideosAutoplaying:d}=o,u=(0,r.Z)(s),c=(0,r.Z)(d);return a?u[n]={...u[n],paused:!0,currentTime:l}:c[n]={...c[n],paused:!0,currentTime:l},{...e,videosAutoplaying:{currentlyPlayingOrganicVideoId:null,promotedVideosAutoplaying:u,organicVideosAutoplaying:c}}}if("SET_APP_FOCUS_STATE"===i.type)return{...e,appInFocus:i.payload};if("SET_VIEWPORT_SIZE"===i.type)return{...e,viewportSize:i.payload};if("SET_FOOTER_VISIBILITY_STATE"===i.type)return{...e,footerPlusButtonVisible:i.payload};return e};var d=t(785893);let{Provider:u,useHook:c}=(0,a.Z)("AppUI");function p({children:e}){let[i,t]=(0,n.useReducer)(s,o),a=(0,n.useCallback)(e=>t({type:"PAUSE_CURRENT_VIDEO",payload:e}),[]),r=(0,n.useCallback)(e=>t({type:"SET_APP_FOCUS_STATE",payload:e}),[]),c=(0,n.useCallback)(e=>t({type:"SET_CURRENT_VIDEO",payload:e}),[]),p=(0,n.useCallback)(e=>t({type:"SET_FOOTER_VISIBILITY_STATE",payload:e}),[]),h=(0,n.useCallback)(e=>t({type:"SET_IS_AUTOPLAY",payload:e}),[]),m=(0,n.useCallback)(e=>t({type:"SET_VIEWPORT_SIZE",payload:e}),[]),g=(0,n.useCallback)(e=>t({type:"TOGGLE_TYPEAHEAD_OVERLAY",payload:e}),[]),y=(0,n.useMemo)(()=>({pauseAutoplay:a,setCurrentVideo:c,setFooterPlusButtonVisible:p,setIsAutoplay:h,setViewportSize:m,toggleTypeaheadOverlay:g,setAppFocusState:r,appUI:i}),[a,c,p,h,m,g,r,i]);return(0,n.useEffect)(()=>{l.Z.onSessionResume(()=>{r(!0)}).onSessionPause(()=>{r(!1)})},[r]),(0,d.jsx)(u,{value:y,children:e})}},40706:(e,i,t)=>{t.d(i,{Z:()=>p}),t(167912);var n,a,l=t(883119),r=t(916117),o=t(357998),s=t(62700),d=t(785893);let u={chip:{marginRight:1,flex:"1 1 0"},chipInner:{paddingBottom:"100%"},chipContainer:{marginRight:-1}},c=void 0!==n?n:n=t(269715);function p({pinKey:e,enableCloseupLink:i,trackingParamsMap:n}){let p=(0,r.Z)(c,e),{childDataKey__DEPRECATED:h}=(0,o.Q)(void 0!==a?a:a=t(693445),p,{useLegacyAdapter:e=>({})}),{aggregatedPinData:m}=p,{pinTagsChips:g}=m||{},y=g&&g.length>=3?g.slice(0,3):[];return(0,d.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:u.chipContainer},display:"flex",children:y.map(e=>{var t,a,r,o;let c=e.image||{},p=(0,d.jsx)(l.Ee,{alt:"",fit:"cover",naturalHeight:null!==(t=c.height)&&void 0!==t?t:1,naturalWidth:null!==(a=c.width)&&void 0!==a?a:1,role:"presentation",src:null!==(r=c.url)&&void 0!==r?r:""});return(0,d.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:u.chip},"data-test-id":"collageChip",children:(0,d.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:u.chipInner},position:"relative",children:(0,d.jsx)(l.xu,{bottom:!0,left:!0,position:"absolute",right:!0,top:!0,children:(0,d.jsx)(l.zd,{height:"100%",wash:!0,width:"100%",children:i?(0,d.jsx)(s.Z,{collageChipId:null!==(o=e.entityId)&&void 0!==o?o:"",pinKey:h,sizing:"fullSize",trackingParamsMap:n,children:p}):p})})})},e.entityId)})})}},199387:(e,i,t)=>{t.d(i,{Z:()=>r});var n=t(667294),a=t(407043),l=t(576440);function r(e,i){let{logContextEvent:t}=(0,a.v)(),{componentType:r,contextLogData:o,viewParameter:s,viewType:d}=(0,l.E)(),{aux_data:u,view_type:c,view_parameter:p,component:h,clientTrackingParams:m,...g}=null!=i?i:{};return(0,n.useCallback)(()=>{t({event_type:e,view_type:c||d,view_parameter:p||s,component:h||r,clientTrackingParams:m,...g,aux_data:{...u,...o}})},[t,u,m,g,p,c,h,r,o,e,s,d])}},225692:(e,i,t)=>{t.d(i,{X:()=>a,Z:()=>l});var n=t(667294);let a=120;function l(e,i=0,t=a){let[l,r]=(0,n.useState)(e?"active":"inactive");return(0,n.useEffect)(()=>{if(e){if(i){let e=setTimeout(()=>r("active"),i);return()=>{clearTimeout(e)}}r("active")}else{let e=setTimeout(()=>r("inactive"),t);return()=>{clearTimeout(e)}}},[e]),l}},697247:(e,i,t)=>{t.d(i,{$:()=>l,B:()=>a});var n=t(425288);let{Provider:a,useHook:l}=(0,n.Z)("SurfaceContext",{surface:"Unknown"})},576440:(e,i,t)=>{t.d(i,{B:()=>a,E:()=>l});var n=t(425288);let{Provider:a,useHook:l}=(0,n.Z)("trackingParametersContext")},62700:(e,i,t)=>{t.d(i,{Z:()=>v}),t(167912);var n,a=t(883119),l=t(260633),r=t(407043),o=t(916117),s=t(898781),d=t(287072),u=t(773285),c=t(780280),p=t(66699),h=t(999018),m=t(19121),g=t(576440),y=t(785893);let _=void 0!==n?n:n=t(294103);function v({sizing:e="default",children:i,collageChipId:t,componentType:n,contextLogData:v,elementType:f,disableA11yLabel:b,pinKey:P,trackingParamsMap:S,viewParameter:x,viewType:k}){let w=(0,s.ZP)(),{isRTL:T}=(0,c.B)(),E=(0,o.Z)(_,P),{logContextEvent:I}=(0,r.v)(),A=(0,g.E)(),{checkExperiment:R}=(0,u.F)(),{isAuth:C}=(0,m.Z)(),F=!!E.storyPinDataId&&!1===E.shouldOpenInStream,D=!!E.storyPinDataId&&!F,L=!T&&!E.promotedIsLeadAd&&!E.isEligibleForPdp&&!D&&R(C?"closeup_auth_related_pins_above_fold_2024_dweb":"closeup_unauth_related_pins_above_fold_2024_dweb").group||"",j=["enabled_stacked_closeup","enabled_side_by_side_closeup"].includes(L),O=C&&R("closeup_dweb_remove_magnifying_glass").anyEnabled,{carouselData:K,entityId:N}=E,M=!!E.promotedIsLeadAd,Z={},z=`/pin/${t||N}/`,V=(0,l.Xx)();if(null!=V&&V.variantUrl&&(z=`/pin/${V.variantUrl}/`),K){var B;let{carouselSlots:e,entityId:i}=K,t=null!==(B=K.index)&&void 0!==B?B:0;z=`/pin/${N}/`,Z={carousel_slot_id:(null==e?void 0:e[t])&&e[t].entityId,carousel_data_id:i,carousel_slot_index:t}}let U=(0,h.Z)(E);Z={...Z,...U({default:null==v?void 0:v.commerce_data})};let H=()=>{if(M){var e,i;I({event_type:8948,view_type:k||A.viewType,view_parameter:x||A.viewParameter,component:null,object_id_str:E.entityId,aux_data:{closeup_navigation_type:"click",lead_form_id:null===(e=E.promotedLeadForm)||void 0===e?void 0:e.leadFormId,is_lead_ad:1}}),I({event_type:12,view_type:k||A.viewType,view_parameter:x||A.viewParameter,component:null,object_id_str:E.entityId,aux_data:{lead_form_id:null===(i=E.promotedLeadForm)||void 0===i?void 0:i.leadFormId,is_lead_ad:1,...U()}})}else{let e={...v,...U({default:null==v?void 0:v.commerce_data})};I({event_type:101,component:n||A.componentType,element:f,object_id_str:N,view_type:k||A.viewType,view_parameter:x||A.viewParameter,aux_data:e}),I({event_type:8948,view_type:k||A.viewType,view_parameter:x||A.viewParameter,component:n||A.componentType,element:f,object_id_str:N,aux_data:{closeup_navigation_type:"click",...e}})}},G=(0,d.Z)({href:z,externalData:{auxData:Z,pin:E&&{advertiserId:E.advertiserId,attributionSourceId:E.attributionSourceId,board:E.board&&{url:E.board.url},campaignId:E.campaignId,entityId:E.entityId,isDownstreamPromotion:E.isDownstreamPromotion,isPromoted:E.isPromoted,pinner:E.pinner&&{username:E.pinner.username},pinPromotionId:E.pinPromotionId,promoter:E.promoter&&{entityId:E.promoter.entityId},storyPinDataId:E.storyPinDataId,trackingParams:E.trackingParams,trackingParamsMap:S}}});return(0,y.jsx)(a.Tg,{accessibilityLabel:b?void 0:(0,p.Z)(w._('{{ pinTitle }} pin page', 'pinRep.closeupLink.tapArea.accessibilityLabel', 'Accessibility label with pin title on individual links'),{pinTitle:E.gridTitle||E.title||E.description||""}),fullHeight:"fullSize"===e,fullWidth:"fullSize"===e,href:z,mouseCursor:j||O?void 0:"zoomIn",onTap:({event:e,dangerouslyDisableOnNavigation:i})=>{i(),H(),G({event:e})},rounding:2,children:i})}},841509:(e,i,t)=>{t.d(i,{Z:()=>l});var n=t(883119),a=t(785893);function l({children:e,additionalStyles:i={}}){return(0,a.jsx)(n.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{pointerEvents:"none",...i}},"data-test-id":"contentLayer",left:!0,position:"absolute",right:!0,top:!0,children:e})}},674462:(e,i,t)=>{t.d(i,{Z:()=>w});var n,a=t(667294);t(167912);var l=t(616550),r=t(883119),o=t(319915),s=t(916117),d=t(241244),u=t(947599),c=t(215292),p=t(19121),h=t(785893);let m=({signal:e,anchor:i,setShowFlyout:t,setStore:n})=>{var a,l;let{hovered:o,onMouseEnter:s,onMouseLeave:d}=(0,c.Z)(),u=e=>{t(e=>!e),n(e)};return(0,h.jsx)(r.iP,{onMouseEnter:s,onMouseLeave:d,onTap:()=>u(e),rounding:"pill",children:(0,h.jsxs)(r.xu,{ref:i,alignItems:"center",color:o?"dark":"transparentDarkGray",display:"flex",padding:3,rounding:"pill",children:[(0,h.jsx)(r.xu,{alignItems:"center",color:"default",display:"flex",height:24,justifyContent:"center",marginEnd:1,minWidth:24,rounding:"circle",children:(0,h.jsx)(r.xu,{height:20,overflow:"hidden",rounding:"circle",width:20,children:(0,h.jsx)(r.Ee,{alt:"",color:null!==(a=e.backgroundColor)&&void 0!==a?a:"",naturalHeight:1,naturalWidth:1,src:null!==(l=e.iconUrl)&&void 0!==l?l:""})})}),(0,h.jsx)(r.xv,{color:"inverse",size:"200",weight:"bold",children:e.signalMessage})]})})};var g=t(186656),y=t(898781),_=t(343341),v=t(499128);function f(e){let i=(0,y.ZP)(),{onHide:t}=e,n=(0,h.jsx)(r.xv,{children:i._('Thank you for helping improve signal detection on Pinterest!', 'pinRep.actionBar.signalDetector.toast', 'Toast text displayed when a user submits a signal for review')});return(0,h.jsx)(v.ZP,{onHide:t,text:n})}let b=function({anchor:e,onDismiss:i,pinId:t,signal:n}){let a=(0,y.ZP)(),l=(0,p.Z)(),{showOneToast:o}=(0,_.F9)();if(!l.isEmployee)return null;let{backgroundColor:s,iconUrl:d,signalId:u,signalMessage:c}=n;return(0,h.jsx)(r.mh,{children:(0,h.jsx)(r.J2,{anchor:e,idealDirection:"right",onDismiss:i,positionRelativeToAnchor:!1,size:"lg",children:(0,h.jsxs)(r.xu,{padding:4,width:"100%",children:[(0,h.jsx)(r.kC,{alignItems:"center",justifyContent:"start",children:(0,h.jsx)(r.X6,{size:"400",children:a._('Signal detected:', 'pinRep.actionBar.signalDetector.header', 'Header for signal detector flyout')})}),(0,h.jsx)(r.xu,{paddingY:3,children:(0,h.jsxs)(r.kC,{alignItems:"center",gap:2,justifyContent:"center",children:[(0,h.jsx)(r.xu,{height:40,overflow:"hidden",rounding:"circle",width:40,children:d?(0,h.jsx)(r.Ee,{alt:a._('Signal display', 'pinRep.actionBar.signalDetector.signalAsset', 'Asset to represent the signal detected'),color:"white",naturalHeight:1,naturalWidth:1,src:d}):(0,h.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:null!=s?s:""}},height:40,width:40})}),(0,h.jsx)(r.xv,{size:"200",children:c})]})}),(0,h.jsx)(r.xu,{marginBottom:3,children:(0,h.jsx)(r.xv,{size:"200",children:a._('If you think this detection is inaccurate, please send this Pin for review. It will help improve Pinterest.', 'pinRep.actionBar.signalDetector.instructions', 'Instructions to the user for how to handle inaccurate detection')})}),(0,h.jsxs)(r.kC,{alignItems:"center",gap:2,justifyContent:"start",children:[(0,h.jsx)(r.zx,{color:"red",fullWidth:!0,onClick:()=>{(0,g.Z)({url:`/v3/pins/${t}/signal_request_review/`,method:"POST",data:{signal_id:u,user:l.id}}),i(),o(({hideToast:e})=>(0,h.jsx)(f,{onHide:e}))},size:"md",text:a._('Send for review', 'pinRep.actionBar.signalDetector.button.review', 'Button label for users to send the pin for review')}),(0,h.jsx)(r.zx,{color:"gray",fullWidth:!0,onClick:i,size:"md",text:a._('Cancel', 'pinRep.actionBar.signalDetector.button.cancel', 'Button label for users to cancel')})]})]})})})};function P({signals:e,pinId:i}){let[t,n]=(0,a.useState)(!1),l=(0,a.useRef)(null),[s,c]=(0,a.useState)(e[0]);return(0,h.jsxs)(a.Fragment,{children:[(0,h.jsx)(o.Z,{name:"SafeSuspense_DebugSignal_FeedbackButton",children:(0,h.jsx)(u.Z,{children:(0,h.jsx)(r.xu,{"data-test-id":"debug-signals-feedback-button",children:(0,h.jsx)(d.Z,{children:(0,h.jsx)(r.kC,{alignItems:"stretch",justifyContent:"start",children:e.map(e=>(0,h.jsx)(r.xu,{marginEnd:2,children:(0,h.jsx)(m,{anchor:l,setShowFlyout:n,setStore:c,signal:e})},e.signalId))})})})})}),t&&(0,h.jsx)(b,{anchor:l.current,onDismiss:()=>n(!1),pinId:i,signal:s})]})}let S=function({anchor:e,onDismiss:i,pinId:t,signals:n}){let l=(0,y.ZP)(),[o,s]=(0,a.useState)(0),d=(0,p.Z)(),{showOneToast:u}=(0,_.F9)();if(!d.isEmployee)return null;let c=n.map(({signalMessage:e})=>({href:"#",text:null!=e?e:""})),{backgroundColor:m,iconUrl:v,signalId:b,signalMessage:P}=n[o],S=({activeTabIndex:e})=>{s(e)};return(0,h.jsx)(r.mh,{children:(0,h.jsx)(r.J2,{anchor:e,idealDirection:"right",onDismiss:i,positionRelativeToAnchor:!1,size:"lg",children:(0,h.jsxs)(r.xu,{padding:4,width:"100%",children:[n.length>1&&(0,h.jsx)(r.xu,{marginBottom:4,overflow:"scrollX",padding:1,children:(0,h.jsx)(r.mQ,{activeTabIndex:o,onChange:({event:e,activeTabIndex:i,dangerouslyDisableOnNavigation:t})=>{e.preventDefault(),t(),S({activeTabIndex:i})},tabs:c})}),(0,h.jsx)(r.kC,{alignItems:"center",justifyContent:"start",children:(0,h.jsx)(r.X6,{size:"400",children:l._('Signal detected:', 'pinRep.actionBar.signalDetector.header', 'Header for signal detector flyout')})}),(0,h.jsx)(r.xu,{paddingY:3,children:(0,h.jsxs)(r.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"center",children:[(0,h.jsx)(r.xu,{height:40,overflow:"hidden",rounding:"circle",width:40,children:v?(0,h.jsx)(r.Ee,{alt:l._('Signal display', 'pinRep.actionBar.signalDetector.signalAsset', 'Asset to represent the signal detected'),color:"white",naturalHeight:1,naturalWidth:1,src:v}):(0,h.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:null!=m?m:""}},height:40,width:40})}),(0,h.jsx)(r.xv,{size:"200",children:P})]})}),(0,h.jsx)(r.xu,{marginBottom:3,children:(0,h.jsx)(r.xv,{size:"200",children:l._('If you think this detection is inaccurate, please send this Pin for review. It will help improve Pinterest.', 'pinRep.actionBar.signalDetector.instructions', 'Instructions to the user for how to handle inaccurate detection')})}),(0,h.jsxs)(r.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"start",children:[(0,h.jsx)(r.zx,{color:"red",fullWidth:!0,onClick:()=>{(0,g.Z)({url:`/v3/pins/${t}/signal_request_review/`,method:"POST",data:{signal_id:b,user:d.id}}),i(),u(({hideToast:e})=>(0,h.jsx)(f,{onHide:e}))},size:"md",text:l._('Send for review', 'pinRep.actionBar.signalDetector.button.review', 'Button label for users to send the pin for review')}),(0,h.jsx)(r.zx,{color:"gray",fullWidth:!0,onClick:i,size:"md",text:l._('Cancel', 'pinRep.actionBar.signalDetector.button.cancel', 'Button label for users to cancel')})]})]})})})},x=void 0!==n?n:n=t(639920);function k({signals:e,pinId:i}){let{backgroundColor:t,iconUrl:n,signalMessage:l}=e[0],[s,p]=(0,a.useState)(!1),m=(0,a.useRef)();return(0,h.jsxs)(a.Fragment,{children:[(0,h.jsx)(o.Z,{name:"SafeSuspense_DebugSignal_FeedbackButton",children:(0,h.jsx)(u.Z,{children:(0,h.jsx)(r.xu,{"data-test-id":"debug-signals-feedback-button",children:(0,h.jsx)(d.Z,{children:(0,h.jsx)(c.q,{children:({hovered:e,onMouseEnter:i,onMouseLeave:a})=>(0,h.jsx)(r.iP,{onMouseEnter:i,onMouseLeave:a,onTap:()=>p(e=>!e),rounding:"pill",children:(0,h.jsxs)(r.xu,{ref:m,alignItems:"center",color:e?"dark":"transparentDarkGray",display:"flex",padding:3,rounding:"pill",children:[(0,h.jsx)(r.xu,{alignItems:"center",color:"default",display:"flex",height:24,justifyContent:"center",marginEnd:1,rounding:"circle",width:24,children:(0,h.jsx)(r.xu,{height:20,overflow:"hidden",rounding:"circle",width:20,children:(0,h.jsx)(r.Ee,{alt:"",color:null!=t?t:"",naturalHeight:1,naturalWidth:1,src:null!=n?n:""})})}),(0,h.jsx)(r.xv,{color:"inverse",size:"200",weight:"bold",children:l})]})})})})})})}),s&&m&&m.current&&(0,h.jsx)(S,{anchor:m.current,onDismiss:()=>p(!1),pinId:i,signals:e})]})}function w({pinKey:e}){let i=(0,s.Z)(x,e),t=(0,p.Z)(),{search:n}=(0,l.TH)(),r=(0,a.useMemo)(()=>new URLSearchParams(n),[n]);if(!t.isEmployee)return null;let{entityId:o,debAds:d,debContentQuality:u,debInclusiveProduct:c,debShopping:m,debTrustAndSafety:g}=i;if(d)return(0,h.jsx)(k,{pinId:o,signals:d});if(u)return(0,h.jsx)(k,{pinId:o,signals:u});if(c){if("skin_tone"===r.get("type")){let e=c.filter(e=>"visual_signals_hair_pattern_v1"!==e.signalId);return(0,h.jsx)(P,{pinId:o,signals:e})}{let e=c.filter(e=>"visual_body_analyses_v2_0"!==e.signalId);return(0,h.jsx)(P,{pinId:o,signals:e})}}return m?(0,h.jsx)(k,{pinId:o,signals:m}):g?(0,h.jsx)(k,{pinId:o,signals:g}):null}},525199:(e,i,t)=>{t.d(i,{Z:()=>r});var n=t(883119),a=t(225692),l=t(785893);function r({children:e,fadeInDuration:i=0,fadeOutDuration:t=a.X,visibility:r}){return"none"!==r&&e?(0,l.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{hidden:{opacity:0,transition:t?`opacity ${t}ms ease`:void 0},visible:{opacity:1,transition:i?`opacity ${i}ms ease`:void 0}}[r]},children:e}):null}},43671:(e,i,t)=>{t.d(i,{ZP:()=>m});var n=t(667294),a=t(883119),l=t(407043),r=t(898781),o=t(55275),s=t(310227),d=t(841509),u=t(785893);let c={background:{base:{transition:"all 250ms",opacity:0},blurred:{backgroundPosition:"50% 50%",backgroundSize:"cover",borderRadius:s.Oc,filter:"blur(10px)",opacity:1}},backdrop:{base:{transition:"all 250ms"},blurred:{backgroundColor:"rgba(0,0,0,0.6)"}},feedbackOverlayContainer:{base:{opacity:0,transition:"all 250ms"},visible:{opacity:1}}},p=["followed","related","search"],h=["pfy","pfyBoard"];function m({feedbackType:e,pin:i,hideContents:t=!1}){var m;let{logContextEvent:g}=(0,l.v)(),y=(0,r.ZP)(),[_,v]=(0,n.useState)(!1),[f,b]=(0,n.useState)(!1);(0,n.useEffect)(()=>v(!0),[]);let P=()=>b(!0),{feedbackText:S,images:x,showFeedbackOverlay:k,undoAction:w}=i,T=x&&(null===(m=x["236x"])||void 0===m?void 0:m.url),{subTitle:E,title:I,unfollow:A}=null!=S?S:{},R=!p.includes(e),C=h.includes(e);return(0,u.jsxs)(a.xu,{bottom:!0,color:"transparent",dangerouslySetInlineStyle:{__style:{borderRadius:s.Oc}},"data-test-id":"obscured-overlay",left:!0,overflow:"hidden",position:"absolute",right:!0,top:!0,children:[(0,u.jsxs)(a.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{borderRadius:s.Oc}},left:!0,margin:-4,overflow:"hidden",position:"absolute",right:!0,top:!0,children:[T&&(0,u.jsx)(d.Z,{additionalStyles:{...c.background.base,..._?c.background.blurred:{},backgroundImage:`url("${T}")`}}),(0,u.jsx)(d.Z,{additionalStyles:{...c.backdrop.base,...c.backdrop.blurred}})]}),(0,u.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{...c.feedbackOverlayContainer.base,...!k&&_?c.feedbackOverlayContainer.visible:{}}},height:"100%",padding:4,position:"relative",width:"100%",children:!t&&(0,u.jsx)(a.xu,{height:"100%",children:(0,u.jsxs)(a.xu,{"data-test-id":"PinFeedbackConfirmation",direction:"column",display:"flex",height:"100%",maxWidth:216,children:[(0,u.jsx)(a.xu,{marginBottom:2,children:(0,u.jsx)(a.X6,{color:"light",size:"400",children:I})}),(0,u.jsx)(a.xu,{display:"flex",marginBottom:1,children:(0,u.jsx)(a.xv,{color:"light",overflow:"normal",children:E})}),(0,u.jsxs)(n.Fragment,{children:[w&&"Reported"!==I&&(0,u.jsx)(a.xu,{"data-test-id":"undo-action-btn",children:(0,u.jsx)(a.iP,{onTap:w,children:(0,u.jsx)(a.xv,{color:"inverse",overflow:"normal",weight:"bold",children:y._('Undo', 'Text on the button to navigate to undo hiding a pin', 'Text on the button to navigate to undo hiding a pin')})})}),(0,u.jsxs)(a.xu,{marginTop:"auto",children:[!w&&!f&&A&&!C&&(0,u.jsx)(a.zx,{color:"white",fullWidth:!0,onClick:()=>(0,o.t)(A.action,A.actionOptions,P,g),text:y._('Unfollow', 'Text on the button to unfollow a specific board / user', 'Text on the button to unfollow a specific board / user')}),R&&(0,u.jsx)(a.ZP,{color:"white",fullWidth:!0,href:"/edit",onClick:()=>{g({event_type:101,view_type:1,view_parameter:92,element:11347})},text:y._('Tune your feed', 'Text on the button to navigate to homefeed control', 'Text on the button to navigate to homefeed control')})]})]})]})})})]})}},379884:(e,i,t)=>{t.d(i,{Z:()=>c});var n=t(883119),a=t(407043),l=t(898781),r=t(55275),o=t(680046),s=t(915446),d=t(814197),u=t(785893);function c({anchor:e,feedbackData:i,feedbackType:t,pinId:c,onDismiss:p,onHide:h,recommendationReason:m,viewParameter:g,viewType:y}){let{logContextEvent:_}=(0,a.v)(),v=(0,l.ZP)(),f=e=>{_({event_type:101,view_type:y,view_parameter:g,element:e,component:(0,o.nb)(t)})},b=(e,n)=>{let{action:a,actionOptions:l}=(0,s.Z)({feedbackData:i,feedbackType:t,pinId:c,recommendationReason:m&&{board:m.board&&{entityId:m.board.entityId},reasonId:m.reasonId,reason:m.reason,throughProperties:m.throughProperties},complaintReason:e});f(n),(0,r.t)(a,l,void 0,_),h()},P="promoted"===t?[{text:v._('Not relevant to me', 'homefeed.hideReasons.reason.notRelevant', 'Feedback option for Pin that is not relevant'),reason:10,elementType:1296},{text:v._('Seen Pin too many times', 'homefeed.hideReasons.reason.seenTooMany', 'Feedback option for Pin that has been seen too many times'),reason:3,elementType:11172},{text:v._('Blurry or pixelated image', 'homefeed.hideReasons.reason.lowQualityPicture', 'Feedback option for Pin with low quality picture'),reason:13,elementType:10898}]:[{text:v._('Not relevant to me', 'homefeed.hideReasons.reason.notRelevant', 'Feedback option for Pin that is not relevant'),reason:10,elementType:1296},{text:v._('Not in a language I understand', 'homefeed.hideReasons.reason.languageDontUnderstand', 'Feedback option for Pin that is in a language I dont understand'),reason:15,elementType:11178},{text:v._('Seen Pin too many times', 'homefeed.hideReasons.reason.seenTooMany', 'Feedback option for Pin that has been seen too many times'),reason:3,elementType:295},{text:v._('Blurry or pixelated image', 'homefeed.hideReasons.reason.lowQualityPicture', 'Feedback option for Pin with low quality picture'),reason:13,elementType:10898},{text:v._('Other', 'homefeed.hideReasons.reason.other', 'Feedback option for Pin hidden for other reasons'),reason:8,elementType:11179}];return(0,u.jsx)(n.Lt,{anchor:e,disableMobileUI:!0,id:"pin-action-dropdown",idealDirection:"down",onDismiss:p,zIndex:d.lI,children:(0,u.jsx)(n.Lt.Section,{label:v._('Got a moment? Tell us why.', 'homefeed.hideReasons.title', 'Title of follow up question after negative Pin feedback'),children:P.map(({text:e,reason:i,elementType:t})=>(0,u.jsx)(n.Lt.Item,{dataTestId:"hide-reason",onSelect:()=>b(i,t),option:{value:`hide-reason-${e.split(" ").join("-")}`,label:e}}))})})}},685909:(e,i,t)=>{t.d(i,{Z:()=>m});var n=t(667294),a=t(693967),l=t.n(a),r=t(883119),o=t(898781),s=t(391254),d=t(927104),u=t(149230),c=t(785893);let p=`
.SavedAnimation {
  &.saved {
    animation: SavedAnimation--down-then-right 1s cubic-bezier(0, 0.33, 0.33, 1.1);
  }

  &.board {
    animation: SavedAnimation--to-right 0.12s cubic-bezier(0, 0.33, 0.33, 1.1);
  }
}

@keyframes SavedAnimation--down-then-right {
  0% {
    opacity: 0;
    transform: translateY(-24px);
  }

  33% {
    opacity: 1;
    transform: translateY(0);
  }

  80% {
    opacity: 1;
    transform: translateY(0);
  }

  100% {
    opacity: 0;
    transform: translateX(24px);
  }
}

@keyframes SavedAnimation--to-right {
  from {
    opacity: 0;
    transform: translateX(-16px);
  }

  to {
    opacity: 1;
    transform: translateX(0);
  }
}
`;class h extends n.Component{constructor(...e){var i,t,n;super(...e),t={showBoardName:!1},(i="symbol"==typeof(n=function(e,i){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,i||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(i="state","string"))?n:String(n))in this?Object.defineProperty(this,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):this[i]=t}componentDidMount(){this.timer=setTimeout(()=>{this.setState({showBoardName:!0})},950)}componentWillUnmount(){clearTimeout(this.timer)}render(){let e,i;let{showBoardName:t}=this.state,{isDenseView:a,isNewlySaved:o,name:h,shouldUseLegoStyles:m,type:g,url:y}=this.props;if(m&&a)return null;let _="boardless"===g?this.props.i18n._('Saved to Profile', 'Saved.render.title', 'Text indicating saved to your profile'):h;if(!o||t||m){let i=m?(0,c.jsx)(r.xv,{color:"inverse",size:"300",weight:"bold",children:_.length<=20?_:(0,d.Z)(_,20)}):(0,c.jsx)(r.X6,{color:"inverse",lineClamp:1,size:"400",children:_}),t=(0,u.Z)({url:y});e=y?(0,c.jsx)(r.rU,{href:y,rel:t?"nofollow":"none",children:i}):i}else e=(0,c.jsx)(r.xv,{color:"inverse",children:(0,c.jsx)("span",{className:"deprecatedTextSizeXL",children:this.props.i18n._('Saved!', 'Indication that a pin has been saved', 'Indication that a pin has been saved')})});return o&&(i=t?"board":"saved"),(0,c.jsxs)(n.Fragment,{children:[(0,c.jsx)(s.Z,{unsafeCSS:p}),(0,c.jsx)("div",{className:!m&&l()("SavedAnimation",i),"data-test-id":"savedInfo",children:e})]})}}let m=function(e){let i=(0,o.ZP)();return(0,c.jsx)(h,{...e,i18n:i})}},108529:(e,i,t)=>{t.d(i,{Z:()=>a});var n=t(333155);function a(e){return n.zI.includes(e)}},333155:(e,i,t)=>{t.d(i,{UP:()=>o,Wv:()=>a,ZF:()=>n,zI:()=>l,zl:()=>r});let n=["AuthHomefeed","CloseupRelatedProducts","FollowingFeedGrid","RelatedPinGrid","RelatedProductsFeed","SearchItem"],a=["ArticleProductsStory","CloseupRelatedProducts","ProductPinsFeed","RelatedProductsFeed","ShoppingPackageItem","RelatedProductsFeed","UserProfilePinGrid","ShoppingGridShippedMetadataWithVisitButton"],l=[...a,"ShoppingGridShippedMetadata","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ProductPinsFeed","ShoppingCatalogsProductsMetadata","ShoppingDynamicHeightGrid"],r=["ShoppingSquareGridDomain","ShoppingGridShippedMetadata","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingGridShippedMetadataWithVisitButton"],o=["BaseBoardPinGrid"]},740025:(e,i,t)=>{t.d(i,{Z:()=>o}),t(422578);var n,a=t(916117),l=t(680046);let r=void 0!==n?n:n=t(150148);function o({pinKey:e,feedbackType:i,viewParameter:t}){var n,o,s,d,u;let c=(0,a.Z)(r,e);return function({feedbackType:e,viewParameter:i,boardFollowedByMe:t,hasPromoter:n,isDownstreamPromotion:a,pinnerFollowedByMe:r,hasRecommendationReason:o,recommendationReasonHasBoard:s,recommendationReasonReason:d}){return(0,l.hP)({boardFollowedByMe:t,feedbackType:e,promotion:n?{isDownstreamPromotion:a}:void 0,pinnerFollowedByMe:r,recommendationReason:o?{hasBoard:s,reason:d}:void 0,viewParameter:i})}({feedbackType:i,viewParameter:t,boardFollowedByMe:!!(null!=c&&null!==(n=c.board)&&void 0!==n&&n.followedByMe),hasPromoter:!!(null!=c&&c.promoter),isDownstreamPromotion:!!(null!=c&&c.isDownstreamPromotion),pinnerFollowedByMe:!!(null!=c&&null!==(o=c.pinner)&&void 0!==o&&o.explicitlyFollowedByMe),hasRecommendationReason:!!(null!=c&&c.recommendationReason),recommendationReasonReason:null!==(s=null==c?void 0:null===(d=c.recommendationReason)||void 0===d?void 0:d.reason)&&void 0!==s?s:void 0,recommendationReasonHasBoard:!!(null!=c&&null!==(u=c.recommendationReason)&&void 0!==u&&u.board)})}},784521:(e,i,t)=>{t.d(i,{Z:()=>n});let n={debugPinImpressions:999,max:9999,pinActionWrapper:101,saved:102,storyPinImage:-1}},920085:(e,i,t)=>{t.d(i,{H:()=>o,Z:()=>r});var n=t(464232),a=t(957161),l=t(867820);async function r({filename:e,imgSrc:i,imageDownloadSuccessCallback:t,category:n,pinId:a,viewParameter:r,viewType:o,isUnauth:s=!1,platform:d="web",expName:u,expGroup:c},p){return"undefined"==typeof window?Promise.resolve():((0,l.My)("web.download.click",{category:n||"no_category",authType:s?"unauth":"auth",platform:d,viewType:o,expName:u,expGroup:c}),p({event_type:82,object_id_str:a,view_type:o||3,view_parameter:r||139}),i&&document)?fetch(i,{headers:new Headers({Origin:window.location.origin}),mode:"cors"}).then(e=>e.blob()).then(i=>{var a,r;let p=document.createElement("a");p.href=window.URL.createObjectURL(i),p.setAttribute("download",e&&e.replace(".","_")),p.style.display="none",null===(a=document.body)||void 0===a||a.appendChild(p),p.click(),null===(r=document.body)||void 0===r||r.removeChild(p),(0,l.My)("web.download.success",{category:n||"no_category",authType:s?"unauth":"auth",platform:d,viewType:o,expName:u,expGroup:c}),null==t||t()}).catch(()=>{throw(0,l.My)("web.download.failure",{category:n||"no_category",authType:s?"unauth":"auth",platform:d,viewType:o,expName:u,expGroup:c}),Error("Download image error")}):Promise.resolve()}let o=(e,i)=>{let t=a.Z.getItem(n.rN)||0,{group:l}=e(i),r=!!l&&l.startsWith("enabled");if(!r)return{expName:i,expGroup:l,limitReached:!0,oldCount:t,newCount:t};let o=l.split("_").pop(),s=o?parseInt(o,10):0,d=t>=s,u=d?t:t+1;return t!==u&&a.Z.setItem(n.rN,u),{expName:i,expGroup:l,limitReached:d,oldCount:t,newCount:u}}},676464:(e,i,t)=>{function n(e){let i=e.split("/");return[i[2],i[1]]}function a(e,i){return!e||!e.some(e=>e.pin_type===i)}t.d(i,{E:()=>a,J:()=>n})},807532:(e,i,t)=>{t.d(i,{C:()=>s,f:()=>o});var n=t(667294),a=t(425288),l=t(785893);let{Provider:r,useHook:o}=(0,a.Z)("MostRecentPin");function s({children:e}){let[i,t]=(0,n.useState)(),[a,o]=(0,n.useState)(),s=(0,n.useCallback)(e=>{let i=a?a.slice(0,10):[],t=[e].concat(i.filter(i=>i!==e));o(t)},[a]),d=(0,n.useMemo)(()=>({id:i,plpImageSignatures:a,setMostRecentPinId:t,setMostRecentPinImage:s}),[i,a,s]);return(0,l.jsx)(r,{value:d,children:e})}},379764:(e,i,t)=>{t.d(i,{Z:()=>r});var n=t(883119),a=t(633988);let l=new n.H3([a.Z]),r=l},99137:(e,i,t)=>{t.d(i,{x:()=>o,y:()=>s});var n=t(667294),a=t(425288),l=t(785893);let{Provider:r,useMaybeHook:o}=(0,a.Z)("ProfileViewContext");function s({children:e}){let[i,t]=(0,n.useState)(),[a,o]=(0,n.useState)(new Map),[s,d]=(0,n.useState)(),[u,c]=(0,n.useState)(),[p,h]=(0,n.useState)(0),m=(0,n.useCallback)((e,i)=>{o(new Map(a.set(e,i)))},[a]),g=(0,n.useMemo)(()=>({boardPinDensity:i,boardSortOrder:a,profileBoardView:s,profilePinDensity:u,profileFollowingSelectedIndex:p,setBoardPinDensity:t,updateBoardSortOrder:m,setProfileBoardView:d,setProfilePinDensity:c,setProfileFollowingSelectedIndex:h}),[i,a,s,u,p,m]);return(0,l.jsx)(r,{value:g,children:e})}},130460:(e,i,t)=>{t.d(i,{bn:()=>o,fJ:()=>d,gC:()=>s});var n=t(702664),a=t(425288),l=t(785893);let{Provider:r,useHook:o}=(0,a.Z)("Boards");function s(){let e=o();return i=>e[i]}function d({children:e}){let i=(0,n.useSelector)(({boards:e})=>e,n.shallowEqual);return(0,l.jsx)(r,{value:i,children:e})}},698330:(e,i,t)=>{t.d(i,{Tt:()=>c,cm:()=>u,kW:()=>s,kY:()=>p,mN:()=>d});var n=t(702664),a=t(425288),l=t(19121),r=t(785893);let{Provider:o,useHook:s}=(0,a.Z)("Users");function d(){let e=s();return i=>e[i]}function u(){let e=s();return(i,t=!1)=>{let n=Object.keys(e).find(t=>e[t].username===i);if(n||!t)return e[null!=n?n:""]}}function c(){let{id:e}=(0,l.Z)(),i=s();return i[null!=e?e:""]}function p({children:e}){let i=(0,n.useSelector)(({users:e})=>e,n.shallowEqual);return(0,r.jsx)(o,{value:i,children:e})}},108234:(e,i,t)=>{t.d(i,{Z:()=>y,s:()=>g});var n=t(667294),a=t(425288),l=t(608575),r=t(883119),o=t(121151),s=t(898781),d=t(349700),u=t(785893);let c=()=>{var e;let i=(0,s.ZP)(),{dismissWarning:t}=null!==(e=g())&&void 0!==e?e:{};return(0,u.jsx)(r.xu,{paddingX:3,children:(0,u.jsx)(r.zx,{color:"red",fullWidth:!0,onClick:t,text:i._('Okay', 'Dismiss a modal stating that clicking through to a link has been blocked', 'Dismiss a modal stating that clicking through to a link has been blocked')})})},p=()=>{let e=(0,s.ZP)();return(0,u.jsx)(r.xv,{inline:!0,weight:"bold",children:(0,u.jsx)(r.rU,{display:"inlineBlock",href:"https://policy.pinterest.com/community-guidelines#section-spam",target:"blank",underline:"hover",children:e._('Learn more', 'Link text leading to policy website', 'Link text leading to policy website')})})},h=({message:e,sanitized_url:i})=>{var t;let n=(0,s.ZP)(),{dismissWarning:a}=null!==(t=g())&&void 0!==t?t:{};return(0,u.jsx)(o.ZP,{accessibilityModalLabel:n._('We have blocked this link', 'Modal label when clicking a spammy link', 'Modal label when clicking a spammy link'),footer:(0,u.jsx)(c,{}),heading:n._('Heads up!', 'Modal heading when clicking through to a link has been blocked', 'Modal heading when clicking through to a link has been blocked'),onDismiss:a,children:(0,u.jsxs)(r.xu,{padding:6,children:[(0,u.jsx)(r.xv,{children:(0,d.nk)("{{ message }} {{ learnMore }}",{message:e,learnMore:(0,u.jsx)(p,{},"learnMoreLink")})}),(0,u.jsxs)(r.xu,{alignItems:"center",display:"flex",marginTop:4,children:[(0,u.jsx)(r.xu,{marginEnd:3,children:(0,u.jsx)(r.JO,{accessibilityLabel:n._('Blocked link address', 'Icon label preceding a block url', 'Icon label preceding a block url'),color:"error",icon:"report",inline:!0,size:24})}),(0,u.jsx)(r.xv,{inline:!0,lineClamp:1,weight:"bold",children:l.parse(i).hostname})]})]})})},{Provider:m,useMaybeHook:g}=(0,a.Z)("SpammyClickthrough");function y({children:e}){let[i,t]=(0,n.useState)(null),a=(0,n.useCallback)(()=>{t(null)},[t]),l=(0,n.useCallback)(e=>{t(e)},[t]),r=(0,n.useMemo)(()=>({dismissWarning:a,showWarning:l}),[a,l]);return(0,u.jsxs)(m,{value:r,children:[i&&(0,u.jsx)(h,{...i}),e]})}},202870:(e,i,t)=>{t.d(i,{Z:()=>d,j:()=>s});var n=t(883119),a=t(898781),l=t(349700),r=t(773285),o=t(785893);let s=[0,2,3];function d({hasAffiliateProducts:e,href:i,isPromoted:t,onNavigateSponsorClick:d,sponsorName:u,sponsorUsername:c,sponsorshipStatus:p,textWeight:h="bold"}){let m;let g=(0,a.ZP)(),y=(0,r.F)().checkExperiment("mweb_web_android_ios_clbc_eu_ad_string").anyEnabled,_=(0,r.F)().checkExperiment("web_remove_paid_partnership_in_rejected_state").anyEnabled,v=i||(c?`/${c}/`:null),f=v&&u?(0,o.jsx)(n.rU,{href:v,onClick:d,children:(0,o.jsx)(n.xv,{size:"200",weight:h,children:u})},u):void 0;return t?m=(0,l.nk)(g._('Promoted by {{ name }}', 'sponsorship.sponsorshipText.promotedByBrand', 'indicating the username of the person who promoted the pin'),{name:f}):p||0===p?u&&!s.includes(p)?m=(0,l.nk)(g._('Paid partnership with {{ name }}', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when sponsored by a brand'),{name:f}):_&&2===p||(m=g._('Paid partnership', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when the pin is sponsored but the sponsorship status is rejected/requested/unaffiliated')):e&&(m=g._('Includes sponsored products', 'sponsorship.sponsorshipText.affiliatedProducts', 'Subtext of pincard attribution for a pin with affiliated products')),(0,o.jsxs)(n.xv,{inline:!0,lineClamp:2,size:"200",children:[y&&!t&&"Ad  "||"",m]})}},814197:(e,i,t)=>{t.d(i,{Cq:()=>u,Dk:()=>p,Fk:()=>a,fS:()=>d,km:()=>c,lI:()=>r,lJ:()=>l,mS:()=>s,qW:()=>o});var n=t(883119);let a=new n.Ry(1),l=3,r=new n.Ry(l),o=2,s=new n.Ry(o),d=3,u=4,c=new n.Ry(5),p=new n.Ry(100)},398061:(e,i,t)=>{t.d(i,{Z:()=>o,e:()=>r});var n=t(883119),a=t(780280),l=t(785893);let r=new n.Ry(1);function o({children:e,isImagePinForUnauthOnTablet:i}){let{isAuthenticated:t}=(0,a.B)();return(0,l.jsxs)(n.xu,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:{__style:{cursor:"pointer",width:i?"40vw":void 0}},display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!i||void 0,top:!0,zIndex:t?void 0:r,children:[(0,l.jsx)(n.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"#000",borderRadius:"6px 6px 0 0",WebkitTransition:"opacity .04s linear",transition:"opacity .04s linear"}},left:!0,opacity:.4,position:"absolute",right:!0,top:!0}),e]})}},538232:(e,i,t)=>{t.d(i,{R:()=>l,q:()=>a});var n=t(425288);let{Provider:a,useHook:l}=(0,n.Z)("CloseupPageContext")},633988:(e,i,t)=>{t.d(i,{Z:()=>r});var n=t(883119),a=t(398061);let l=new n.H3([a.e]),r=l},95551:(e,i,t)=>{t.d(i,{Z:()=>o});var n=t(883119),a=t(898781),l=t(780280),r=t(785893);let o=({onSendButtonClick:e,trackShareTap:i,color:t,size:o,bgColor:s})=>{let d=(0,a.ZP)(),{userAgent:{platform:u}}=(0,l.B)();return(0,r.jsx)(n.hU,{accessibilityLabel:d._('Send', 'Board.Pin.SendButton', 'Accessible label for button to send a pin or a board'),bgColor:s||"transparent",icon:"android"===u?"android-share":"share",iconColor:t||"darkGray",onClick:({event:t})=>{e(t),i()},size:o||"lg"})}},415940:(e,i,t)=>{t.d(i,{Z:()=>x});var n,a,l=t(667294);t(422578);var r=t(883119),o=t(729884),s=t(916117),d=t(357998),u=t(444445),c=t(898781),p=t(564194),h=t(310227),m=t(455024),g=t(350118),y=t(785893);function _(e,i,t){var n;return(i="symbol"==typeof(n=function(e,i){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,i||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(i,"string"))?n:String(n))in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}let v=void 0!==n?n:n=t(566416),f=e=>{let i=e.reduce((e,i)=>{var t;let{imageSizeMap:n}=i,{height:a,width:l}=(null==n?void 0:n["736x"])||(null==n?void 0:n["236x"])||{},r=`${null!=l?l:1}x${null!=a?a:1}`,o=(null===(t=e[r])||void 0===t?void 0:t.times)||0;return{...e,[r]:{imageHeight:a,imageWidth:l,times:o+1}}},{}),t=Object.keys(i).reduce((e,t)=>i[t].times>e.times?i[t]:e,{times:-1,imageHeight:-1,imageWidth:-1});return Object.keys(i).length>1?{imageHeight:t.imageHeight,imageWidth:t.imageWidth}:null},b=(e,i,t,n,a,l,o,s,d,u,c,p,h,g,_,v)=>{var f,b,P,S,x,k,w,T,E,I,A,R,C,F,D,L;let j;let{imageSizeMap:O,details:K=""}=i,N=236,M=236,Z="";a?(N=474,M=O&&Math.min(N/.8,N/((null!==(S=null===(x=O["564x"])||void 0===x?void 0:x.width)&&void 0!==S?S:1)/(null!==(k=null===(w=O["564x"])||void 0===w?void 0:w.height)&&void 0!==k?k:1))),Z=O&&(null===(T=O["564x"])||void 0===T?void 0:T.url)):O&&O["736x"]?(M=O&&O["736x"]&&O["736x"].height,N=O&&O["736x"]&&O["736x"].width,Z=O&&O["736x"]&&O["736x"].url):O&&O["236x"]&&(M=O&&O["236x"]&&O["236x"].height,N=O&&O["236x"]&&O["236x"].width,Z=O&&O["236x"]&&O["236x"].url),h&&g&&(M=Math.min(h*g,null!==(E=M)&&void 0!==E?E:1)),j=l?`${null!==(I=null==O?void 0:null===(A=O["236x"])||void 0===A?void 0:A.url)&&void 0!==I?I:""} 1x`:a?`${null!==(R=null==O?void 0:null===(C=O["564x"])||void 0===C?void 0:C.url)&&void 0!==R?R:""} 1x`:[(null==O?void 0:O["474x"])&&`${null!==(F=O["474x"].url)&&void 0!==F?F:""} 2x`,(null==O?void 0:O["736x"])&&`${null!==(D=O["736x"].url)&&void 0!==D?D:""} 3x`,(null==O?void 0:O.orig)&&`${null!==(L=O.orig.url)&&void 0!==L?L:""} 4x`].filter(Boolean).join(", ");let z=(0,m.GH)(K,e,n),V=p?void 0:M,B=p?void 0:N,{boxHeight:U,boxWidth:H}=_?{boxHeight:null==_?void 0:_.imageHeight,boxWidth:null==_?void 0:_.imageWidth}:{boxHeight:V,boxWidth:B};return(0,y.jsx)(r.xu,{"data-test-id":"carousel-slot-container",height:null!=U?U:void 0,width:null!=H?H:void 0,children:(0,y.jsx)(r.xu,{"data-test-id":`carousel-img-${n}`,height:p?c:void 0,width:p||void 0,children:(0,y.jsx)(r.Ee,{alt:z,crossOrigin:v?"anonymous":void 0,fit:p?"cover":"none",naturalHeight:null!==(f=M)&&void 0!==f?f:1,naturalWidth:null!==(b=N)&&void 0!==b?b:1,onError:o,onLoad:s,src:null!==(P=Z)&&void 0!==P?P:"",srcSet:j})})},`carousel-slot-${t}-${n}`)},P=({pinId:e,slot:i,slotIndex:t,onError:n,onLoad:a,widthToUse:l,gap:o},s)=>{let d=["564x","736x","474x","236x"].map(e=>{var t;return null===(t=i.imageSizeMap)||void 0===t?void 0:t[e]}).find(e=>null==e?void 0:e.url),{url:u,width:c,height:p}=d||{},{details:h=""}=i,g=(0,m.GH)(h,s,t);return(0,y.jsx)(r.xu,{"data-test-id":"carousel-slot-container",height:"100%",marginEnd:o,width:l,children:(0,y.jsx)(r.zd,{height:"100%",wash:!0,children:(0,y.jsx)(r.Ee,{alt:g,fit:"contain",naturalHeight:null!=p?p:1,naturalWidth:null!=c?c:1,onError:n,onLoad:a,src:null!=u?u:""})})},`carousel-slot-${e}-${t}`)};class S extends l.Component{constructor(...e){super(...e),_(this,"state",{showBadge:!0}),_(this,"renderBadge",()=>{let{carouselData:e,isCloseup:i,showCarouselBadge:t}=this.props;if(!e)return null;let{showBadge:n}=this.state,{carouselSlots:a,index:l}=e;return!i&&t?(0,y.jsx)(r.xu,{alignItems:"center",color:"selected",dangerouslySetInlineStyle:{__style:{opacity:n?.8:0,transition:"opacity .3s"}},display:"flex",height:35,justifyContent:"center",marginEnd:5,marginTop:5,position:"absolute",right:!0,rounding:2,width:35,zIndex:new r.Ry(1),children:(0,y.jsx)(r.xv,{color:"inverse",children:`${(null!=l?l:0)+1}/${(null!=a?a:[]).length}`})}):null})}componentDidMount(){this.hideBadgeTimeout=setTimeout(()=>this.setState({showBadge:!1}),3e3)}componentDidUpdate(e){let{showBadge:i}=this.state,{carouselData:t}=e,{carouselData:n}=this.props;if(!t||!n)return;let{index:a}=t,{index:l}=n;i&&(this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout),this.hideBadgeTimeout=setTimeout(()=>this.setState({showBadge:!1}),3e3)),a!==l&&(this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout),this.setState({showBadge:!0}))}componentWillUnmount(){this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout)}render(){var e;let i;let{isCloseup:t,carouselIndex:n,closeupHeight:a,closeupWidth:l=0,widthRatio:o=1,cropHeight:s,cropWidth:d,carouselData:c,disableTransition:g,highResOnly:_,lowResOnly:v,onError:S,onLoad:x,pinId:k,imageSignature:w,isEditMode:T,isDenseView:E,isThirdPartyAd:I}=this.props;if(!c)return null;if(o>1||o<0)throw Error("widthRatio should be between 0 and 1 inclusive");let{carouselSlots:A}=c,R=null!==(e=c.index)&&void 0!==e?e:0,C=void 0!==n?n:null!=R?R:0,F=!t&&d,{imageSizeMap:D}=A[C]||{};i=t?l:F||(_?474:E?u.Lo:u.yF);let L=Math.floor(i*o),j=(null==D?void 0:D["236x"])||{},O=s||j.height||0,K=d||j.width||236,N=a||O/K*L,M=f(A);return(0,y.jsxs)(r.xu,{alignItems:"center","data-test-id":"carousel-pin","data-test-image-signature":w,display:"flex",height:N,minHeight:h.Ml,overflow:"hidden",children:[!T&&this.renderBadge(),(0,y.jsx)(p.Z,{carouselData:{...c,type:"canonical"},impressionType:"Pin",loggingId:k,slotIndex:null!=R?R:0,trackCarousel:!0,viewParameter:72,viewType:1,children:(0,y.jsx)(r.xu,{height:N,overflow:"hidden",position:"absolute",width:L})},`carousel-impression-key-${C}`),(0,y.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{transition:g?"":"left .3s",left:(0,m.vF)(A.length,L,i,C)}},direction:"row",display:"flex",height:"100%",left:!0,position:"relative",width:L*A.length,children:A.map((e,n)=>{if(t){let t=n===A.length-1;return P({pinId:k,slot:e,slotIndex:n,onError:S,onLoad:x,widthToUse:L,gap:L<i&&!t?1:0},this.props.i18n)}return b(this.props.i18n,e,k,n,_,v,S,x,l,a,s,d,N,L,M,I)})})]})}}function x({pinKey:e,...i}){let n;let l=(0,c.ZP)(),r=(0,g.S6)(),u=r(i.pinId);n=null==e||"graphqlRef"===e.type?e:null!=u?{type:"deprecated",data:u}:null;let p=(0,s.Z)(v,n),{childDataKey__DEPRECATED:h}=(0,d.Q)(void 0!==a?a:a=t(76284),p,{useLegacyAdapter:e=>({})}),m=(0,o.Z)(h),_=m&&{...m,carouselSlots:function(e){let i=["236x","474x","564x","736x"].map(i=>{let t=Math.min(...e.map(e=>{var t,n;return(null===(t=e.imageSizeMap)||void 0===t?void 0:null===(n=t[i])||void 0===n?void 0:n.height)||1/0})),n=Math.min(...e.map(e=>{var t,n;return(null===(t=e.imageSizeMap)||void 0===t?void 0:null===(n=t[i])||void 0===n?void 0:n.width)||1/0}));return{imageKey:i,height:t,width:n}});return e.map(e=>i.reduce((e,{imageKey:i,height:t,width:n})=>{var a;return null!==(a=e.imageSizeMap)&&void 0!==a&&a[i]?{...e,imageSizeMap:{...e.imageSizeMap,[i]:{...e.imageSizeMap[i],height:t,width:n}}}:e},e))}(m.carouselSlots)};return(0,y.jsx)(S,{...i,carouselData:_,i18n:l,imageSignature:null==p?void 0:p.imageSignature})}_(S,"defaultProps",{showCarouselBadge:!0})},455024:(e,i,t)=>{t.d(i,{CU:()=>o,GH:()=>u,Iw:()=>d,gA:()=>c,tD:()=>s,vF:()=>p});let n=({index:e,numberOfSlides:i,slidesShownPerPosition:t})=>i-e-Math.floor(t)<1,a=({slidesShownPerPosition:e,slotAndGapWidth:i})=>{let t=e-parseInt(e,10);return i-t*i},l=({containerWidth:e,contentWidth:i,index:t,slotAndGapWidth:n})=>{let a=t-1,r=a*n;return i-r>=e?r:l({index:a,slotAndGapWidth:n,containerWidth:e,contentWidth:i})},r=({containerWidth:e,contentWidth:i,gap:t,index:n,slidesShownPerPosition:r,slotAndGapWidth:o})=>{let s=l({containerWidth:e,contentWidth:i,index:n,slotAndGapWidth:o}),d=a({slidesShownPerPosition:r,slotAndGapWidth:o});return s+d-t},o=({containerWidth:e,gap:i,index:t,numberOfSlides:a,slotWidth:l})=>{let o=l+i,s=o*a;if(s<=e)return 0;let d=e/o,u=n({index:t,numberOfSlides:a,slidesShownPerPosition:d}),c=u?r({containerWidth:e,contentWidth:s,gap:i,index:t,slidesShownPerPosition:d,slotAndGapWidth:o}):t*o;return c?Math.round(-c):0},s=({containerWidth:e,gap:i,index:t,numberOfSlides:n,slotWidth:a})=>{let l=a+i,r=l*n;if(0===e)return!1;if(r<=e)return!0;let s=o({containerWidth:e,gap:i,index:t,numberOfSlides:n,slotWidth:a}),d=r-e;return Math.abs(s)+i>=d},d=({containerWidth:e,currentIndex:i,gap:t,index:n,numberOfSlides:a,slotWidth:l})=>{let r=l+t,s=r*a;if(s<=e||0===e)return!0;let d=o({containerWidth:e,gap:t,index:i,numberOfSlides:a,slotWidth:l});return d+r*n<e+r},u=(e,i,t)=>e||`${i._('carousel image', 'Alternate text for a carousel image that indicates it is a carousel pin, with carousel index followed', 'Alternate text for a carousel image that indicates it is a carousel pin, with carousel index followed')} ${t}`,c=({highResOnly:e,lowResOnly:i,slot:t})=>{var n,a,l,r,o,s,d;let{images:u}=t;return i?`${null!==(r=null==u?void 0:null===(o=u["236x"])||void 0===o?void 0:o.url)&&void 0!==r?r:""} 1x`:e?`${null!==(s=null==u?void 0:null===(d=u["564x"])||void 0===d?void 0:d.url)&&void 0!==s?s:""} 1x`:[(null==u?void 0:u["474x"])&&`${null!==(n=u["474x"].url)&&void 0!==n?n:""} 2x`,(null==u?void 0:u["736x"])&&`${null!==(a=u["736x"].url)&&void 0!==a?a:""} 3x`,(null==u?void 0:u.orig)&&`${null!==(l=u.orig.url)&&void 0!==l?l:""} 4x`].filter(Boolean).join(", ")},p=(e,i,t,n,a=0)=>{if(t===i)return-(n*i*1);let l=i+a;return n===e-1?-1*n*l+Math.floor(t-i):-1*n*l}},865607:(e,i,t)=>{t.d(i,{O:()=>d,Z:()=>u});var n=t(667294),a=t(883119),l=t(898781),r=t(966113),o=t(785893);let s={xs:12,sm:16,md:20,lg:24};function d({children:e}){let i=(0,l.ZP)();return(0,o.jsx)(a.u,{link:(0,o.jsx)(a.rU,{href:r.vBy,target:"blank",children:(0,o.jsx)(a.xv,{color:"inverse",size:"100",weight:"bold",children:i._('Learn more', 'verifiedBadge.tooltip.link', 'Learn more about Pinterest\'s Merchant Guidelines')})}),text:i._('This retailer meets Pinterest\'s Merchant Guidelines', 'merchantVerification.badge.tooltip', 'Badge indicating that a merchant or user is verified'),children:e})}function u({iconOnly:e,isVerifiedIdentity:i,isVerifiedMerchant:t,showText:r,size:u}){let c=(0,l.ZP)(),p=(0,o.jsxs)(a.kC,{alignItems:"center",justifyContent:"start",children:[(0,o.jsx)(a.JO,{accessibilityLabel:c._('Merchant verification badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"shopping",icon:"workflow-status-ok",inline:!0,size:s[u]}),r&&(0,o.jsx)(a.xu,{marginStart:2,children:(0,o.jsx)(a.xv,{color:"shopping",inline:!0,weight:"bold",children:c._('Verified merchant', 'creator.header.verifiedMerchant', 'this merchant is a verified merchant')})})]});return(0,o.jsxs)(n.Fragment,{children:[t&&!e&&(0,o.jsx)(d,{children:p}),t&&e&&p,i&&!t&&(0,o.jsx)(a.JO,{accessibilityLabel:c._('Domain verification icon', 'domainVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"error",icon:"check-circle",size:s[u]})]})}},990823:(e,i,t)=>{t.d(i,{ZP:()=>s,tY:()=>c,Xt:()=>d,Yh:()=>u});var n=t(702664),a=t(773285),l=t(784590),r=t(19121);let o={SAVE_TO_PROFILE:0,SHOW_BOARD_PICKER:1};function s(e){var i,t;let n=(0,r.Z)(),o=n.isAuth&&n.id===e,{checkExperiment:s}=(0,a.F)(),d=(0,l.Z)(!n.isAuth||o?null:{name:"UserResource",options:{field_set_key:"quicksave",user_id:e}}),u=o&&n.has_quicksave_board||!!(n.isAuth&&null!==(i=(null!=d?d:{}).data)&&void 0!==i&&i.has_quicksave_board)||(o||n.isAuth)&&!n.has_quicksave_board&&!(null!==(t=(null!=d?d:{}).data)&&void 0!==t&&t.has_quicksave_board)&&s("profile_saves_for_all").anyEnabled;return{showEnabledSaveBehavior:u}}function d(e){var i;let t=(0,r.Z)(),n=t.isAuth&&t.id===e,a=(0,l.Z)(!t.isAuth||n?null:{name:"UserResource",options:{field_set_key:"quicksave",user_id:e}}),o=n&&t.has_quicksave_board||!!(t.isAuth&&null!==(i=(null!=a?a:{}).data)&&void 0!==i&&i.has_quicksave_board);return{boardlessPinsEnabled:o}}function u(e){var i;let t=(0,n.useDispatch)(),a=(0,r.Z)(),o=a.isAuth&&!!a.boardCount&&a.boardCount<5,s=o&&e,d=(0,l.Z)(s&&e?{name:"UserResource",options:{field_set_key:"save_behavior",user_id:a.isAuth&&a.id}}:null);return a.isAuth&&void 0===a.save_behavior&&d&&null!==(i=d.data)&&void 0!==i&&i.id&&t({type:"UPDATE_USER_SAVE_BEHAVIOR",payload:{saveBehavior:d.data.save_behavior}}),{showEnabledSaveBehavior:s}}function c(e){let i;let t=(0,r.Z)();return e&&(t.save_behavior===o.SAVE_TO_PROFILE?i={type:"classic"}:t.save_behavior===o.SHOW_BOARD_PICKER&&(i={type:"inline"})),{saveBehaviorType:i}}},436395:(e,i,t)=>{t.d(i,{Z:()=>l});var n=t(616550),a=t(784590);function l(){let{username:e}=(0,n.UO)();return(0,a.Z)(null==e?null:{name:"UserResource",options:{username:e,field_set_key:"profile"}})}},956800:(e,i,t)=>{function n(e){return{type:"FEED_ITEM_REORDERED",payload:e}}function a(e,i){return{type:"FEED_INVALIDATE",payload:{feedType:e,feedId:i}}}t.d(i,{EX:()=>r,N8:()=>a,Qv:()=>l,_f:()=>n,vX:()=>o});let l=(e,i,t=Object.freeze({}))=>({type:"APPEND_FEED_ITEMS",payload:{id:e,options:t,items:i}});function r(e){return{type:"FEED_ITEMS_REMOVED",payload:e}}function o(e){return{type:"FEED_ITEMS_ADDED",payload:e}}},447948:(e,i,t)=>{function n(e,i){return{type:"CHANGE_CAROUSEL_SLOT_INDEX",payload:{id:e,index:i}}}function a(e,i){return{type:"SET_PIN_COMMENTS_DISABLED",payload:{id:e,pinCommentsDisabled:i}}}function l(e){return{type:"PIN_SAVE",payload:e}}function r(e,i){return{type:"PIN_UNSAVE",payload:{id:e,nodeId:i}}}function o(e){return{type:"PIN_SHOW_SUGGESTED_CREATOR_RECS",payload:{id:e,value:!0}}}function s({id:e,text:i,undoAction:t,undoActionOptions:n,undoText:a}){return{type:"PIN_SHOW_UNDO_AND_FEEDBACK",payload:{id:e,value:!0,text:i,undoAction:t,undoActionOptions:n,undoText:a}}}function d(e){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!1}}}function u(e,i){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!0,text:i}}}function c(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!0}}}function p(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!1}}}function h(e){return{type:"PIN_SHOW_AD_REASONS_MODAL",payload:{id:e,value:!0}}}function m(e){return{payload:{id:e,value:!1},type:"PIN_SHOW_AD_REASONS_MODAL"}}t.d(i,{Gb:()=>r,I1:()=>d,Ib:()=>c,NA:()=>s,Ur:()=>l,Vw:()=>o,b9:()=>h,i0:()=>p,mO:()=>a,q1:()=>u,yR:()=>n,yj:()=>m})},483025:(e,i,t)=>{t.d(i,{Z:()=>l});var n=t(819063);let a={AggregatedCommentResource:n.rm,AggregatedCommentFeedResource:n.LR,AggregatedCommentReplyResource:n.rm,AggregatedCommentReplyFeedResource:n.LR,AggregatedActivityFeedResource:n.LR,BestPinsFeedAltResource:n.LR,BoardArchiveResource:n.LR,BoardContentRecommendationResource:n.LR,BoardFeedResource:n.LR,BoardFollowingResource:n.LR,BoardInviteResource:n.sf,BoardInvitesResource:n.Ht,BoardlessPinsResource:n.LR,BoardPickerBoardsResource:{all_boards:n.LR,boards_shortlist:n.LR},BoardSectionEditResource:n._F,BoardSectionsRepinResource:n.LR,BoardSectionsResource:n.LR,BoardsFeedResource:n.LR,BoardResource:n.IY,BoardSectionResource:n._F,BoardSectionPinsResource:n.LR,BoardToolsFeedResource:n.LR,ContactRequestsResource:n.LR,ConversationsResource:n.LR,ConversationMessagesResource:n.dq,DidItCommentsResource:n.LR,DidItLikedByResource:n.Gn,DidItUserFeedResource:n.LR,HolidaySpotlightResource:n.LR,InterestFollowingResource:n.LR,InterestResource:n.cC,MoreIdeasTabsBoardsResource:n.LR,NewsHubResource:n.LR,NewsHubDetailsResource:n.LR,NewsHubSummaryResource:n.t6,NuxInterestsResource:n.LR,NuxTopicToCreatorsResource:n.Gn,PinResource:n.Cj,PinCatalogResource:n.LR,PinsFromBrandResource:n.LR,ReactionsResource:n.fE,RelatedArticlesResource:n.LR,RelatedInterestsResource:n.LR,RelatedModulesResource:n.LR,RelatedPinFeedResource:n.LR,RelatedProductFeedResource:n.LR,RelatedStreamResource:n.LR,RepinResource:n.Cj,BaseSearchResource:{results:n.LR},SearchResource:n.LR,SectionToolsFeedResource:n.LR,ShareSuggestionsTypeaheadResource:{items:n.LR},ShoppingFeedModularizedResource:n.LR,StoryFeedResource:n.LR,StoryPinTaggedProductsResource:n.LR,SuggestedCreatorFollowsResource:n.Gn,TodayArticleFeedResource:n.LR,IdeasHubTodayArticlesResource:n.LR,TodayArticleResource:n.iF,TodayTabInterestFeedResource:n.LR,TodayTabResource:n.LR,TopicFeedResource:n.LR,UnifiedCommentsResource:n.LR,UserActivityPinsResource:n.LR,UserFollowingResource:n.LR,UserRecentActivityResource:n.LR,UserHomefeedResource:n.LR,UserPinsResource:n.LR,UserSettingsResource:n.EA,UserStoryPinsFeedResource:n.LR,UserResource:n.EA,VideosFeedResource:n.LR,VisualLiveSearchResource:{results:n.LR},VisualLiveSearchProductFeedResource:n.LR,VisualSearchFlashlightUnifiedResource:n.LR,SeoTier1CandidateResource:n.LR},l=a},819063:(e,i,t)=>{t.d(i,{Cj:()=>d,EA:()=>l,Gn:()=>w,Ht:()=>k,IY:()=>s,LR:()=>E,_F:()=>p,cC:()=>f,dq:()=>m,fE:()=>c,iF:()=>v,rm:()=>r,sN:()=>T,sf:()=>b,t6:()=>x});var n=t(782677);let a=Object.freeze({aggregatedComment:"aggregatedComments",article:"articles",board:"boards",boardsection:"boardsections",contactrequest:"contactrequests",conversation:"conversations",conversationMessage:"conversationMessages",inbox:"inbox",notification:"notifications",pin:"pins",reaction:"reactions",story:"stories",todayArticle:"todayArticles",topic:"topics",triedit:"triedits",user:"users",invite:"collaboratorinvite"}),l=new n.fK.Entity(a.user),r=new n.fK.Entity(a.aggregatedComment,{user:l,tagged_users:[l]}),o=new n.fK.Entity(a.article),s=new n.fK.Entity(a.board),d=new n.fK.Entity(a.pin),u=new n.fK.Entity(a.reaction),c=new n.fK.Array(u),p=new n.fK.Entity(a.boardsection),h=new n.fK.Entity(a.conversationMessage,{sender:l,users:[l],board:s,pin:d,user:l}),m=new n.fK.Array(h),g=new n.fK.Entity(a.contactrequest),y=new n.fK.Entity(a.story),_=new n.fK.Entity(a.triedit),v=new n.fK.Entity(a.todayArticle,{article_creator_user:l,content_pin:d,content_pin_official_user:l,video_pin:d}),f=new n.fK.Entity(a.topic,{},{processStrategy:e=>({...e,slug:e.slug?e.slug:e.url_name?e.url_name.includes(":")?e.url_name.split(":")[1]:e.url_name:""})}),b=new n.fK.Entity(a.invite,{invited_by_user:l,invited_user:l,board:s},{idAttribute:e=>`${e.board.id}:${e.invited_user.id}`}),P=e=>{switch(e.type){case"aggregatedcomment":return"aggregatedComment";case"conversationMessage":return"conversationMessage";case"explorearticle":return"article";case"news":return"notification";case"interest":case"klp_featured_data":return"topic";case"userdiditdata":return"triedit";case"board_section":return"boardsection";case"todayarticle":return"todayArticle";default:return e.type}},S=new n.fK.Union({user:l,board:s,invite:b,pin:d,topic:f,triedit:_},P),x=new n.fK.Entity(a.notification,{content_items:[{content_object:S}],header_icon_objects:[S]}),k=new n.fK.Array(b),w=new n.fK.Array(l),T=new n.fK.Array(s),E=new n.fK.Array({aggregatedComment:r,article:o,board:s,boardsection:p,contactrequest:g,conversationMessage:h,notification:x,pin:d,story:y,todayArticle:v,topic:f,triedit:_,user:l},P,e=>{switch(e.type){case"collaboratorinvite":return e.board.id;case"category":return"key";default:return"id"}});y.define({objects:E})},492583:(e,i,t)=>{t.d(i,{Z:()=>n});let n={AGGREGATED_COMMENTS:"aggregatedComments",AGGREGATED_COMMENT_REPLIES:"aggregated-comment-replies",BOARDFEED:"boardfeed",BOARDLESS_PINS:"boardless-pins",BOARD_SECTIONS:"board-sections",BOARD_SECTION_PINS:"board-section-pins",STORY_PINS_FEED:"story-pins-feed",PROFILE_PINS_FEED:"profile-pins-feed",PROFILE_BOARDS:"profileBoards",SEARCH_PINS:"searchPins",STORY_PIN_DATA:"storyPinData",TODAY_ARTICLE_INTEREST_FEED:"todayArticleInterestFeed",TODAY_TAB:"todayTabFeed",UNIFIED_COMMENTS:"unified-comments",TRIED_IT_FEED:"trieditfeed"}},852025:(e,i,t)=>{t.d(i,{k:()=>l,s:()=>r});var n=t(667294);let a=(0,n.createContext)(Object.freeze({})),l=a.Provider;function r(){return(0,n.useContext)(a)}},596493:(e,i,t)=>{t.d(i,{Ac:()=>l,c7:()=>a,cg:()=>n});let n=-1,a=5,l=6},539766:(e,i,t)=>{t.d(i,{P:()=>h,Z:()=>g});var n=t(667294),a=t(293041),l=t(883119),r=t(366284),o=t(898781),s=t(391254),d=t(780280),u=t(50286),c=t(785893);function p(e,i,t){var n;return(i="symbol"==typeof(n=function(e,i){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,i||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(i,"string"))?n:String(n))in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}let h=`
  video::cue {
    color: white;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen-Sans, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', Ubuntu, Cantarell, 'Fira Sans', 'Droid Sans', 'Helvetica Neue', Helvetica, ' Pro W3', '', Meiryo, ' ', Arial, sans-serif;
    font-weight: 450;
    font-size: 18px;
  }
`;class m extends n.PureComponent{constructor(...e){super(...e),p(this,"state",{videoStartTime:0}),p(this,"setVideoPlayerRef",e=>{let{setVideoRef:i,handlePlay:t,autoplay:n=!0}=this.props;this.videoPlayerRef=e,e&&i&&i(e.video),this.videoPlayerRef&&this.videoPlayerRef.video&&t&&n&&this.videoPlayerRef.video.addEventListener("canplay",()=>{t({userTriggeredPlay:!1})})}),p(this,"hls",null),p(this,"initializeHls",()=>{this.destroyHls();let{src:e}=this.props,i=new a.ZP;a.ZP.isSupported()&&!(0,r.G6)(this.props.requestContext.userAgent.browserName)&&(i.loadSource(e),this.videoPlayerRef&&i.attachMedia(this.videoPlayerRef.video)),this.hls=i}),p(this,"destroyHls",()=>{let{hls:e}=this;e&&e.destroy()}),p(this,"onPlay",({event:e})=>{let{handlePlay:i}=this.props;e.stopPropagation(),i&&i({userTriggeredPlay:!0})}),p(this,"onPause",({event:e})=>{let{handlePause:i}=this.props;e.stopPropagation(),i&&i()}),p(this,"handleVolumeChange",({event:e,volume:i})=>{let{onVolumeChange:t}=this.props;e.stopPropagation(),t&&t({volume:i})}),p(this,"handleOnReady",e=>{this.props.onReady&&this.props.onReady(e)}),p(this,"handleEnded",()=>{let{onEnded:e}=this.props;e&&e()}),p(this,"handlePlaying",()=>{let{clearSeekTime:e}=this.props;e&&e()})}componentDidMount(){this.initializeHls()}componentWillUnmount(){this.destroyHls()}componentDidUpdate(e){var i,t;let{activeStreamItemIndex:n,playing:l,src:r,seekTime:o,captionsEnabled:s,isDesktop:d,isTablet:u,requestContext:c,isVideoPin:p}=this.props,{isAuthenticated:h}=c;o&&o!==e.seekTime&&this.setState({videoStartTime:o});let m=null===(i=this.videoPlayerRef)||void 0===i?void 0:null===(t=i.video)||void 0===t?void 0:t.textTracks[0];m&&(s?m.mode="showing":m.mode="disabled",m.addEventListener("cuechange",()=>{let e=m.activeCues&&m.activeCues.length>0&&m.activeCues[0];e&&e.line&&(d?(e.line=-6,e.size=88):(h?e.line=-8:(e.line=-10,u&&(e.line=-15)),e.size=70),p&&(e.line=-5))})),n!==e.activeStreamItemIndex&&this.videoPlayerRef&&this.videoPlayerRef.video&&(this.videoPlayerRef.video.currentTime=0),e.src!==r&&(this.initializeHls(),this.hls&&this.hls.on(a.ZP.Events.MANIFEST_PARSED,()=>{void 0!==l&&l&&this.videoPlayerRef&&this.videoPlayerRef.play()}))}render(){let{aspectRatio:e,controls:i,loop:t=!1,poster:n,src:a,onTimeChange:r,playing:o,volume:d,captions:u}=this.props;return(0,c.jsxs)(l.xu,{width:"100%",children:[(0,c.jsx)(s.Z,{unsafeCSS:h}),(0,c.jsx)(l.nk,{ref:this.setVideoPlayerRef,aspectRatio:e,autoplay:o,captions:u,controls:i,loop:t,onControlsPause:this.onPause,onControlsPlay:this.onPlay,onEnded:this.handleEnded,onPlay:()=>{},onPlayError:()=>{},onPlaying:this.handlePlaying,onReady:this.handleOnReady,onTimeChange:r,onVolumeChange:this.handleVolumeChange,playing:o,playsInline:!0,poster:n,src:a,startTime:this.state.videoStartTime||void 0,volume:d})]})}}function g(e){let{clearSeekTime:i,pinId:t="",seekTime:n}=e,a=(0,o.ZP)(),l=(0,d.B)(),r=(0,u.HG)(),s=(0,u.Wb)();return(0,c.jsx)(m,{...e,clearSeekTime:()=>{i&&i(t)},i18n:a,isDesktop:r,isTablet:s,requestContext:l,seekTime:n})}},116674:(e,i,t)=>{t.d(i,{X:()=>u,f:()=>d});var n=t(667294),a=t(425288),l=t(623568);function r(e=null,i){switch(i.type){case"REPORT_CONTENT_SHOW":return{id:i.payload.id,isProduct:i.payload.isProduct,isPromoted:i.payload.isPromoted,parentId:i.payload.parentId,videoDuration:i.payload.videoDuration,viewParameter:i.payload.viewParameter,viewType:i.payload.viewType,type:i.payload.type,isThirdPartyAd:i.payload.isThirdPartyAd};case"REPORT_CONTENT_DISMISS":return null;default:return e}}var o=t(785893);let{Provider:s,useHook:d}=(0,a.Z)("ReportData");function u({children:e}){let[i,t]=(0,n.useReducer)(r,null),a=(0,n.useCallback)(()=>t({type:"REPORT_CONTENT_DISMISS"}),[]),d=(0,n.useCallback)((e,i,n)=>t({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,parentId:i,videoDuration:null,viewParameter:null,viewType:null,type:n}}),[]),u=(0,n.useCallback)((e,i,n)=>t({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:i,viewType:n,type:"conversation"}}),[]),c=(0,n.useCallback)((e,i,n)=>t({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:i,viewType:n,type:"pin"}}),[]),p=(0,n.useCallback)(({pinId:e,isDownstreamPromotion:i,hasPromoter:n,firstVideoDuration:a,isProduct:r,viewParameter:o,viewType:s,isThirdPartyAd:d})=>{let u=(0,l.jL)(i,n);t({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:r,isPromoted:u,videoDuration:a,viewParameter:o,viewType:s,type:"pin",isThirdPartyAd:d}})},[]),h=(0,n.useMemo)(()=>({reportData:i,dismiss:a,reportComment:d,reportConversation:u,reportImage:c,reportPin:p}),[i,a,d,u,c,p]);return(0,o.jsx)(s,{value:h,children:e})}},152028:(e,i,t)=>{t.d(i,{Z:()=>o});var n=t(883119),a=t(81226),l=t(898781),r=t(785893);function o({duration:e}){let i=(0,l.ZP)();return(0,r.jsxs)(n.xu,{alignItems:"center",color:"transparentDarkGray",display:"flex",height:24,justifyContent:"center",paddingX:2,rounding:"pill",children:[(0,r.jsx)(n.JO,{accessibilityLabel:i._('Video camera icon', 'Video camera indicator icon for a Pin', 'Video camera indicator icon for a Pin'),color:"light",icon:"video-camera"}),(0,r.jsx)(n.xu,{marginStart:1,children:(0,r.jsx)(n.xv,{color:"inverse",lineClamp:1,size:"100",children:(0,a.Z)(e)})})]})}},926749:(e,i,t)=>{t.d(i,{ZP:()=>x});var n=t(667294),a=t(883119),l=t(407043),r=t(766935),o=t(722767),s=t(773285),d=t(121630),u=t(944546),c=t(158103),p=t(785893);function h(e,i,t){var n;return(i="symbol"==typeof(n=function(e,i){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,i||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(i,"string"))?n:String(n))in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}let m=[0,.25,.5,.75,.95,.97],g=[0,.5,.8,.99,1],y="-64px 0px 0px 0px",_={rootMargin:y,threshold:g},v={rootMargin:y,threshold:u.iM},f=Object.freeze({LOADING:0,PLAYING:1,PAUSED:2,STALLING:3});function b(){return new Date().getTime()}function P(e){return!!e.volume&&e.volume>0}class S extends n.Component{constructor(e){super(e),h(this,"videoWrapperRef",(0,n.createRef)()),h(this,"handleWindowResize",()=>{if(!this.fullscreen){let e=this.getDimensions(),{height:i,width:t}=this.currentInterval;e.height!==i||e.width!==t?this.startNewInterval(e):(this.currentInterval.windowHeight=e.windowHeight,this.currentInterval.windowWidth=e.windowWidth)}}),h(this,"handlePlayheadDown",({event:e})=>{let{onPlayheadDown:i}=this.props;this.setState({seeking:!0}),i&&i({event:e})}),h(this,"handlePlayheadUp",({event:e})=>{let{onPlayheadUp:i}=this.props;this.setState({seeking:!1}),i&&i({event:e})}),h(this,"handleLoop",()=>{this.videoTime=0}),h(this,"handlePlaying",e=>{this.logVideoStart(),this.props.onPlaying&&this.props.onPlaying(e)}),h(this,"handleTimeChange",e=>{let{seeking:i,ready:t}=this.state;if(!this.currentInterval.videoDuration)return;let n=1e3*e.time,a=function(e,i,t,n){if(e>i||t<=0)return null;for(let a of n){let n=a*t;if(e<=n&&i>n)return a}return null}(this.videoTime,n,this.currentInterval.videoDuration,m);if("number"==typeof a&&this.props.playing&&!i&&t){let e=b();this.logVideoEvent(6906,{...this.currentInterval,startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:Math.floor(4*a),quartilePercentValue:a})}this.videoTime=n,this.props.onTimeChange&&this.props.onTimeChange(e)}),h(this,"handleDurationChange",e=>{this.currentInterval.videoDuration=1e3*e.duration,this.props.onDurationChange&&this.props.onDurationChange(e)}),h(this,"handleReady",e=>{let{ready:i}=this.state;i||this.setState({ready:!0}),this.props.onReady&&this.props.onReady(e)}),h(this,"handleEnded",e=>{this.logFourthQuartileEvent(),this.props.loop&&(this.startNewInterval(),this.currentInterval.videoStartTime=0),this.props.onEnded&&this.props.onEnded(e)}),h(this,"handleVisibilityChange",e=>{if(0===e.length)return;let i=e.slice(-1)[0],t=function(e,i){for(let t=0;t<i.length;t+=1){let n=i[t],a=i[t+1];if(null==a||n<=e&&e<a)return n}return null}(Number.parseFloat(i.intersectionRatio.toFixed(2)),g);"number"==typeof t&&(this.visible=t>=.5),null==t||t===this.currentInterval.viewability||this.fullscreen||(0===t?this.startNewInterval({viewability:t,playbackState:f.PAUSED}):this.startNewInterval({viewability:t}))}),h(this,"handleFullscreenChange",({event:e,fullscreen:i})=>{if(i){let{height:e,width:i}=window.screen;this.startNewInterval({height:e,width:i,windowHeight:e,windowWidth:i})}else i||this.startNewInterval(this.getDimensions());this.fullscreen=i,this.props.onFullscreenChange&&this.props.onFullscreenChange({event:e,fullscreen:i})}),h(this,"handleClose",()=>{this.startNewInterval()}),h(this,"handleContextMenu",e=>{e.preventDefault()}),this.state={ready:!1,seeking:!1,started:!1};let i=b();this.handleWindowResize=(0,r.Z)(this.handleWindowResize,1e3),this.currentInterval={videoDuration:0,startTime:i,endTime:i,videoStartTime:0,videoEndTime:0,isAudible:P(e),playbackState:this.getPlaybackState(e,this.state),quartile:-1,quartilePercentValue:0,height:null,width:null,windowHeight:null,windowWidth:null,viewability:null},this.videoTime=0,this.fullscreen=!1,this.visible=null}componentDidMount(){this.currentInterval={...this.currentInterval,...this.getDimensions()},window.addEventListener("resize",this.handleWindowResize),window.addEventListener("beforeunload",this.handleClose)}componentDidUpdate(e,i){let t={};P(e)&&!P(this.props)?t.isAudible=!1:!P(e)&&P(this.props)&&(t.isAudible=!0);let n=this.getPlaybackState(this.props,this.state);this.getPlaybackState(e,i)!==n&&(t.playbackState=n),Object.keys(t).length>0&&this.startNewInterval(t)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),window.removeEventListener("beforeunload",this.handleClose),this.startNewInterval()}getPlaybackState(e,i){return i.ready?e.playing&&!i.seeking?f.PLAYING:f.PAUSED:f.LOADING}getDimensions(){let e,i;if(this.videoWrapperRef.current){let t=this.videoWrapperRef.current;t.clientHeight&&t.clientWidth&&(e=t.clientHeight,i=t.clientWidth)}return{height:e,width:i,windowHeight:window.innerHeight,windowWidth:window.innerWidth}}logVideoEvent(e,i){let{closeupStoryPinViewability:t,contextLogData:n,logContextEvent:a,playing:l,surface:r}=this.props,{seeking:o}=this.state,{height:s,width:d,windowHeight:u,windowWidth:c,viewability:p,...h}=i;if(null!=s&&null!=d&&null!=u&&null!=c&&null!=p){let i={...h,gridAutoplay:6904===e&&l&&!o&&("AuthHomefeed"===r||"SearchItem"===r||"RelatedPinGrid"===r),height:s,width:d,windowHeight:u,windowWidth:c,viewability:t||p};a({event_type:e,...function(e){let{eventData:{videoEvent:{gridAutoplay:i,videoDuration:t,startTime:n,endTime:a,videoStartTime:l,videoEndTime:r,isAudible:o,height:s,width:d,playbackState:u,quartile:c,quartilePercentValue:p,windowHeight:h,windowWidth:m,viewability:g}},component:y,objectId:_,view:v,viewParameter:f,...b}=e;return{component:y,object_id_str:_,view_type:v,view_parameter:f,aux_data:{...b},event_data:{videoEventData:{gridAutoplay:i,videoDuration:t,time:n,endTime:a,videoTime:l,endVideoTime:r,isAudible:o,height:s,width:d,playbackState:u,quartile:c,quartilePercentValue:p,windowHeight:h,windowWidth:m,viewability:g}}}}({...n,view:this.fullscreen?108:n.view,eventData:{videoEvent:i}})})}}logFourthQuartileEvent(){let e=b();this.logVideoEvent(6906,{...this.currentInterval,startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:4,quartilePercentValue:1})}logVideoStart(){if(this.props.shouldLogVideoStart&&!this.state.started){let e=b();this.logVideoEvent(3621,{...this.currentInterval,startTime:e,endTime:e,videoEndTime:this.videoTime}),this.setState({started:!0})}}startNewInterval(e){let i=b();this.logVideoEvent(6904,{...this.currentInterval,endTime:i,videoEndTime:this.videoTime}),this.currentInterval={...this.currentInterval,...e,startTime:i,videoStartTime:this.videoTime,endTime:-1,videoEndTime:-1}}render(){let{aspectRatio:e,backgroundColor:i,captions:t,contextLogData:n,controls:l,cropHeight:r,hlsConfig:s,inAdsDesktopVideoExperiment:u,isAutoPlay:h,loop:m,objectFit:g,onLoadedChange:y,onControlsPause:f,onControlsPlay:b,onSeek:P,onVolumeChange:S,playbackRate:x,playing:k,playsInline:w,poster:T,preload:E,rootMargin:I,src:A,surface:R,videoStartTime:C,volume:F}=this.props,{seeking:D}=this.state,L=u?v:_;return void 0!==I&&(L.rootMargin=R?(0,d.e)(R):I),(0,p.jsx)(o.Z,{onVisibilityChange:this.handleVisibilityChange,options:L,children:(0,p.jsx)(a.xu,{ref:this.videoWrapperRef,dangerouslySetInlineStyle:{__style:r?{display:"flex",alignItems:"center",height:`${r}px`}:{}},onContextMenu:this.handleContextMenu,children:(0,p.jsx)(c.default,{aspectRatio:r?236/r:e,backgroundColor:i,captions:t,contextLogData:n,controls:l,hlsConfig:s,isAutoPlay:h,loop:m,objectFit:g,onControlsPause:f,onControlsPlay:b,onDurationChange:this.handleDurationChange,onEnded:this.handleEnded,onFullscreenChange:this.handleFullscreenChange,onLoadedChange:y,onLoop:this.handleLoop,onPlay:()=>{},onPlayError:()=>{},onPlayheadDown:this.handlePlayheadDown,onPlayheadUp:this.handlePlayheadUp,onPlaying:this.handlePlaying,onReady:this.handleReady,onSeek:P,onTimeChange:this.handleTimeChange,onVolumeChange:S,playbackRate:x,playing:!D&&k,playsInline:w,poster:T,preload:E,src:A,videoStartTime:C,visible:this.visible,volume:F})})})}}function x(e){let{logContextEvent:i}=(0,l.v)(),{checkExperiment:t}=(0,s.F)(),n=t("web_video_start_log").anyEnabled;return(0,p.jsx)(S,{...e,logContextEvent:i,shouldLogVideoStart:n})}h(S,"defaultProps",a.nk.defaultProps)},158103:(e,i,t)=>{t.r(i),t.d(i,{VideoWrapper:()=>w,default:()=>T,getPlaylistSourceSrc:()=>k});var n=t(667294),a=t(883119),l=t(366284),r=t(780280),o=t(858416),s=t(562559),d=t(994320),u=t(965900),c=t(407043),p=t(391254),h=t(773285),m=t(19121),g=t(969315),y=t(179888),_=t(539766),v=t(785893);function f(e,i,t){var n;return(i="symbol"==typeof(n=function(e,i){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,i||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(i,"string"))?n:String(n))in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}function b(e,i){if(!e||void 0===e)return"undefined";if("string"==typeof e){let t=e;return i&&(t=e.replace("v1.pinimg.com","control"===i?"v3.pinimg.com":"v2.pinimg.com")),t}if(Array.isArray(e)&&e[0].src){let t=e[0].src;return i&&(t=t.replace("v1.pinimg.com","control"===i?"v3.pinimg.com":"v2.pinimg.com")),t}return`unsupported_type_${typeof e}`}class P extends n.Component{constructor(...e){super(...e),f(this,"state",{canPlayVideo:!1,playbackState:y.Cy.DEFAULT,videoStartTime:this.props.seekTime?this.props.seekTime:this.props.videoStartTime||0}),f(this,"errorRetryCount",2),f(this,"hasSegmentStarted",!1),f(this,"hasPlaybackStarted",!1),f(this,"hasVideoSessionStarted",!1),f(this,"hasVideoSessionEnded",!1),f(this,"lastStallTime",null),f(this,"lastPauseTime",null),f(this,"logSessionStartOnNextPlay",!1),f(this,"playerId",""),f(this,"videoSessionId",""),f(this,"videoVisibleTime",null),f(this,"playbackPerformance",{canPlayTime:null,detailedErrors:"",errorCode:0,errorName:"",errorReason:"",hasFatalError:!1,loadStartTime:null,numberOfStalls:0,numberOfSeeks:0,playbackStartTimestamp:null,segments:[],srcString:b(this.props.src,this.props.quicExpGroup),totalStallDurationMs:0,totalPauseDurationMs:0}),f(this,"componentDidMount",()=>{var e,i;let{contextLogData:t={},playing:n}=this.props,{is_closeup_video:a=!1}=t;(0,g.tE)("videoMounted",!1,a),n&&(this.videoVisibleTime=new Date,this.logPlaybackPerformance(y.DR,{initiator:"mount"}));let l=null===(e=this.videoPlayerRef)||void 0===e?void 0:null===(i=e.video)||void 0===i?void 0:i.textTracks[0];l&&l.addEventListener("cuechange",()=>{let e=l.activeCues[0];e&&e.line&&(e.line=-6,e.size=88)})}),f(this,"componentDidUpdate",e=>{var i,t;let{playing:n,visible:a,appInFocus:l,seekTime:r,captionsEnabled:o}=this.props;r&&r!==e.seekTime&&this.setState({videoStartTime:r});let s=null===(i=this.videoPlayerRef)||void 0===i?void 0:null===(t=i.video)||void 0===t?void 0:t.textTracks[0];s&&(o?s.mode="showing":s.mode="disabled"),e.appInFocus&&!l&&(this.logPlaybackPerformance(y.$f,{initiator:"update"}),this.logSessionStartOnNextPlay=!0),e.visible&&!1===a&&(this.logSessionStartOnNextPlay=!1,this.updatePauseDuration(),this.logPlaybackPerformance(y.$f,{initiator:"update"})),!1===e.visible&&!0===a&&(this.videoVisibleTime=this.videoVisibleTime||new Date,n?(this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.logPlaybackPerformance(y.DR,{initiator:"update"})):this.logSessionStartOnNextPlay=!0),n&&l&&this.logSessionStartOnNextPlay&&(this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.logPlaybackPerformance(y.DR,{initiator:"update"}),this.logSessionStartOnNextPlay=!1)}),f(this,"addSegment",()=>{let{canPlayTime:e,loadStartTime:i,segments:t,srcString:n}=this.playbackPerformance,a=-1;e&&i&&0===t.length&&(a=e>i?e-i:0);let l=this.videoPlayerRef&&this.videoPlayerRef.video,r={indicatedKbps:-1,duration:l&&l.duration*y.gJ||-1,lastStartPlayTime:null,level:-1,numServerAddressChange:-1,observedKbps:-1,playbackStartDate:null,serverAddress:"",sourceWidth:-1,sourceHeight:-1,startupTimeMs:a,switchBitrateKbps:-1,uri:n,viewportWidth:l&&l.clientWidth||-1,viewportHeight:l&&l.clientHeight||-1,watchedDurationMs:0};t.push(r)}),f(this,"getCurrentVideoTime",()=>this.videoPlayerRef&&this.videoPlayerRef.video?this.videoPlayerRef.video.currentTime*y.gJ:0),f(this,"getVideoResourceTiming",()=>{var e,i;if(null!==(e=window)&&void 0!==e&&null!==(i=e.performance)&&void 0!==i&&i.getEntriesByName&&this.playbackPerformance.srcString){let e=window.performance.getEntriesByName(this.playbackPerformance.srcString);return e.length>0&&e[0]||null}return null}),f(this,"handleCanPlayVideo",e=>{let{contextLogData:i={},onReady:t,playing:n}=this.props,{is_closeup_video:a=!1}=i,{canPlayVideo:l}=this.state;(0,g.tE)("handleCanPlayVideo",!1,a,{firstCanPlayEvent:!l,playing:n}),this.playbackPerformance.hasFatalError=!1,l||(this.playbackPerformance.canPlayTime=new Date),this.setState({canPlayVideo:!0}),t&&t(e)}),f(this,"handleEnded",e=>{let{loop:i,onEnded:t}=this.props,{segments:n}=this.playbackPerformance,a=n&&n[n.length-1];i&&this.videoPlayerRef&&this.videoPlayerRef.video?(this.updateWatchDurationForCurrentSegment(),a&&(a.lastStartPlayTime=0),this.hasSegmentStarted=!1):i||this.logPlaybackPerformance(y.$f,{initiator:"videoEnded",loop:i}),this.setState({playbackState:y.Cy.ENDED}),t&&t(e)}),f(this,"handleError",()=>{var e,i,t,n,a,l,r,o;let{contextLogData:s={}}=this.props,{is_closeup_video:d=!1}=s,u=this.videoPlayerRef&&this.videoPlayerRef.video;(null==u?void 0:null===(e=u.error)||void 0===e?void 0:e.code)!==y.lG.MEDIA_ERR_ABORTED&&(this.playbackPerformance.hasFatalError=!0),this.playbackPerformance.detailedErrors+=`${this.playbackPerformance.detailedErrors.length>0?", ":""}${(null==u?void 0:null===(i=u.error)||void 0===i?void 0:i.message)||""}`,this.playbackPerformance.errorCode=(null==u?void 0:null===(t=u.error)||void 0===t?void 0:t.code)||0,this.playbackPerformance.errorName=(null==u?void 0:null===(n=u.error)||void 0===n?void 0:null===(a=n.message)||void 0===a?void 0:a.slice(0,100))||"unknown",this.playbackPerformance.errorReason=(null==u?void 0:null===(l=u.error)||void 0===l?void 0:null===(r=l.message)||void 0===r?void 0:r.slice(0,100))||"unknown";let c={errorName:this.playbackPerformance.errorCode,errorReason:this.playbackPerformance.errorName,errorRetryCount:this.errorRetryCount,playbackState:this.state.playbackState,networkState:(null==u?void 0:u.networkState)||"unknown"};switch((0,g.tE)("fatalError",!1,d,c),null==u?void 0:null===(o=u.error)||void 0===o?void 0:o.code){case y.lG.MEDIA_ERR_ABORTED:break;case y.lG.MEDIA_ERR_NETWORK:case y.lG.MEDIA_ERR_DECODE:case y.lG.MEDIA_ERR_SRC_NOT_SUPPORTED:default:this.errorRetryCount>0&&(null==u||u.load(),this.errorRetryCount-=1)}this.updateWatchDurationForCurrentSegment(),this.setState({playbackState:y.Cy.FAILED})}),f(this,"handleLoadedMetadata",()=>{this.setState({playbackState:y.Cy.LOADED_METADATA})}),f(this,"handleLoadStart",()=>{this.playbackPerformance.loadStartTime=new Date,this.setState({playbackState:y.Cy.LOAD_START})}),f(this,"handleLoadedData",()=>{this.setState({playbackState:y.Cy.LOADED_DATA})}),f(this,"handlePlaying",e=>{this.playbackPerformance.hasFatalError=!1,this.setPlaybackStartTime(),this.hasSegmentStarted||this.addSegment(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.updateStallDuration(),this.updatePauseDuration(),this.setState({playbackState:y.Cy.PLAYING}),this.props.clearSeekTime&&this.props.clearSeekTime(),this.props.onPlaying&&this.props.onPlaying(e)}),f(this,"handleUserPause",({event:e})=>{let{onControlsPause:i}=this.props;this.lastPauseTime=new Date,i&&i({event:e})}),f(this,"handleVideoPause",()=>{this.state.playbackState===y.Cy.STALLING||this.state.playbackState===y.Cy.SEEKING||(this.updateWatchDurationForCurrentSegment(),this.lastPauseTime||this.updateStallDuration()),this.setState({playbackState:y.Cy.PAUSED})}),f(this,"handleSeeking",()=>{this.playbackPerformance.numberOfSeeks+=1;let{segments:e}=this.playbackPerformance,i=e&&e[e.length-1];i&&(i.lastStartPlayTime=null),this.state.playbackState!==y.Cy.ENDED&&this.setState({playbackState:y.Cy.SEEKING})}),f(this,"handleStalled",()=>{null===this.lastStallTime&&this.state.playbackState!==y.Cy.ENDED&&(this.lastStallTime=new Date,this.playbackPerformance.numberOfStalls+=1,this.setState({playbackState:y.Cy.STALLING}))}),f(this,"handleTimeUpdate",e=>{let{onTimeChange:i}=this.props;i&&i(e),this.state.playbackState===y.Cy.PLAYING&&(this.updateWatchDurationForCurrentSegment(),this.setLastSegmentStartPlayTime())}),f(this,"resetPlaybackMetrics",()=>{this.hasSegmentStarted=!0,this.hasPlaybackStarted=!1,this.hasVideoSessionStarted=!1,this.hasVideoSessionEnded=!0,this.lastStallTime=null,this.lastPauseTime=null,this.videoSessionId="",this.videoVisibleTime=null,this.logSessionStartOnNextPlay=!1;let e=this.playbackPerformance.segments[this.playbackPerformance.segments.length-1],i={...e,lastStartPlayTime:null,playbackStartDate:null,watchedDurationMs:0};this.playbackPerformance.detailedErrors="",this.playbackPerformance.errorCode=0,this.playbackPerformance.errorName="",this.playbackPerformance.errorReason="",this.playbackPerformance.hasFatalError=!1,this.playbackPerformance.numberOfStalls=0,this.playbackPerformance.numberOfSeeks=0,this.playbackPerformance.playbackStartTimestamp=null,this.playbackPerformance.totalStallDurationMs=0,this.playbackPerformance.segments=[i]}),f(this,"setLastSegmentStartPlayTime",()=>{let{segments:e}=this.playbackPerformance,i=e&&e[e.length-1];i&&null===i.lastStartPlayTime&&(i.lastStartPlayTime=this.getCurrentVideoTime())}),f(this,"setLastSegmentPlaybackStartDate",()=>{let{segments:e}=this.playbackPerformance,i=e&&e[e.length-1];i&&null===i.playbackStartDate&&(i.playbackStartDate=Date.now())}),f(this,"setPlaybackStartTime",()=>{this.hasPlaybackStarted||(this.playbackPerformance.playbackStartTimestamp=Date.now(),this.hasPlaybackStarted=!0)}),f(this,"setVideoPlayerRef",e=>{let{setVideoRef:i}=this.props;if(e&&(i&&i(e),this.videoPlayerRef=e,this.videoPlayerRef.video)){let e=this.videoPlayerRef.video;e.addEventListener("loadedmetadata",this.handleLoadedMetadata),e.addEventListener("loadeddata",this.handleLoadedData),e.addEventListener("pause",this.handleVideoPause),e.readyState>=3&&(this.setState({canPlayVideo:!0}),this.playbackPerformance.canPlayTime=new Date)}}),f(this,"updateStallDuration",()=>{if(null!==this.lastStallTime){let{lastStallTime:e}=this;this.playbackPerformance.totalStallDurationMs+=new Date-e,this.lastStallTime=null}}),f(this,"updatePauseDuration",()=>{if(null!==this.lastPauseTime){let{lastPauseTime:e}=this;this.playbackPerformance.totalPauseDurationMs+=new Date-e,this.lastPauseTime=null}}),f(this,"updateWatchDurationForCurrentSegment",()=>{let{segments:e}=this.playbackPerformance,i=e&&e[e.length-1],t=i?i.lastStartPlayTime:null,n=this.getCurrentVideoTime();if(i&&null!==t&&"number"==typeof n&&"number"==typeof t){let e=n-t;e>0&&(i.watchedDurationMs+=e,i.lastStartPlayTime=null)}}),f(this,"logPlaybackPerformance",(e,i)=>{let{contextLogData:t={},userId:n,isAutoPlay:a,logContextEvent:l,preload:r}=this.props,{is_closeup_video:o=!1}=t,{canPlayTime:s,detailedErrors:d,errorCode:u,errorName:c,errorReason:p,hasFatalError:h,loadStartTime:m,totalPauseDurationMs:_,totalStallDurationMs:v,numberOfStalls:f,numberOfSeeks:b,playbackStartTimestamp:P,segments:S,srcString:x}=this.playbackPerformance,k=this.videoPlayerRef&&this.videoPlayerRef.video,w=e===y.DR,T=w&&!this.hasVideoSessionStarted,E=!w&&!this.hasVideoSessionEnded&&this.hasVideoSessionStarted;if(k&&(T||E)){var I;let T=-1;s&&m&&(T=s>m?s-m:0);let E=-1;s&&this.videoVisibleTime&&(E=s>this.videoVisibleTime?s-this.videoVisibleTime:0),w&&(this.videoSessionId=(0,y.Y7)(n),this.playerId=this.playerId||(0,y.EB)());let A=this.getVideoResourceTiming(),R={averageVideoKbps:-1,autoplaying:a,detailedErrors:d,downloadedKiloBytes:"number"==typeof(null==A?void 0:A.decodedBodySize)&&A.decodedBodySize/y.Fm||0,errorCode:u,errorName:c,errorReason:p,fatalError:h,isCellular:!1,nativeVideoDurationMs:k.duration*y.gJ||-1,numberOfStalls:f,numberOfSeeks:b,overallPausedDurationMs:_,overallBufferDurationMs:v,overallWatchedDurationMs:-1,rebufferRate:-1,playbackSessionId:this.videoSessionId,playbackStartTimestamp:P||-1,segments:[],sessionMark:e,screenPixelScale:null!==(I=window)&&void 0!==I&&I.devicePixelRatio?window.devicePixelRatio:-1,startupPlayerWidth:k.clientWidth,startupPlayerHeight:k.clientHeight,startupTimeMs:T,startupLatencyMs:E,startupVariantKbps:-1,startupVariantWatchedDurationMs:-1,startupVariantWidth:k.videoWidth,startupVariantHeight:k.videoHeight,videoUrl:x,wasVideoPreloaded:"auto"===r};if(!w){this.updateWatchDurationForCurrentSegment(),this.updateStallDuration();let e=S.reduce((e,i)=>e+(i.watchedDurationMs||0),0);R.overallWatchedDurationMs=e,R.startupVariantWatchedDurationMs=e,R.segments=this.playbackPerformance.segments,0===e?(R.errorName="invalid_watch_duration",R.rebufferRate=-1):R.rebufferRate=v/e}(0,g.ZP)(R,!1,o,{playbackState:this.state.playbackState,...i});let{view:C,viewParameter:F,component:D,element:L,objectId:j,...O}=t;l({event_type:3606,event_data:{videoPerformanceData:R},view_type:C,view_parameter:F,component:D,element:L,object_id_str:j,aux_data:{...O,is_closeup_video:o,playback_session_id:this.videoSessionId}}),w?(this.hasVideoSessionStarted=!0,this.hasVideoSessionEnded=!1):this.resetPlaybackMetrics(),(0,g.tE)(w?"sessionStart":"sessionEnd",!1,o,{playbackState:this.state.playbackState,...i})}})}componentWillUnmount(){let{loop:e}=this.props;this.updatePauseDuration(),this.logPlaybackPerformance(y.$f,{initiator:"unmount",loop:e})}render(){let{aspectRatio:e,captions:i,controls:t,loop:l,loopOverride:r,objectFit:o,onDurationChange:s,onFullscreenChange:d,onLoadedChange:u,onControlsPlay:c,onPlayheadDown:h,onPlayheadUp:m,onSeek:g,onVolumeChange:y,playbackRate:f,playing:P,playsInline:S,poster:x,preload:k,src:w,volume:T}=this.props,{canPlayVideo:E,videoStartTime:I}=this.state;return(0,v.jsxs)(n.Fragment,{children:[(0,v.jsx)(p.Z,{unsafeCSS:_.P}),(0,v.jsx)(a.nk,{ref:this.setVideoPlayerRef,aspectRatio:e,autoplay:E&&P,captions:i,controls:t,loop:void 0===r?l:r,objectFit:o,onControlsPause:this.handleUserPause,onControlsPlay:c,onDurationChange:s,onEnded:this.handleEnded,onError:this.handleError,onFullscreenChange:d,onLoadedChange:u,onLoadStart:this.handleLoadStart,onPlay:()=>{},onPlayError:()=>{},onPlayheadDown:h,onPlayheadUp:m,onPlaying:this.handlePlaying,onReady:this.handleCanPlayVideo,onSeek:g,onSeeking:this.handleSeeking,onStalled:this.handleStalled,onTimeChange:this.handleTimeUpdate,onVolumeChange:y,onWaiting:this.handleStalled,playbackRate:f,playing:E&&P,playsInline:S,poster:x,preload:k,src:b(w,this.props.quicExpGroup),startTime:I||void 0,volume:T})]})}}let S=(0,n.memo)(function(e){let{logContextEvent:i}=(0,c.v)(),{country:t,isAuthenticated:n,isBot:a,isSocialBot:l,unauthId:s,userAgent:d}=(0,r.B)(),{browserName:p,browserVersion:y,isMobile:_}=d,{contextLogData:f={}}=e,{is_closeup_video:b=!1,view:S,viewParameter:x}=f,{appUI:{appInFocus:k}}=(0,u.I)(),{checkExperiment:w}=(0,h.F)(),{clearSeekTime:T}=(0,o.RC)(),E=null;n&&(E=w("web_video_quic").group.length?w("web_video_quic").group:null);let I=(0,m.Z)();return(0,g.r$)({browserName:p,browserVersion:y,country:t,isAuthenticated:n,isBot:a,is_closeup_video:b,isMobile:_,isSocialBot:l,view:S,viewParameter:x}),(0,v.jsx)(P,{...e,appInFocus:k,clearSeekTime:T,logContextEvent:i,quicExpGroup:E,userId:I.id||s})});function x(e,i,t){var n;return(i="symbol"==typeof(n=function(e,i){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,i||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(i,"string"))?n:String(n))in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}let k=e=>{if(Array.isArray(e)){let i=e.find(e=>"video/m3u8"===e.type);return i?i.src:void 0}return/m3u8$/.test(e)?e:void 0};class w extends n.PureComponent{constructor(e){super(e),x(this,"componentDidUpdate",e=>{var i;e.videoStartTime&&this.props.videoStartTime&&e.videoStartTime<this.props.videoStartTime&&null!==(i=this.videoPlayerRef)&&void 0!==i&&i.video&&(this.videoPlayerRef.video.currentTime=this.props.videoStartTime)}),x(this,"setVideoPlayerRef",e=>{e&&(this.videoPlayerRef=e)}),x(this,"handleOnEnded",({event:e})=>{let{loop:i,onLoop:t,onEnded:n}=this.props;n&&(n({event:e}),this.videoPlayerRef&&this.videoPlayerRef.video&&i&&(this.videoPlayerRef.video.play(),t&&t()))}),x(this,"handlePlaying",e=>{this.props.onPlaying&&this.props.onPlaying(e)});let i=k(e.src);this.state={useHlsVideo:!e.preferMp4&&!(0,l.G6)(e.requestContext.userAgent.browserName)&&!!i}}render(){let{aspectRatio:e,appInFocus:i,backgroundColor:t,captions:n,toggleCaptions:a,clearSeekTime:l,contextLogData:r,controls:o,hlsConfig:d,isAutoPlay:u,loop:c,objectFit:p,onDurationChange:h,onEnded:m,onFullscreenChange:g,onLoadedChange:y,onControlsPause:_,onControlsPlay:f,onPlayheadDown:b,onPlayheadUp:P,onReady:x,onSeek:w,onTimeChange:T,onVolumeChange:E,playbackRate:I,playing:A,playsInline:R,poster:C,preferMp4:F,preload:D,seekTime:L,src:j,videoStartTime:O,visible:K,volume:N}=this.props,{useHlsVideo:M}=this.state,Z=k(j),z={...d,startPosition:O||-1},V=!m&&c;return M&&Z?(0,v.jsx)(s.Z,{appInFocus:i,aspectRatio:e,backgroundColor:t,captions:n,captionsEnabled:a,clearSeekTime:l,contextLogData:r,controls:o,hlsConfig:z,isAutoPlay:u,loop:c,loopOverride:V,objectFit:p,onControlsPause:_,onControlsPlay:f,onDurationChange:h,onEnded:this.handleOnEnded,onFullscreenChange:g,onLoadedChange:y,onPlay:()=>{},onPlayError:()=>{},onPlayheadDown:b,onPlayheadUp:P,onPlaying:this.handlePlaying,onReady:x,onSeek:w,onTimeChange:T,onVolumeChange:E,playbackRate:I,playing:A,playsInline:R,poster:C,preload:D,seekTime:L,setVideoRef:this.setVideoPlayerRef,src:Z,visible:K,volume:N}):(0,v.jsx)(S,{aspectRatio:e,captions:n,captionsEnabled:a,clearSeekTime:l,contextLogData:r,controls:o,isAutoPlay:u,loop:c,loopOverride:V,objectFit:p,onControlsPause:_,onControlsPlay:f,onDurationChange:h,onEnded:this.handleOnEnded,onFullscreenChange:g,onLoadedChange:y,onPlay:()=>{},onPlayError:()=>{},onPlayheadDown:b,onPlayheadUp:P,onPlaying:this.handlePlaying,onReady:x,onSeek:w,onTimeChange:T,onVolumeChange:E,playbackRate:I,playing:A,playsInline:R,poster:C,preload:D,seekTime:L,setVideoRef:this.setVideoPlayerRef,src:F?j:Z||j,videoStartTime:O,visible:K,volume:N})}}function T(e){let{appUI:{appInFocus:i}}=(0,u.I)(),{seekTime:t}=(0,o.Hx)(),{captionsEnabled:n}=(0,d.r)(),{clearSeekTime:a}=(0,o.RC)(),l=(0,r.B)();return(0,v.jsx)(w,{...e,appInFocus:i,clearSeekTime:a,requestContext:l,seekTime:t,toggleCaptions:n})}},944546:(e,i,t)=>{t.d(i,{Ul:()=>l,VS:()=>n,hy:()=>r,iM:()=>a,j4:()=>o});let n=2,a=[0,.01,.02,.03,.04,.05,.06,.07,.08,.09,.1,.11,.12,.13,.14,.15,.16,.17,.18,.19,.2,.21,.22,.23,.24,.25,.26,.27,.28,.29,.3,.31,.32,.33,.34,.35,.36,.37,.38,.39,.4,.41,.42,.43,.44,.45,.46,.47,.48,.49,.5,.51,.52,.53,.54,.55,.56,.57,.58,.59,.6,.61,.62,.63,.64,.65,.66,.67,.68,.69,.7,.71,.72,.73,.74,.75,.76,.77,.78,.79,.8,.81,.82,.83,.84,.85,.86,.87,.88,.89,.9,.91,.92,.93,.94,.95,.96,.97,.98,.99,1],l={backgroundImage:"linear-gradient(to top, rgba(0, 0, 0, .4), rgba(0, 0, 0, 0))",pointerEvents:"none",bottom:0},r=128,o=e=>e&&document.querySelector(`video[poster="${e}"]`)||null},147916:e=>{e.exports="https://s.pinimg.com/webapp/goodIdeaGrid-e3e37a7f.svg"},404247:e=>{e.exports="https://s.pinimg.com/webapp/hahaGrid-7945c718.svg"},86119:e=>{e.exports="https://s.pinimg.com/webapp/loveGrid-1ec7b8e4.svg"},244892:e=>{e.exports="https://s.pinimg.com/webapp/thanksGrid-b3cf8b93.svg"},662502:e=>{e.exports="https://s.pinimg.com/webapp/wowGrid-9e62e75a.svg"}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/AuthDesktopPinRep-a6dfd43ee857c554.mjs.map